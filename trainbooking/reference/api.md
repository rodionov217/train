# API сервиса

## Основные концепции

Обратите внимание, все запросы вам необходимо совершать по основному адресу API:
*https://netology-trainbooking.herokuapp.com*. Например:

```js
fetch( 'https://netology-trainbooking.herokuapp.com/routes/last' )
    .then( response => response.json())
    .then( console.log );
```

Ответ по всем доступным адресам API предоставляется в формате JSON.
Слева от каждого адреса располагается метод запроса: GET или POST.
Справа - адрес запроса относительно хоста (*https://netology-trainbooking.herokuapp.com*).

### Основные функции API

1. [Поиск городов](./api/cities.md)
2. [Поиск направлений](./api/routes.md)
3. [Последние направления](./api/last-routes.md)
4. [Карта поезда (свободные и занятые места в вагонах)](./api/seats.md)
5. [Заказ билетов](./api/order.md)
6. [Подписка на email-новости](./api/subscribe.md)

Учитывайте, что API со своей стороны может возвращать ошибки и их необходимо будет обрабатывать!

## Swagger-документация
В настоящий момент детали работы с API вы можете увидеть, запустив команду
```npm run api```.

Вы увидите интерактивную страницу, на которой сможете протестировать 
работу сервиса.

![Первый экран работы с сервисом Swagger](./images/swagger.png)


### Сведения о запросе и ответе

Для понимания, какие данные необходимо отправлять по соответствующим адресам
и в каком формате, нажмите на интересующий вас цветной блок.

![Детали работы с сервисом Swagger](./images/swagger-details.png)

### Тестирование сервиса

Вы можете отправить на сервер какие-то реальные данные и посмотреть,
какой результат будет, нажав на кнопку «Try it out».

Введите необходимые данные и нажмите «Execute» для отправки данных на сервер.
В колонке Results вы увидите полученную информацию.

![Демо вариант работы с сервисом Swagger](./images/swagger-try.png)

### Разбор результатов

Для того, чтобы понять, что означает каждое поле результата, нажмите на пункт 
«Model» колонки «Description». Для того, чтобы развернуть описание, нажмите
на стрелочку «>»:

![Работа с моделью](./images/swagger-model.png)

![Работа с моделью](./images/swagger-model-2.png)
