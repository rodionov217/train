(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,a,t){e.exports=t(310)},136:function(e,a,t){},310:function(e,a,t){"use strict";t.r(a);var s=t(0),n=t.n(s),c=t(18),r=t.n(c),l=(t(136),t(3)),i=t(33),m=t(12),o=n.a.createContext(),u=function(e){var a=Object(s.useContext)(o),t=e.placeholder,c=e.onSelect,r=Object(s.useState)([]),i=Object(l.a)(r,2),m=i[0],u=i[1],d=Object(s.useState)(!1),E=Object(l.a)(d,2),h=E[0],f=E[1],_=Object(s.useState)(""),p=Object(l.a)(_,2),v=p[0],N=p[1],b=Object(s.useState)(e.value),g=Object(l.a)(b,2),k=g[0],y=g[1];Object(s.useEffect)(function(){},[e.value,k]);var O,S=function(e){var t=e.currentTarget.value;t.match(/[^\u0430-\u044f\u0410-\u044f ]/)||(y(t),a.getCities(t).then(function(e){var a=e.length>0?e.find(function(e){return e.name.startsWith(t)}):"";N(a?a.name:""),f(!0),u(e)}))},w=-1;return n.a.createElement("div",{className:"input-with-icon"},n.a.createElement("span",{className:"trainpicker__hint"},n.a.createElement("span",{className:"trainpicker__hint-transparent"},v.slice(0,k.length)),v.slice(k.length)),n.a.createElement("input",{className:"trainpicker__input trainpicker__input-direction",value:k,onChange:S,onFocus:function(e){var t=e.currentTarget.value||"\u0430";a.getCities(t).then(function(e){N(""),f(!0),u(e)})},onBlur:function(){setTimeout(function(){return f(!1)},1e3)},type:"text",placeholder:t,onKeyDown:function(e){if(O)if("ArrowDown"===e.key)w++,Array.from(O.children).forEach(function(e){return e.classList.remove("suggestion-active")}),w>O.children.length-1&&(w=0),O.children[w].classList.add("suggestion-active");else if("ArrowUp"===e.key)w--,Array.from(O.children).forEach(function(e){return e.classList.remove("suggestion-active")}),w<0&&(w=O.children.length-1),O.children[w].classList.add("suggestion-active");else if("Enter"===e.key){var a=Array.from(O.children).find(function(e){return e.classList.contains("suggestion-active")});if(!a)return;c({name:a.textContent,id:a.dataset.id}),y(a.textContent),N(""),f(!1)}else S(e)}}),n.a.createElement("i",{className:"material-icons trainpicker__icon"},"room"),h&&m.length>0?n.a.createElement("ul",{ref:function(e){return O=e},onClick:function(e){y(e.target.textContent),N(""),c({name:e.target.textContent,id:e.target.dataset.id}),f(!1)},className:"suggestions"},m.map(function(e){return n.a.createElement("li",{key:e._id,"data-id":e._id},e.name)})):null)},d=t(30),E=t(78),h=t(118),f=t.n(h),_=t(127),p=t(31),v=Object(p.createMuiTheme)({overrides:Object(d.a)({MuiPickersCalendarHeader:{daysHeader:{display:"none"}},MuiPickersDay:{day:{fontFamily:"Roboto"},isSelected:{backgroundColor:"rgba(255, 168, 0, 0.31)",border:"2px solid #FFA800",borderRadius:"5px",color:"black","&:hover":{backgroundColor:"rgba(255, 168, 0, 0.31)"}},current:{color:"orange",background:"inherit",border:"none"}},MuiIconButton:{label:{color:"inherit"},root:{padding:0}},MuiFormControl:{root:{width:"100%",display:"block"}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",width:"100%",boxSizing:"border-box",height:"50px"},input:{fontSize:"16px",fontWeight:"100",padding:"0 0 0 10px",width:"100%",border:0,outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px",lineHeight:"1em"},input:{padding:"15.5px"},notchedOutline:{border:"none",outline:"none"},adornedEnd:{paddingRight:"5px"}},MuiSvgIcon:{root:{fill:"#c4c4c4",width:"36px",height:"36px"}}},"MuiIconButton",{root:{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}}})}),N=function(e){var a=Object(s.useState)(e.defaultDate),t=Object(l.a)(a,2),c=t[0],r=t[1],i=e.disablePast,m=e.disableFuture,o=e.adornment,u=e.onDateSelect;return n.a.createElement(p.MuiThemeProvider,{theme:v},n.a.createElement(E.b,{utils:_.a,locale:f.a},n.a.createElement("div",{className:"picker",style:e.style},n.a.createElement(E.a,{keyboard:!0,clearable:!0,onlyCalendar:!0,disableOpenOnEnter:!0,disablePast:i,disableFuture:m,placeholder:"\u0414\u0414/\u041c\u041c/\u0413\u0413\u0413\u0413",invalidDateMessage:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442",minDateMessage:e.minDateMessage||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0443\u044e \u0434\u0430\u0442\u0443",maxDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",variant:"outlined",InputAdornmentProps:o,value:c,onChange:function(e){r(e),u(e)},format:"dd/MM/yyyy",mask:function(e){return e?[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/]:[]}}))))},b=function(e){Object(s.useContext)(o);var a=e.horizontal,t=Object(s.useState)(""),c=Object(l.a)(t,2),r=c[0],i=c[1],d=Object(s.useState)(""),E=Object(l.a)(d,2),h=E[0],f=E[1],_=Object(s.useState)(""),p=Object(l.a)(_,2),v=p[0],b=p[1],g=Object(s.useState)(""),k=Object(l.a)(g,2),y=k[0],O=k[1],S=Object(s.useState)(new Date),w=Object(l.a)(S,2),j=w[0],C=w[1],x=Object(s.useState)(null),T=Object(l.a)(x,2),L=T[0];T[1];return n.a.createElement("form",{className:"trainpicker ".concat(a?"trainpicker-horizontal":"")},a?null:n.a.createElement("div",null,n.a.createElement("h2",{className:"trainpicker__header"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0434\u0430\u0442\u0443 \u043f\u043e\u0435\u0437\u0434\u043a\u0438:")),n.a.createElement("div",{className:"trainpicker__content ".concat(a?"trainpicker__content-horizontal":""," ")},n.a.createElement("label",{className:"trainpicker_label"},"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),n.a.createElement("div",{className:"trainpicker__inputs"},n.a.createElement(u,{value:r,placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",onSelect:function(e){i(e.name),f(e.id)}}),n.a.createElement("div",{onClick:function(){i(v),b(r)},className:"trainpicker__reverse",type:"checkbox",name:"reverse",id:"reverse"},n.a.createElement("i",{className:"fas fa-exchange-alt"})),n.a.createElement(u,{value:v,placeholder:"\u041a\u0443\u0434\u0430",onSelect:function(e){b(e.name),O(e.id)}}))),n.a.createElement("div",{className:"trainpicker__content ".concat(a?"trainpicker__content-horizontal":""," ")},n.a.createElement("label",{className:"trainpicker_label"},"\u0414\u0430\u0442\u0430"),n.a.createElement("div",{className:"trainpicker__inputs"},n.a.createElement(N,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDate=e,C(e)},defaultDate:new Date}))),n.a.createElement("button",{onClick:function(e){return e.preventDefault()},type:"submit",disabled:!(r&&v),className:"trainpicker__button ".concat(a?"trainpicker__button-horizontal":""," ")},r&&v?n.a.createElement(m.b,{to:"/search",onClick:function(){e.setSearchParams({from:{name:r,id:h},to:{name:v,id:y},date:j.toISOString().substr(0,10),dateBack:L&&L.toISOString().substr(0,10)}),"/"!==e.location.pathname&&window.scrollTo({top:document.querySelector(".col-right").offsetTop,behavior:"smooth"})}},"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"):"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"))},g=function(e){var a=e.location.pathname;return"/success"===a?n.a.createElement("section",{className:"main-search main-search-success"}):"/"!==a?n.a.createElement("section",{className:"main-search"},n.a.createElement(b,Object.assign({horizontal:!0},e))):"/"===a?n.a.createElement("section",{className:"main",id:"main"},n.a.createElement("div",{class:"overlay"}),n.a.createElement("div",{className:"main__motto"},n.a.createElement("div",{className:"motto"},"\u0412\u0441\u044f \u0436\u0438\u0437\u043d\u044c -",n.a.createElement("div",{className:"motto-bold"},"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435!"))),n.a.createElement("div",{className:"main__picker"},n.a.createElement(b,e))):void 0},k=function(e){var a,t,c,r;return Object(s.useEffect)(function(){a=document.getElementById("about"),t=document.getElementById("features"),c=document.getElementById("reviews"),r=document.getElementById("footer"),e.setHomepageRefs({about:a.offsetTop,features:t.offsetTop,reviews:c.offsetTop,footer:r.offsetTop})},[a]),window.onresize=function(){a=document.getElementById("about"),t=document.getElementById("features"),c=document.getElementById("reviews"),r=document.getElementById("footer"),e.setHomepageRefs({about:a.offsetTop,features:t.offsetTop,reviews:c.offsetTop,footer:r.offsetTop})},n.a.createElement(s.Fragment,null,n.a.createElement(y,null),n.a.createElement(O,null),n.a.createElement(S,null))},y=function(){return n.a.createElement("section",{className:"about",id:"about"},n.a.createElement("div",{className:"about__title"},n.a.createElement("h2",null,"\u041e \u043d\u0430\u0441")),n.a.createElement("div",{className:"about__text"},n.a.createElement("div",{className:"about__deco"}),n.a.createElement("div",{className:"about__items"},n.a.createElement("p",{className:"about__item"},"\u041c\u044b \u0440\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0441! \u041c\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0434\u043b\u044f \u0412\u0430\u0441 \u0441 2003 \u0433\u043e\u0434\u0430. 15 \u043b\u0435\u0442 \u043c\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c, \u043a\u0430\u043a \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),n.a.createElement("p",{className:"about__item"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043e\u043d\u043b\u0430\u0439\u043d \u0432\u0441\u0435\u0433\u043e \u0432 2 \u043a\u043b\u0438\u043a\u0430, \u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c? \u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0437\u0430\u043a\u0430\u0437\u0430 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),n.a.createElement("p",{className:"about__item about__item-bold"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0435\u0448\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430 90 \u0441\u0443\u0442\u043e\u043a \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0435\u0437\u0434\u0430. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0446\u0435\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u0430 \u043d\u0430 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u0430\u044f \u043d\u0438\u0437\u043a\u0430\u044f."))))},O=function(){return n.a.createElement("section",{className:"features",id:"features"},n.a.createElement("div",{className:"description"},n.a.createElement("h2",{className:"description__title"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"),n.a.createElement("button",{className:"description__button"},"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435")),n.a.createElement("div",{className:"features__items"},n.a.createElement("div",{className:"features__item features__item-monitor"},"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"),n.a.createElement("div",{className:"features__item features__item-office"},"\u041d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0435\u0445\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0441"),n.a.createElement("div",{className:"features__item features__item-globe"},"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439")))},S=function(){return n.a.createElement("section",{className:"reviews",id:"reviews"},n.a.createElement("h2",{className:"reviews__title"},"\u041e\u0442\u0437\u044b\u0432\u044b"),n.a.createElement("div",{className:"reviews__slide"},n.a.createElement("div",{className:"review"},n.a.createElement("img",{className:"review__avatar",src:"https://i.ibb.co/Z1RgQdZ/av-1.png",alt:"av"}),n.a.createElement("div",{className:"review__content"},n.a.createElement("h4",{className:"review__author"},"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430"),n.a.createElement("p",{className:"review__text"},"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."))),n.a.createElement("div",{className:"review"},n.a.createElement("img",{className:"review__avatar",src:"https://i.ibb.co/47wFWkj/av-2.png",alt:"av"}),n.a.createElement("div",{className:"review__content"},n.a.createElement("h4",{className:"review__author"},"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e"),n.a.createElement("p",{className:"review__text"},"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438. \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435.")))),n.a.createElement("div",{className:"carousel"},n.a.createElement("div",{className:"carousel__controls"},n.a.createElement("span",{className:"carousel__item carousel__item-active"}),n.a.createElement("span",{className:"carousel__item"}),n.a.createElement("span",{className:"carousel__item"}),n.a.createElement("span",{className:"carousel__item"}),n.a.createElement("span",{className:"carousel__item"}))))},w=function(e){var a=e.location.pathname,t=[{step:"/search/seats",title:"\u0411\u0438\u043b\u0435\u0442\u044b"},{step:"/passengers",title:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"},{step:"/payment",title:"\u041e\u043f\u043b\u0430\u0442\u0430"},{step:"/confirmation",title:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"}],s=function(e,s){return e.step.match(a)||s<=t.findIndex(function(e){return e.step===a})};return n.a.createElement("section",{className:"progress"},t.map(function(e,a){return n.a.createElement("div",{className:"progress__step ".concat(s(e,a)?"progress__step-current":"")},n.a.createElement("span",{className:"number"},a+1),n.a.createElement("span",{className:"progress__text"},e.title),3===a?null:n.a.createElement("div",{className:"progress__arrow ".concat(s(e,a)?"progress__arrow-current":"")}))}))},j=function(e){var a=e.homepageRefs,t=function(t){var s={top:a[t.currentTarget.dataset.id],behavior:"smooth"};"/"===e.location.pathname&&t.preventDefault(),window.scrollTo(s)};return n.a.createElement(s.Fragment,null,n.a.createElement("section",{className:"header"},n.a.createElement("div",{className:"logo"},n.a.createElement(m.b,{className:"logo__link",to:"/"},n.a.createElement("h1",null,"TrainBooking"))),n.a.createElement("nav",{className:"menu"},n.a.createElement("ul",{className:"nav"},n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{onClick:t,className:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"features",className:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"reviews",className:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"footer",className:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")))),n.a.createElement("nav",{className:"menu-dropdown"},n.a.createElement("div",{onClick:function(e){e.currentTarget.nextElementSibling.classList.toggle("hidden"),Array.from(e.currentTarget.children).forEach(function(e){return e.classList.toggle("hidden")})},className:"menu-burger"},n.a.createElement("i",{className:"fas fa-bars"}),n.a.createElement("i",{className:"far fa-window-close hidden"})),n.a.createElement("ul",{className:"nav hidden"},n.a.createElement("li",null),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{onClick:t,className:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"features",className:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"reviews",className:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),n.a.createElement("li",{className:"nav__item"},n.a.createElement(m.b,{to:"/",onClick:t,"data-id":"footer",className:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"))))),n.a.createElement(g,e),"/"===e.location.pathname||"/success"===e.location.pathname?null:n.a.createElement(w,e))},C=function(){var e=Object(s.useContext)(o),a=Object(s.useState)(""),t=Object(l.a)(a,2),c=t[0],r=t[1],i=Object(s.useState)(!1),u=Object(l.a)(i,2),d=u[0],E=u[1],h=Object(s.useState)(!1),f=Object(l.a)(h,2),_=f[0],p=f[1];return n.a.createElement("footer",{className:"footer",id:"footer"},n.a.createElement("div",{className:"footer footer-main"},n.a.createElement("div",{className:"contacts"},n.a.createElement("h3",{className:"footer__title"},"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"),n.a.createElement("ul",{className:"contacts__list"},n.a.createElement("li",{className:"contacts__item contacts__item-phone"},"8 (800) 000 00 00"),n.a.createElement("li",{className:"contacts__item contacts__item-email"},"inbox@mail.ru"),n.a.createElement("li",{className:"contacts__item contacts__item-skype"},"tu.train.tickets"),n.a.createElement("li",{className:"contacts__item contacts__item-address"}," \u0433. \u041c\u043e\u0441\u043a\u0432\u0430 ",n.a.createElement("br",null)," \u0443\u043b. \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f 27-35 ",n.a.createElement("br",null),"  555 555"))),n.a.createElement("div",{className:"subscription"},n.a.createElement("h3",{className:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),n.a.createElement("form",{onSubmit:function(a){a.preventDefault(),/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\.)+[a-z]{2,6}$/.test(c)?(e.subscribe(c),E(!1),p(!0),r("")):E(!0)},action:"",className:"subscription-form"},n.a.createElement("label",{className:"subscription-form__label"},"\u0411\u0443\u0434\u044c\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),n.a.createElement("div",null,n.a.createElement("input",{value:c,onChange:function(e){var a=e.target.value;a.match(/[^a-zA-Z0-9,_,-,@,.]/)||r(a)},className:"subscription-form__input",type:"email",name:"subscription",placeholder:"e-mail"}),n.a.createElement("div",{style:{visibility:d?"visible":"hidden"},className:"subscription_hint"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")),n.a.createElement("button",{className:"subscription-form__button",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),n.a.createElement("div",{style:{visibility:_?"visible":"hidden"},className:"subscription_thankyou"},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!")),n.a.createElement("h3",{className:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0441"),n.a.createElement("ul",{className:"social"},n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-youtube"},n.a.createElement("i",{className:"fab fa-youtube"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-linkedIn"},n.a.createElement("i",{className:"fab fa-linkedin-in"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-googlePlus"},n.a.createElement("i",{className:"fab fa-google-plus-g"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-facebook"},n.a.createElement("i",{className:"fab fa-facebook-f"}))),n.a.createElement("li",{className:"social__item"},n.a.createElement("a",{href:"",className:"social__link social__link-twitter"},n.a.createElement("i",{className:"fab fa-twitter"})))))),n.a.createElement("div",{className:"footer-additional"},n.a.createElement("div",{className:"footer__logo"},n.a.createElement(m.b,{className:"logo__link",to:"/"},"TrainBooking")),n.a.createElement("div",{className:"footer__home-arrow",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}}),n.a.createElement("div",{className:"footer__copyright"},"2019 WEB")))},x=t(57),T=t(56),L=t(120),D=t(128),P=t(121),F=t(129),M=t(122),I=t.n(M),B=t(123),J=t.n(B),R=t(124),z=t.n(R),A=function(e){function a(){var e,t;Object(T.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(t=Object(D.a)(this,(e=Object(P.a)(a)).call.apply(e,[this].concat(n)))).state={checkedA:!0,checkedB:!0},t.handleChange=function(e){return function(a){t.props.onChange(),t.setState(Object(d.a)({},e,a.target.checked))}},t}return Object(F.a)(a,e),Object(L.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.classes,s=a.label,c=[{name:"second-class",value:"\u043a\u0443\u043f\u0435"},{name:"third-class",value:"\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"},{name:"first-class",value:"\u043b\u044e\u043a\u0441"},{name:"fourth-class",value:"\u0441\u0438\u0434\u044f\u0447\u0438\u0439"},{name:"express",value:"\u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},{name:"wi-fi",value:"wi-fi"}];return n.a.createElement("div",null,n.a.createElement(I.a,{row:!0},n.a.createElement(J.a,{style:{width:"80%",justifyContent:"space-between",color:"#ffffff"},classes:{label:s},label:n.a.createElement("label",{className:"switches_label "+(e=s,c.find(function(a){return a.value===e.toLowerCase()}).name),style:{color:"#fff",marginRight:"1rem"}},s),labelPlacement:"start",control:n.a.createElement(z.a,{checked:this.props.checked,onChange:this.handleChange("checkedA"),value:"checkedA",classes:{switchBase:t.colorSwitchBase,checked:t.colorChecked,bar:t.colorBar,icon:t.icon}})})))}}]),a}(n.a.Component),W=Object(p.withStyles)(function(e){return{colorSwitchBase:{color:"#c4c4c4","& + $colorBar":{backgroundColor:"#ffffff",border:"1px solid #3E3C41",opacity:1,width:"100%"},"&$colorChecked":{color:"#FFA800",position:"relative",left:"30px","& + $colorBar":{backgroundColor:"#FCDC90",opacity:1}}},icon:{marginTop:"2px"},colorBar:{},colorChecked:{},label:{color:"#fff"}}})(A),H=function(e){var a=e.first,t=e.second,s=e.third,c=e.fourth,r=e.setFirst,l=e.express,i=e.wifi,m=e.setSecond,o=e.setThird,u=e.setFourth,d=e.setExpress,E=e.setWifi;return n.a.createElement("div",null,n.a.createElement(W,{checked:t,onChange:m,label:"\u041a\u0443\u043f\u0435"}),n.a.createElement(W,{checked:s,onChange:o,label:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"}),n.a.createElement(W,{checked:c,onChange:u,label:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"}),n.a.createElement(W,{checked:a,onChange:r,label:"\u041b\u044e\u043a\u0441"}),n.a.createElement(W,{checked:l,onChange:d,label:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"}),n.a.createElement(W,{checked:i,onChange:E,label:"Wi-Fi"}))},q=function(e){Object(s.useContext)(o);var a=e.searchParams||JSON.parse(sessionStorage.searchParams),t=Object(s.useState)({from:500,to:7e3}),c=Object(l.a)(t,2),r=c[0],i=c[1],m=Object(s.useState)({from:0,to:24}),u=Object(l.a)(m,2),d=u[0],E=u[1],h=Object(s.useState)({from:0,to:24}),f=Object(l.a)(h,2),_=f[0],p=f[1],v=Object(s.useState)(!1),N=Object(l.a)(v,2),b=N[0],g=N[1],k=Object(s.useState)(!0),y=Object(l.a)(k,2),O=y[0],S=y[1],w=Object(s.useState)(!1),j=Object(l.a)(w,2),C=j[0],T=j[1],L=Object(s.useState)(!1),D=Object(l.a)(L,2),P=D[0],F=D[1],M=Object(s.useState)(!1),I=Object(l.a)(M,2),B=I[0],J=I[1],R=Object(s.useState)(!0),z=Object(l.a)(R,2),A=z[0],W=z[1];a.filters="price_from=".concat(r.from,"&price_to=").concat(r.to).concat(b?"&have_first_className=true":"").concat(O?"&have_second_className=true":"").concat(C?"&have_third_className=true":"").concat(P?"&have_fourth_className=true":"").concat(A?"&have_wifi=true":"").concat(B?"&have_express=true":"");var q,V=function(){q.classList.toggle("minimized")};return n.a.createElement("div",{className:"filters-container"},n.a.createElement("div",{onClick:V,className:"filter-cog"},n.a.createElement("i",{className:"fas fa-cog"}),n.a.createElement("i",{className:"far fa-window-close hidden"})),n.a.createElement("form",{ref:function(e){return q=e},action:"",className:"search-form minimized"},n.a.createElement("fieldset",{onClick:V,className:"search-form__set"},n.a.createElement("h2",null,"\u0424\u0438\u043b\u044c\u0442\u0440")),n.a.createElement("fieldset",{className:"seat-types"},n.a.createElement(H,{first:b,second:O,third:C,fourth:P,express:B,wifi:A,setFirst:function(){return g(!b)},setSecond:function(){return S(!O)},setThird:function(){return T(!C)},setFourth:function(){return F(!P)},setExpress:function(){return J(!B)},setWifi:function(){return W(!A)}})),n.a.createElement("fieldset",{className:"cost-picker"},n.a.createElement("label",{className:"trainpicker_label"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),n.a.createElement(x.a,{onChange:function(e){return i({from:e.from,to:e.to})},type:"double",grid:!1,from:r.from,to:r.to,min:500,max:7e3,hide_min_max:!0,skin:"material"})),n.a.createElement("fieldset",{className:"time-picker"},n.a.createElement("label",{className:"trainpicker_label"},"\u0412\u0440\u0435\u043c\u044f"),n.a.createElement("label",{className:"range-picker_label",for:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),n.a.createElement(x.a,{onChange:function(e){return E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),n.a.createElement("label",{className:"range-picker_label",for:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(x.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:_.from,to:_.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})),n.a.createElement("fieldset",{className:"filters__buttons"},n.a.createElement("button",{onClick:function(t){t.preventDefault(),e.update(a.filters)},className:"filters__button"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),n.a.createElement("button",{onClick:function(e){e.preventDefault(),i({from:500,to:7e3}),E({from:0,to:24}),p({from:0,to:24}),a.filters="",window.location.href="/search"},className:"filters__button"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"))))},V=function(){return n.a.createElement("div",{className:"last-tickets"},n.a.createElement("h2",{className:"last-tickets_title"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"),n.a.createElement("div",{className:"last-tickets_card"},n.a.createElement("div",{className:"last-tickets_directions"},n.a.createElement("div",{className:"last-tickets_from"},n.a.createElement("div",{className:"train-schedule_city"},"\u0421\u0430\u043c\u0430\u0440\u0430"),n.a.createElement("div",{className:"train-schedule_station"},"\u041a\u0443\u0440\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b")),n.a.createElement("div",{className:"last-tickets_to"},n.a.createElement("div",{className:"train-schedule_city"},"\u041c\u043e\u0441\u043a\u0432\u0430"),n.a.createElement("div",{className:"train-schedule_station"},"\u0420\u0438\u0436\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b"))),n.a.createElement("div",{className:"last-tickets_info"},n.a.createElement("div",{className:"last-tickets_labels"},n.a.createElement("span",{className:"switches_label wi-fi"}),n.a.createElement("span",{className:"switches_label express"}),n.a.createElement("span",{className:"switches_label breakfast"})),n.a.createElement("div",{className:"last-tickets_price"},n.a.createElement("span",null,"3 500")))))},$=function(e){var a=e.info,t=e.showTravelTime,s=Math.floor(a.duration/60/60),c=(new Date(1e3*a.duration).toLocaleTimeString("ruRu",{hour:"numeric",minute:"numeric"}),Math.floor(a.duration/60%60));return n.a.createElement("div",{className:"train-schedule"},n.a.createElement("div",{className:"train-schedule_way"},n.a.createElement("div",{className:"train-schedule_from"},n.a.createElement("h4",{className:"train-schedule_time"},new Date(1e3*a.from.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{className:"train-schedule_city"},a.from.city.name),n.a.createElement("div",{className:"train-schedule_station"},a.from.railway_station_name)),n.a.createElement("div",{className:"train-schedule_travel-arrow"},t?n.a.createElement("span",null,s," \u0447 ",c," \u043c\u0438\u043d"):null,n.a.createElement("i",{className:"material-icons"},"arrow_forward")),n.a.createElement("div",{className:"train-schedule_to"},n.a.createElement("h4",{className:"train-schedule_time"},new Date(1e3*a.to.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{className:"train-schedule_city"},a.to.city.name),n.a.createElement("div",{className:"train-schedule_station"},a.to.railway_station_name))))},Z=function(e){var a=e.departure;return n.a.createElement("div",{className:"train"},n.a.createElement("div",{className:"train-info"},n.a.createElement("div",{className:"train-icon"}),n.a.createElement("h4",{className:"train-info_number"},a.train.name),n.a.createElement("div",{className:"train-info_destination"},n.a.createElement("div",{className:"train-info_name"},a.from.city.name),n.a.createElement("div",{className:"train-info_name"},a.to.city.name))),n.a.createElement($,{info:a,showTravelTime:!0}),n.a.createElement("div",{className:"train-seats"},n.a.createElement("ul",{className:"train-seats_list"},a.have_fourth_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.fourth),n.a.createElement("span",{className:"train-seats_price"},a.price_info.fourth.top_price)):null,a.have_third_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.third),n.a.createElement("span",{className:"train-seats_price"},a.price_info.third.top_price)):null,a.have_second_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041a\u0443\u043f\u0435"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.second),n.a.createElement("span",{className:"train-seats_price"},a.price_info.second.top_price)):null,a.have_first_class?n.a.createElement("li",null,n.a.createElement("span",{className:"train-seats_type"},"\u041b\u044e\u043a\u0441"),n.a.createElement("span",{className:"train-seats_amount"},a.available_seats_info.first),n.a.createElement("span",{className:"train-seats_price"},a.price_info.first.top_price)):null),n.a.createElement("div",null,n.a.createElement("div",{className:"train-seats_icons"},a.have_wifi?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c wi-fi"},n.a.createElement("i",{className:"fas fa-wifi"})):null,a.have_air_conditioning?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"},n.a.createElement("i",{className:"far fa-snowflake"})):null,a.is_express?n.a.createElement("span",{title:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},n.a.createElement("span",{className:"rocket"})):null),n.a.createElement("div",{className:"train-seats_button-container"},n.a.createElement(m.b,{className:"train-seats_button",to:"/seats",onClick:function(){return e.setCurrentTrain(a)}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u0430")))))},Y=function(e){var a=e.trains,t=e.count,s=e.limit,c=e.currentPage,r=e.setCurrentPage,l=new Array(Math.ceil(t/s)).fill("");return t>0&&a.length>0?n.a.createElement("div",{className:"pagination",onClick:function(e){if(e.target.classList.contains("page")){if(e.target.classList.contains("page-previous")&&c>1)r(c-1);else if(e.target.classList.contains("page-next")&&c<l.length)r(c+1);else{if((1===c||c===l.length)&&(e.target.classList.contains("page-previous")||e.target.classList.contains("page-next")))return;r(+e.target.textContent)}var a=document.querySelector(".col-right").offsetTop;window.scrollTo({top:a,behavior:"smooth"})}}},t>1&&n.a.createElement("i",{className:"fas fa-chevron-left page page-previous"}),n.a.createElement("ul",null,l.map(function(e,a){return n.a.createElement("li",{className:c===a+1?"page page-current":"page"},a+1)})),t>1&&n.a.createElement("i",{className:"fas fa-chevron-right page page-next"})):null},Q=function(e){var a=Object(s.useContext)(o),t=e.trains,c=e.setTrains;console.log(t);var r=e.searchParams||JSON.parse(sessionStorage.searchParams),i=Object(s.useState)(!1),m=Object(l.a)(i,2),u=m[0],d=m[1],E=Object(s.useState)(0),h=Object(l.a)(E,2),f=h[0],_=h[1],p=Object(s.useState)("duration"),v=Object(l.a)(p,2),N=v[0],b=v[1],g=Object(s.useState)(5),k=Object(l.a)(g,2),y=k[0],O=k[1],S=Object(s.useState)(0),w=Object(l.a)(S,2),j=w[0],C=w[1],x=Object(s.useState)(1),T=Object(l.a)(x,2),L=T[0],D=T[1],P=function(e){r.filters=e,a.getRoutes(r,N,y,j).then(function(e){sessionStorage.trains=JSON.stringify(e.items);var a=0===e.items.length?0:e.total_count;_(a),c(e.items),0===e.items.length&&d(!0)})};Object(s.useEffect)(function(){P()},[r.from.name,r.to.name,N,y,j]);return n.a.createElement(s.Fragment,null,n.a.createElement("section",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(q,Object.assign({},e,{update:P})),n.a.createElement(V,null)),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"results-display"},n.a.createElement("div",{className:"trains-count"},n.a.createElement("span",{className:"results-option"},"\u041d\u0430\u0439\u0434\u0435\u043d\u043e"),n.a.createElement("span",null,f)),n.a.createElement("div",{className:"sort"},n.a.createElement("span",{className:"results-option"},"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("ul",{onClick:function(e){var a=e.currentTarget,t=e.target;a.classList.toggle("sort_list-open"),Array.from(a.children).forEach(function(e){return e.classList.remove("sort-by-current")}),t.classList.add("sort-by-current"),b(t.dataset.sort),D(1)},className:"sort_list"},n.a.createElement("li",{className:"sort-by","data-sort":"date"},"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),n.a.createElement("li",{className:"sort-by sort-by-current","data-sort":"duration"},"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"))),n.a.createElement("div",{className:"limit"},n.a.createElement("span",{className:"results-option"},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("ul",{className:"limit_list",onClick:function(e){if(e.target.classList.contains("limit-by")){var a=e.currentTarget,t=e.target;Array.from(a.children).forEach(function(e){return e.classList.remove("limit-by-current")}),t.classList.add("limit-by-current"),O(t.dataset.limit),D(1)}}},n.a.createElement("li",{className:"limit-by limit-by-current","data-limit":5},"5"),n.a.createElement("li",{className:"limit-by","data-limit":10},"10"),n.a.createElement("li",{className:"limit-by","data-limit":20},"20")))),t.length>0?t.map(function(a){return n.a.createElement(Z,{departure:a.departure,currentTrain:e.currentTrain,setCurrentTrain:e.setCurrentTrain})}):u?n.a.createElement("div",{className:"not-found-notice"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430."):n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"loader_image"})),n.a.createElement(Y,{trains:t,count:f,limit:y,currentPage:L,setCurrentPage:function(e){C(y*(e-1)),D(e)}}))))},G=function(e){var a=e.info,t=Math.floor(a.duration/18e3),s=Math.floor(a.duration/18e3%1*60);return n.a.createElement("div",{className:"current-train"},n.a.createElement("div",{className:"train-icon"}),n.a.createElement("div",{className:"train-info"},n.a.createElement("h4",{className:"train-info_number"},a.train.name),n.a.createElement("div",null,n.a.createElement("div",{className:"train-info_name"},a.from.city.name),n.a.createElement("div",{className:"train-info_name"},a.to.city.name))),n.a.createElement($,{info:a,showTravelTime:!1}),n.a.createElement("div",{className:"current-train_travel-time"},n.a.createElement("div",{className:"travel-time_icon"}),n.a.createElement("div",{className:"travel-time_text"},n.a.createElement("div",{className:"hours"},t," \u0447"),n.a.createElement("div",{className:"hours"},s," \u043c\u0438\u043d"))))},K=function(e){var a=e.passengers,t=e.setAdultSeats,c=e.setChildrenSeats,r=e.setChildrenWithoutSeats,i=Object(s.useState)(a.adults+a.children),m=Object(l.a)(i,2),o=m[0],u=(m[1],function(e){var s=function(a){return"inc"===e.currentTarget.dataset.op?a+1:a-1};switch(e.currentTarget.dataset.name){case"children":o<=4&&c(s(a.children));break;case"childrenwithoutSeats":o<=4&&r(s(a.childrenWithoutSeats));break;case"adults":t(s(a.adults));break;default:return}});return n.a.createElement("div",{className:"tickets-number"},n.a.createElement("h2",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432"),n.a.createElement("form",{className:"tickets-number_boxes"},n.a.createElement("div",{className:"tickets-number_box"},n.a.createElement("div",{className:"tickets-number_count"},n.a.createElement("div",{className:"tickets-number_title"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445:"),n.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"adults",onClick:u},"\u2013"),n.a.createElement("span",{className:"tickets-number_counter"},a.adults),n.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"adults",onClick:u},"+")),n.a.createElement("div",{className:"tickets-number_hint"},4-a.adults-a.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-a.adults-a.children," \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"):"\u0412 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043a\u0430\u0437\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 4 \u0431\u0438\u043b\u0435\u0442\u043e\u0432")),n.a.createElement("div",{className:"tickets-number_box"},n.a.createElement("div",{className:"tickets-number_count"},n.a.createElement("div",{className:"tickets-number_title"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0445: "),n.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"children",onClick:u},"\u2013"),n.a.createElement("span",{className:"tickets-number_counter"},a.children),n.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"children",onClick:u},"+")),n.a.createElement("div",{className:"tickets-number_hint"},4-a.adults-a.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-a.adults-a.children," \u0434\u0435\u0442\u0435\u0439 \u0434\u043e 10 \u043b\u0435\u0442"):"4 \u0431\u0438\u043b\u0435\u0442\u0430 \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"))))},U=function(e){var a=e.currentType,t=e.coaches,c=e.setCurrentType,r=e.currentCoach,i=e.setCurrentCoach,m=function(e){return e===a?"car-type_item-active":""},o=function(e){return e.match(/\d/g)},u=function(e){a!==e.currentTarget.dataset.type&&c(e.currentTarget.dataset.type)},d=Object(s.useState)(t[0]),E=Object(l.a)(d,2);E[0],E[1];return Object(s.useEffect)(function(){i(t[0])},[a]),n.a.createElement("div",{className:"car-type"},n.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0432\u0430\u0433\u043e\u043d\u0430"),n.a.createElement("ul",{className:"car-type_icons"},n.a.createElement("li",{onClick:u,"data-type":"fourth",className:"car-type_item car-type_item-fourth-class "+m("fourth")},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("li",{onClick:u,"data-type":"third",className:"car-type_item car-type_item-third-class "+m("third")},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("li",{onClick:u,"data-type":"second",className:"car-type_item car-type_item-second-class "+m("second")},"\u041a\u0443\u043f\u0435"),n.a.createElement("li",{onClick:u,"data-type":"first",className:"car-type_item car-type_item-first-class "+m("first")},"\u041b\u044e\u043a\u0441")),t.length>0&&r?n.a.createElement(s.Fragment,null,n.a.createElement("div",{className:"car-number_switch"},"\u0412\u0430\u0433\u043e\u043d\u044b:",n.a.createElement("ul",{className:"car-number_list"},t.map(function(e,a){return n.a.createElement("li",{key:a,className:e.coach.name===r.coach.name?"current-car-number":"",onClick:function(){return i(e)}},o(e.coach.name))})),n.a.createElement("span",null,"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u0433\u043e\u043d\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u043e\u043b\u043e\u0432\u044b \u043f\u043e\u0435\u0437\u0434\u0430")),n.a.createElement("div",{className:"car-main"},n.a.createElement("div",{className:"car-number"},n.a.createElement("h2",null,o(r.coach.name)),n.a.createElement("span",null,"\u0432\u0430\u0433\u043e\u043d")),n.a.createElement("div",{className:"seats-info"},n.a.createElement("div",null,n.a.createElement("span",{className:"seats-info_title"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u0430:"),"second"===a||"third"===a?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u0412\u0435\u0440\u0445\u043d\u0438\u0435"),n.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435")):"first"===a?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435"),n.a.createElement("span",null)):n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u0421\u0438\u0434\u044f\u0447\u0438\u0435"),n.a.createElement("span",null))),n.a.createElement("div",null,n.a.createElement("span",{className:"seats-info_title"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),"second"===a||"third"===a?n.a.createElement(s.Fragment,null,n.a.createElement("span",{className:"seats-info_price"},r.coach.top_price),n.a.createElement("span",{className:"seats-info_price"},r.coach.bottom_price)):n.a.createElement(s.Fragment,null,n.a.createElement("span",{className:"seats-info_price"},r.coach.top_price),n.a.createElement("span",null))),n.a.createElement("div",null,n.a.createElement("span",{className:"seats-info_title"},"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"),n.a.createElement("ul",{className:"seats-info_services"},r.coach.have_air_conditioning?n.a.createElement("li",{className:"seats-info_service seats-info_service-air"},n.a.createElement("span",null)):null,r.coach.have_wifi?n.a.createElement("li",{className:"seats-info_service seats-info_service-wifi"},n.a.createElement("span",null)):null,r.coach.is_linens_included?n.a.createElement("li",{className:"seats-info_service seats-info_service-linens"},n.a.createElement("span",null)):null,n.a.createElement("li",{className:"seats-info_service seats-info_service-food"},n.a.createElement("span",null))))))):n.a.createElement("div",{className:"car-number_switch"},"\u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u0435\u0437\u0434\u0435 \u043d\u0435\u0442 \u043c\u0435\u0441\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430"))},X=function(e){var a,t,c=e.type,r=e.coach,l=e.passengers,i=e.chosen,m=e.setChosen,o=e.cancelChosen,u=e.setTotalPrice,d=e.topPrice,E=e.bottomPrice,h=e.sidePrice,f=function(e){return e%2===0?d:E};switch(Object(s.useEffect)(function(){var e=document.querySelectorAll(".scheme_seat");i.length===l?e.forEach(function(e){e.classList.contains("scheme_seat-free")&&!e.classList.contains("scheme_seat-chosen")&&e.classList.add("scheme_seat-inactive")}):e.forEach(function(e){return e.classList.remove("scheme_seat-inactive")})},[i,l]),c){case"first":a=ee,t=function(){return E};break;case"second":a=ae,t=f;break;case"third":a=te,t=function(e){return e>36?h:f(e)};break;case"fourth":a=se,t=function(){return E};break;default:return}return n.a.createElement("div",{className:"car-scheme"},n.a.createElement("div",{className:"car-hint"},"second"===c||"third"===c?"\u041d\u0438\u0436\u043d\u0438\u0435 - \u043d\u0435\u0447\u0435\u0442\u043d\u044b\u0435, \u0432\u0435\u0440\u0445\u043d\u0438\u0435 - \u0447\u0435\u0442\u043d\u044b\u0435":"\u0412 \u043e\u0434\u0438\u043d \u0437\u0430\u043a\u0430\u0437 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 4 \u043c\u0435\u0441\u0442"),n.a.createElement("div",{className:"scheme_car-number",title:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430"},n.a.createElement("span",null,r.coach.name.match(/\d/g))),n.a.createElement("div",{className:"scheme",onClick:function(e){if(e.target.classList.contains("scheme_seat")&&e.target.classList.contains("scheme_seat-free")){var a=e.target,s=+a.textContent;a.classList.contains("scheme_seat-chosen")?(a.classList.remove("scheme_seat-chosen"),o(s),u(-t(s))):a.classList.contains("scheme_seat-free")&&i.length<l&&(e.target.classList.add("scheme_seat-chosen"),m(s),u(t(s)))}}},n.a.createElement(a,null)))},ee=function(){return n.a.createElement("div",{className:"scheme_train-first-class"},n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{className:"scheme_seat"},"2")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"3"),n.a.createElement("div",{className:"scheme_seat"},"4")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"5"),n.a.createElement("div",{className:"scheme_seat"},"6")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"7"),n.a.createElement("div",{className:"scheme_seat"},"8")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"9"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"10")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"11"),n.a.createElement("div",{className:"scheme_seat"},"12")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat"},"13"),n.a.createElement("div",{className:"scheme_seat"},"14")),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"15"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"16")))},ae=function(){return n.a.createElement("div",{className:"scheme_train-second-class"},n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{className:"scheme_seat"},"2")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"3"),n.a.createElement("div",{className:"scheme_seat"},"4"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"5"),n.a.createElement("div",{className:"scheme_seat"},"6")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"7"),n.a.createElement("div",{className:"scheme_seat"},"8"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"9"),n.a.createElement("div",{className:"scheme_seat"},"10")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"11"),n.a.createElement("div",{className:"scheme_seat"},"12"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"13"),n.a.createElement("div",{className:"scheme_seat"},"14")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"15"),n.a.createElement("div",{className:"scheme_seat"},"16"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"17"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"18")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"19"),n.a.createElement("div",{className:"scheme_seat"},"20"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"21"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"22")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"23"),n.a.createElement("div",{className:"scheme_seat"},"24"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"25"),n.a.createElement("div",{className:"scheme_seat"},"26")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"27"),n.a.createElement("div",{className:"scheme_seat"},"28"))),n.a.createElement("div",{className:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"29"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"30")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"31"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"32"))))},te=function(){return n.a.createElement("div",{className:"scheme_train-third-class"},n.a.createElement(ae,null),n.a.createElement("div",{className:"scheme_train-side"},n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"33"),n.a.createElement("div",{className:"scheme_seat"},"34")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"35"),n.a.createElement("div",{className:"scheme_seat"},"36")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"37"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"38")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"39"),n.a.createElement("div",{className:"scheme_seat"},"40")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"41"),n.a.createElement("div",{className:"scheme_seat"},"42")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"43"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"44")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat"},"45"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"46")),n.a.createElement("div",null,n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"47"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"48"))))},se=function(){return n.a.createElement("div",{className:"scheme_train-fourth-class"},n.a.createElement("div",{className:"scheme_row"},n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{className:"scheme_seat"},"2"),n.a.createElement("div",{className:"scheme_seat"},"3"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"4"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"5"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"6"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"7"),n.a.createElement("div",{className:"scheme_seat"},"8"),n.a.createElement("div",{className:"scheme_seat"},"9"),n.a.createElement("div",{className:"scheme_seat"},"10"),n.a.createElement("div",{className:"scheme_seat"},"11"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"12"),n.a.createElement("div",{className:"scheme_seat"},"13"),n.a.createElement("div",{className:"scheme_seat"},"14"),n.a.createElement("div",{className:"scheme_seat"},"15"),n.a.createElement("div",{className:"scheme_seat"},"16"),n.a.createElement("div",{className:"scheme_seat"},"17"),n.a.createElement("div",{className:"scheme_seat"},"18"),n.a.createElement("div",{className:"scheme_seat"},"19"),n.a.createElement("div",{className:"scheme_seat"},"20"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"21"),n.a.createElement("div",{className:"scheme_seat"},"22"),n.a.createElement("div",{className:"scheme_seat"},"23"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"24"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"25"),n.a.createElement("div",{className:"scheme_seat"},"26"),n.a.createElement("div",{className:"scheme_seat"},"27"),n.a.createElement("div",{className:"scheme_seat"},"28"),n.a.createElement("div",{className:"scheme_seat"},"29"),n.a.createElement("div",{className:"scheme_seat"},"30"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"31"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"32")),n.a.createElement("div",{className:"scheme_row scheme_row-second"},n.a.createElement("div",{className:"scheme_seat"},"33"),n.a.createElement("div",{className:"scheme_seat"},"34"),n.a.createElement("div",{className:"scheme_seat"},"35"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"36"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"37"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"38"),n.a.createElement("div",{className:"scheme_seat"},"39"),n.a.createElement("div",{className:"scheme_seat"},"40"),n.a.createElement("div",{className:"scheme_seat"},"41"),n.a.createElement("div",{className:"scheme_seat"},"42"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"43"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"44"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"45"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"46"),n.a.createElement("div",{className:"scheme_seat"},"47"),n.a.createElement("div",{className:"scheme_seat"},"48"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"49"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"50"),n.a.createElement("div",{className:"scheme_seat"},"51"),n.a.createElement("div",{className:"scheme_seat"},"52"),n.a.createElement("div",{className:"scheme_seat"},"53"),n.a.createElement("div",{className:"scheme_seat"},"54"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"55"),n.a.createElement("div",{className:"scheme_seat"},"56"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"57"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"58"),n.a.createElement("div",{className:"scheme_seat"},"59"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"60"),n.a.createElement("div",{className:"scheme_seat"},"61"),n.a.createElement("div",{className:"scheme_seat scheme_seat-free"},"62")))},ne=function(e){var a=Object(s.useContext)(o),t=Object(s.useState)([]),c=Object(l.a)(t,2),r=c[0],i=c[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=(d[0],d[1]),h=Object(s.useState)([]),f=Object(l.a)(h,2),_=f[0],p=f[1],v=Object(s.useState)(0),N=Object(l.a)(v,2),b=N[0],g=N[1],k=Object(s.useState)(""),y=Object(l.a)(k,2),O=y[0],S=y[1],w=Object(s.useState)(""),j=Object(l.a)(w,2),C=j[0],x=j[1],T=Object(s.useState)(1),L=Object(l.a)(T,2),D=L[0],P=L[1],F=Object(s.useState)(0),M=Object(l.a)(F,2),I=M[0],B=M[1],J=e.currentTrain||JSON.parse(sessionStorage.currentTrain),R=J._id;return Object(s.useEffect)(function(){a.getSeats(R).then(function(e){i(e),S(e[0].coach.class_type),E(e.filter(function(a){return a.coach.class_type===e[0].coach.class_type})),x(e[0]),sessionStorage.trainId=R})},[R]),O&&r?n.a.createElement("div",null,n.a.createElement("div",{className:"seats-choice"},n.a.createElement("div",{className:"change-train change-train-to"},n.a.createElement("span",{className:"change-train_arrow"},n.a.createElement("i",{className:"material-icons"},"arrow_forward")),n.a.createElement(m.b,{to:"/search",className:"change-train_button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434")),n.a.createElement(G,{info:J}),n.a.createElement(K,{passengers:{adults:D,children:I},setAdultSeats:function(e){return P(e)},setChildrenSeats:function(e){return B(e)}}),n.a.createElement(U,{coaches:r.filter(function(e){return e.coach.class_type===O}),currentType:O,currentCoach:C,setCurrentType:function(e){S(e),p([]),g(0)},setCurrentCoach:function(e){return x(e)}}),C&&n.a.createElement(X,{passengers:D+I,type:O,coach:C,topPrice:C.coach.top_price,bottomPrice:C.coach.bottom_price,sidePrice:C.coach.side_price,chosen:_,setChosen:function(e){var a=_.slice();a.push(e),p(a)},cancelChosen:function(e){var a=_.slice(),t=a.findIndex(function(a){return a.index===e.index});a.splice(t,1),p(a)},setTotalPrice:function(e){return g(b+e)}}),n.a.createElement("div",{className:"total-price"},parseInt(b).toLocaleString())),n.a.createElement("div",{className:"to-order-button-container"},n.a.createElement(m.b,{to:{pathname:"/passengers",passengers:{adults:D,children:I},seats:_,price:b}},n.a.createElement("button",{className:"to-order-button",disabled:0===_.length||D+I!==_.length},"\u0414\u0430\u043b\u0435\u0435")))):n.a.createElement("div",{className:"loader"},n.a.createElement("div",{className:"loader_image"}))},ce=function(e){var a=JSON.parse(sessionStorage.currentTrain),t=new Date(JSON.parse(sessionStorage.searchParams).date),s=new Date(t);return s.setHours(s.getHours()+new Date(1e3*a.duration).getHours()),n.a.createElement("div",{className:"trip-details"},n.a.createElement("h2",null,"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),n.a.createElement("div",{className:"trip-details_to"},n.a.createElement("div",{className:"trip-details_title"},n.a.createElement("h3",{className:"trainpicker_label trainpicker_label-to"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435")),n.a.createElement("div",{className:"trip-details_date"}),n.a.createElement("div",{className:"train-details"},n.a.createElement("div",null,n.a.createElement("span",null,"\u0414\u0430\u0442\u0430"),n.a.createElement("span",null,"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"),n.a.createElement("span",null,"\u041c\u0430\u0440\u0448\u0440\u0443\u0442")),n.a.createElement("div",null,n.a.createElement("span",null,t.toLocaleDateString()),n.a.createElement("span",null,n.a.createElement("b",null,a.train.name)),n.a.createElement("span",null,n.a.createElement("b",null,a.from.city.name,n.a.createElement("br",null),a.to.city.name)))),n.a.createElement("div",{className:"time-details"},n.a.createElement("div",null,n.a.createElement("span",{className:"time-details_time"},new Date(1e3*a.from.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{className:"time-details_date"},t.toLocaleDateString())),n.a.createElement("div",{className:"time-details_arrow"},Math.floor(a.duration/60/60)+":"+Math.floor(a.duration/60%60)),n.a.createElement("div",null,n.a.createElement("span",{className:"time-details_time"},new Date(1e3*a.to.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{className:"time-details_date"},s.toLocaleDateString()))),n.a.createElement("div",{className:"direction-details"},n.a.createElement("div",null,n.a.createElement("span",{className:"direction-details_city"},a.from.city.name),n.a.createElement("br",null),n.a.createElement("span",{className:"direction-details_station"},a.from.railway_station_name)),n.a.createElement("div",null,n.a.createElement("span",{className:"direction-details_city"},a.to.city.name),n.a.createElement("br",null),n.a.createElement("span",{className:"direction-details_station"},a.to.railway_station_name)))),n.a.createElement("div",{className:"trip-details_passengers"},n.a.createElement("div",{className:"trip-details_title "},n.a.createElement("h3",{className:"trainpicker_label trainpicker_label-passenger"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b")),n.a.createElement("div",{className:"train-details passengers-details "},n.a.createElement("div",null,"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445: ",n.a.createElement("b",null,e.passengers.adults)),n.a.createElement("div",null,"\u0414\u0435\u0442\u0435\u0439: ",n.a.createElement("b",null,e.passengers.children)))),n.a.createElement("div",{className:"trip-details_total"},n.a.createElement("span",null,"\u0418\u0422\u041e\u0413"),n.a.createElement("span",{className:""},parseInt(e.price).toLocaleString())))},re=t(125),le=t(126),ie=t(55),me=t.n(ie),oe=t(46),ue=t.n(oe),de=t(73),Ee=t.n(de),he=Object(p.createMuiTheme)({overrides:{MuiFormControl:{root:{width:"100%",display:"block"}},MuiInput:{underline:{borderRadius:"3px","&:after":{display:"none"},"&:before":{display:"none"},"&:hover":{borderBottom:"none !important"}}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",boxSizing:"border-box"},input:{boxSizing:"border-box",fontSize:"18px",fontWeight:"100",padding:"3px 0 3px 10px",height:"30px",width:"100%",border:"1px solid #928F94",outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px"},notchedOutline:{border:"none",outline:"none"}}}});function fe(e){var a=e.inputRef,t=Object(le.a)(e,["inputRef"]);return n.a.createElement(me.a,Object.assign({},t,{ref:function(e){a(e?e.inputElement:null)},mask:e.mask,prefix:e.prefix,placeholderChar:"_",showMask:!0}))}function _e(e){var a,t=n.a.useState({textmask:"    "}),s=Object(l.a)(t,2),c=s[0],r=s[1];return n.a.createElement(p.MuiThemeProvider,{theme:he},n.a.createElement(Ee.a,null,n.a.createElement(ue.a,{value:c.textmask,onChange:(a="textmask",function(t){r(Object(re.a)({},c,Object(d.a)({},a,t.target.value))),e.onChange(t.target.value)}),id:"formatted-text-mask-input",inputComponent:fe,inputProps:{mask:e.inputmask}})))}var pe=function(e){e.location.passengers&&(sessionStorage.passengers=JSON.stringify(e.location.passengers),sessionStorage.seats=JSON.stringify(e.location.seats),sessionStorage.price=e.location.price);var a=e.location.passengers||JSON.parse(sessionStorage.passengers),t=e.location.price||JSON.parse(sessionStorage.price),c=Object(s.useState)([]),r=Object(l.a)(c,2),i=r[0],o=r[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=d[0],h=d[1],f=function(e){var a=E.slice();a.push(e),h(a)};return n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(ce,{passengers:a,price:t})),n.a.createElement("div",{className:"col-right"},new Array(a.adults).fill("").map(function(e,a){return n.a.createElement(ve,{passenger:a+1,open:!(a>0),adult:!0,setValid:function(e){return o(e)},valid:i,setPassengers:function(e){return f(e)}})}),new Array(a.children).fill("").map(function(e,t){return n.a.createElement(ve,{passenger:a.adults+1+t,open:!1,child:!0,setValid:function(e){return o(e)},valid:i,setPassengers:function(e){return f(e)}})}),n.a.createElement(m.b,{to:"/payment"},n.a.createElement("button",{disabled:i.length!==a.adults+a.children,onClick:function(){return sessionStorage.passengersList=JSON.stringify(E)},className:"to-order-button"},"\u0414\u0430\u043b\u0435\u0435"))))},ve=function(e){var a=e.open,t=e.passenger,c=e.child,r=e.adult,i=e.valid,m=e.setValid,o=e.setPassengers,u=Object(s.useState)(a),d=Object(l.a)(u,2),E=d[0],h=d[1],f=Object(s.useRef)(null),_=Object(s.useState)(""),p=Object(l.a)(_,2),v=p[0],b=p[1],g=Object(s.useState)(""),k=Object(l.a)(g,2),y=k[0],O=k[1],S=Object(s.useState)(""),w=Object(l.a)(S,2),j=w[0],C=w[1],x=Object(s.useState)(null),T=Object(l.a)(x,2),L=T[0],D=T[1],P=Object(s.useState)("\u043c\u0443\u0436\u0441\u043a\u043e\u0439"),F=Object(l.a)(P,2),M=F[0],I=F[1],B=Object(s.useState)(!1),J=Object(l.a)(B,2),R=J[0],z=J[1],A=Object(s.useState)(""),W=Object(l.a)(A,2),H=W[0],q=W[1],V=Object(s.useState)(""),$=Object(l.a)(V,2),Z=$[0],Y=$[1],Q=Object(s.useState)(""),G=Object(l.a)(Q,2),K=G[0],U=G[1],X=Object(s.useState)(r),ee=Object(l.a)(X,2),ae=ee[0],te=ee[1],se=function(e){var a=e.target.value;if(!a.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451 -]/g))switch(e.target.name){case"last-name":b(a);break;case"first-name":O(a);break;case"patronymic":C(a);break;default:return}},ne=4===H.replace(/\s|_/g,"").length&&6===Z.replace(/\s|_/g,"").length,ce=12===K.replace(/\s|_/g,"").length,re=y&&v&&j&&(ne||ce)&&L;if(Object(s.useEffect)(function(){re&&o({name:v+" "+y+" "+j,gender:"\u041f\u043e\u043b "+M,dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f "+L,document:ae?"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424 "+H.replace(/\s/g,"")+Z.replace(/\s/g,""):"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 "+K.replace(/\s/g,""),adult:r})},[re]),E){var le=new Date,ie=r?new Date(le.setYear(le.getFullYear()-100)):new Date(le.setYear(le.getFullYear()-10));return n.a.createElement("div",{className:"passengers-card passengers-card_open"},n.a.createElement("div",{onClick:function(){return h(!E)},className:"passengers-card_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",t),n.a.createElement("form",{ref:f,action:"",className:"passengers-card_form"},n.a.createElement("fieldset",null,n.a.createElement("div",{className:"select-container"},n.a.createElement("select",{defaultValue:r?"adult":"child",className:"passengers-card_select",name:"",id:""},n.a.createElement("option",{disabled:c,value:"adult"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439"),n.a.createElement("option",{disabled:r,value:"child"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"))),n.a.createElement("div",{className:"personal-details"},n.a.createElement("label",{for:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",n.a.createElement("input",{value:v,onChange:se,type:"text",name:"last-name",className:"passengers-card_last-name",id:""})),n.a.createElement("label",{for:"first-name"},"\u0418\u043c\u044f",n.a.createElement("input",{value:y,onChange:se,type:"text",name:"first-name",className:"passengers-card_name",id:""})),n.a.createElement("label",{for:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",n.a.createElement("input",{value:j,onChange:se,type:"text",name:"patronymic",className:"passengers-card_patronymic-name",id:""}))),n.a.createElement("div",{className:"personal-details"},n.a.createElement("label",{className:"gender_label",for:"gender"},"\u041f\u043e\u043b ",n.a.createElement("br",null),n.a.createElement("input",{onChange:function(){return I("\u043c\u0443\u0436\u0441\u043a\u043e\u0439")},defaultChecked:!0,value:"\u041c",type:"radio",className:"gender",name:"gender",id:"gender"}),n.a.createElement("input",{onChange:function(){return I("\u0436\u0435\u043d\u0441\u043a\u0438\u0439")},value:"\u0416",type:"radio",className:"gender",name:"gender",id:"gender"})),n.a.createElement("label",{className:"birth-picker"},"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",n.a.createElement(N,{minDate:ie,minDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",disableFuture:!0,adornment:{style:{display:"none"}},defaultDate:null,onDateSelect:function(e){return D(e.toLocaleDateString())}}))),n.a.createElement("div",{className:"disabilities-check"},n.a.createElement("input",{checked:R,onChange:function(){return z(!R)},type:"checkbox",id:"disabilities",className:"disabilities"}),n.a.createElement("label",{for:"disabilities"},"\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c"))),n.a.createElement("fieldset",null,n.a.createElement("div",null,n.a.createElement("label",{className:"select-label",for:""},"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",n.a.createElement("select",{defaultValue:r?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",onChange:function(){return te(!ae)},name:"",id:""},n.a.createElement("option",{value:"\u043f\u0430\u0441\u043f\u043e\u0440\u0442"},"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),n.a.createElement("option",{disabled:r,value:"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"))),r?n.a.createElement(s.Fragment,null,n.a.createElement("label",{for:""},"\u0421\u0435\u0440\u0438\u044f",n.a.createElement(_e,{value:H,onChange:function(e){return q(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/]})),n.a.createElement("label",{for:""},"\u041d\u043e\u043c\u0435\u0440",n.a.createElement(_e,{value:Z,onChange:function(e){return Y(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]}))):n.a.createElement("label",{for:""},"\u041d\u043e\u043c\u0435\u0440",n.a.createElement(_e,{value:K,onChange:function(e){return U(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]})))),n.a.createElement("fieldset",null,y&&v&&j&&(H&&Z||K)&&L?n.a.createElement("output",{className:"error"},function(){try{!function(){if(y.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f!");if(v.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0444\u0430\u043c\u0438\u043b\u0438\u044e");if(j.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e")}(),function(){if(ae){if(H.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 4 \u0446\u0438\u0444\u0440\u044b \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430");if(Z.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 6 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430")}else if(K.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 12 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438")}()}catch(a){return n.a.createElement("span",{className:"error"},a.message)}if(!i.find(function(e){return e===t})){var e=i.slice();e.push(t),m(e)}return n.a.createElement("span",{className:"valid"},"\u0413\u043e\u0442\u043e\u0432\u043e!")}()):n.a.createElement("output",null,n.a.createElement("span",{className:"warning"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b!")))))}return n.a.createElement("div",{className:"passengers-card "},n.a.createElement("div",{onClick:function(){return h(!E)},className:"passengers-card_title "},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",t))},Ne=function(e){var a=JSON.parse(sessionStorage.passengers),t=JSON.parse(sessionStorage.price),c=Object(s.useState)(""),r=Object(l.a)(c,2),i=r[0],o=r[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),E=d[0],h=d[1],f=Object(s.useState)(""),_=Object(l.a)(f,2),p=_[0],v=_[1],N=Object(s.useState)(""),b=Object(l.a)(N,2),g=b[0],k=b[1],y=Object(s.useState)(""),O=Object(l.a)(y,2),S=O[0],w=O[1],j=Object(s.useState)("credit-card"),C=Object(l.a)(j,2),x=C[0],T=C[1],L=function(e){var a=e.target.value;if(!a.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451]/g))switch(e.target.name){case"last-name":o(a);break;case"first-name":h(a);break;case"patronymic":v(a);break;default:return}},D=function(e){T(e.currentTarget.id)},P=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,10}$/i.test(S),F=/_/.test(g),M=E&&i&&p;return n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(ce,{passengers:a,price:t})),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"order"},n.a.createElement("form",{className:"order-details",id:"order-details"},n.a.createElement("div",{className:"order_title"},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0430"),n.a.createElement("fieldset",{className:"order_payer"},n.a.createElement("div",{className:"personal-details"},n.a.createElement("label",{for:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",n.a.createElement("input",{required:!0,value:i,onChange:L,type:"text",name:"last-name",className:"passengers-card_last-name",id:""})),n.a.createElement("label",{for:"first-name"},"\u0418\u043c\u044f",n.a.createElement("input",{required:!0,value:E,onChange:L,type:"text",name:"first-name",className:"passengers-card_name",id:""})),n.a.createElement("label",{for:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",n.a.createElement("input",{required:!0,value:p,onChange:L,type:"text",name:"patronymic",className:"passengers-card_patronymic-name",id:""}))),n.a.createElement("div",{className:"contact-details"},n.a.createElement("label",{for:""},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",n.a.createElement(_e,{value:g,onChange:function(e){return k(e)},prefix:"+7",inputmask:["+","7"," ","(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}),F?n.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 10 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u0435\u0437 +7 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 987 654 3210"):""),n.a.createElement("label",{for:""},"Email",n.a.createElement("input",{value:S,onChange:function(e){var a=e.target.value;a.match(/[^a-zA-Z0-9,_,-,@,.]/)||w(a)},type:"email",name:"email",placeholder:"email@mail.ru",className:"passengers-card_email",style:{textTransform:"none"}}),P?"":n.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")))),n.a.createElement("div",{className:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),n.a.createElement("fieldset",{className:"payment-methods"},n.a.createElement("div",null,n.a.createElement("input",{onChange:D,defaultChecked:!0,type:"radio",name:"payment-method",id:"credit-card"}),n.a.createElement("label",{for:"credit-card"},"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"),n.a.createElement("input",{onChange:D,type:"radio",name:"payment-method",id:"paypal"}),n.a.createElement("label",{for:"paypal"},"PayPal"),n.a.createElement("input",{onChange:D,type:"radio",name:"payment-method",id:"qiwi-wallet"}),n.a.createElement("label",{for:"qiwi-wallet"},"Visa QIWI Wallet"))))),n.a.createElement(m.b,{to:{pathname:"/confirmation",paymentMethod:x}},n.a.createElement("button",{onClick:function(){return sessionStorage.payer=JSON.stringify({first_name:E,last_name:i,patronymic:p,phone:g,email:S,payment_method:"online"})},className:"purchase-button",disabled:!(P&&!F&&M)},"\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b"))))},be=function(e){var a=JSON.parse(sessionStorage.passengersList),t=JSON.parse(sessionStorage.passengers),s=JSON.parse(sessionStorage.price),c=JSON.parse(sessionStorage.currentTrain),r=e.location.paymentMethod;return n.a.createElement("div",{className:"columns"},n.a.createElement("div",{className:"col-left"},n.a.createElement(ce,{passengers:t,price:s})),n.a.createElement("div",{className:"col-right"},n.a.createElement("div",{className:"confirmation"},n.a.createElement("div",{className:"order_title"},"\u041f\u043e\u0435\u0437\u0434"),n.a.createElement(G,{info:c})),n.a.createElement("div",{className:"confirmation"},n.a.createElement("div",{className:"order_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"),n.a.createElement(ge,{list:a})),n.a.createElement("div",{className:"confirmation"},n.a.createElement("div",{className:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),n.a.createElement("div",{className:"confirmation_payment"},n.a.createElement("div",{className:"confirmation_method"},function(){switch(r){case"paypal":return"PayPal";case"credit-card":return"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439";case"qiwi-wallet":return"Visa QIWI Wallet";default:return}}()),n.a.createElement("div",{className:"confirmation_price"},n.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e:"),n.a.createElement("span",null,parseInt(s).toLocaleString())))),n.a.createElement(m.b,{to:"/success"},n.a.createElement("button",{className:"purchase-button"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))},ge=function(e){return e.list.map(function(e,a){return n.a.createElement(ke,{key:a,info:e})})},ke=function(e){e.key;var a=e.info;return n.a.createElement("div",{className:"passenger"},n.a.createElement("div",{className:"passenger-icon"},n.a.createElement("div",{className:"passenger-icon_img"}),n.a.createElement("div",{className:"passenger-icon_title"},a.adult?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439")),n.a.createElement("div",{className:"passenger-info"},n.a.createElement("div",{className:"passenger-info_name"},a.name),n.a.createElement("div",{className:"passenger-info_other"},a.gender),n.a.createElement("div",{className:"passenger-info_other"},a.dateOfBirth),n.a.createElement("div",{className:"passenger-info_other"},a.document)))},ye=function(e){var a=Object(s.useContext)(o),t=JSON.parse(sessionStorage.payer),c=JSON.parse(sessionStorage.currentTrain),r=JSON.parse(sessionStorage.passengersList),l=JSON.parse(sessionStorage.seats),i=parseInt(sessionStorage.price),m={user:t,departure:{route_direction_id:c._id,seats:r.map(function(e,a){return{person_info:{is_adult:e.adult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:e.dateOfBirth,document_type:e.document},seat_number:l[a]}})}};return Object(s.useEffect)(function(){a.createOrder(m).then(function(e){return console.log(e)})},[]),n.a.createElement("div",{className:"success"},n.a.createElement("h1",{className:"success_title"},"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),n.a.createElement("div",{className:"success_banner"},n.a.createElement("div",{className:"success_order"},n.a.createElement("div",{className:"success_id"},"\u2116 \u0417\u0430\u043a\u0430\u0437\u0430 285\u0410\u0410"),n.a.createElement("div",{className:"success_price"},i.toLocaleString())),n.a.createElement("ul",{className:"success_icons"},n.a.createElement("li",{className:"success_item"},n.a.createElement("span",{className:"success_icon success_icon-computer"}),n.a.createElement("span",{className:"success_text"},"\u0431\u0438\u043b\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0432\u0430\u0448 e-mail")),n.a.createElement("li",{className:"success_item"},n.a.createElement("span",{className:"success_icon success_icon-tickets"}),n.a.createElement("span",{className:"success_text"},"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u043e \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438")),n.a.createElement("li",{className:"success_item"},n.a.createElement("span",{className:"success_icon success_icon-conductor"}),n.a.createElement("span",{className:"success_text"},"\u043f\u0440\u0435\u0434\u044c\u044f\u0432\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043d\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043f\u0440\u0438 \u043f\u043e\u0441\u0430\u0434\u043a\u0435"))),n.a.createElement("div",{className:"success-info"},n.a.createElement("h2",{className:"success-info_title"},t.first_name+" "+t.patronymic+"!"),n.a.createElement("p",null,"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d. ",n.a.createElement("br",null),"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."),n.a.createElement("h3",null,"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0437\u0430 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0435 \u0438 \u0436\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f!")),n.a.createElement("div",{className:"rating"},n.a.createElement("span",{className:"rating_text"},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441"),n.a.createElement(Oe,null))))},Oe=function(){var e=new Array(5).fill(""),a=Object(s.useState)(-1),t=Object(l.a)(a,2),c=t[0],r=t[1],i=function(e){r(e.currentTarget.dataset.id)};return n.a.createElement("div",{className:"rating_stars"},e.map(function(e,a){return n.a.createElement(Se,{index:a,rating:c,onClick:i})}))},Se=function(e){var a=e.index,t=e.rating,s=e.onClick,c=a>t?"none":"#FFFFFF";return n.a.createElement("svg",{"data-id":a,onClick:s,width:"36",height:"34",viewBox:"0 0 56 44",fill:c,xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z",stroke:"white","stroke-width":"2"}))},we=t(21),je=t.n(we),Ce=t(34),xe=(n.a.createContext(),new function e(){var a=this;Object(T.a)(this,e),this.fetchData=function(){var e=Object(Ce.a)(je.a.mark(function e(a){var t,s,n=arguments;return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>1&&void 0!==n[1]?n[1]:{method:"GET"},e.next=3,fetch("https://netology-trainbooking.herokuapp.com".concat(a),t);case 3:if((s=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(a,", status - ").concat(s.status));case 6:return e.next=8,s.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.getCities=function(){var e=Object(Ce.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes/cities?name=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.getRoutes=function(){var e=Object(Ce.a)(je.a.mark(function e(t,s,n,c){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes?from_city_id=".concat(t.from.id,"&to_city_id=").concat(t.to.id,"&sort=").concat(s,"&limit=").concat(n,"&offset=").concat(c,"&").concat(t.filters||"?"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a,t,s,n){return e.apply(this,arguments)}}(),this.getSeats=function(){var e=Object(Ce.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/routes/".concat(t,"/seats"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.createOrder=function(){var e=Object(Ce.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/order",{method:"POST",body:JSON.stringify(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),this.subscribe=function(){var e=Object(Ce.a)(je.a.mark(function e(t){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData("/subscribe?".concat(t),{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()}),Te=function(){void 0===sessionStorage.searchParams&&void 0===sessionStorage.currentTrain&&(sessionStorage.searchParams=JSON.stringify({}),sessionStorage.currentTrain=JSON.stringify({}));var e=Object(i.e)(j),a=Object(s.useState)(JSON.parse(sessionStorage.searchParams)),t=Object(l.a)(a,2),c=t[0],r=t[1],u=Object(s.useState)(JSON.parse(sessionStorage.currentTrain)),d=Object(l.a)(u,2),E=d[0],h=d[1],f=Object(s.useState)([]),_=Object(l.a)(f,2),p=_[0],v=_[1],N=Object(s.useState)({about:700,how:1100,reviews:1700,contacts:2300}),b=Object(l.a)(N,2),g=b[0],y=b[1];return n.a.createElement(m.a,{basename:"/train/"},n.a.createElement(o.Provider,{value:xe},n.a.createElement(e,{homepageRefs:g,setSearchParams:function(e){r(e),sessionStorage.searchParams=JSON.stringify(e)}}),n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/search",render:function(e){return n.a.createElement(Q,Object.assign({},e,{searchParams:c,trains:p,setTrains:function(e){return v(e)},setCurrentTrain:function(e){sessionStorage.currentTrain=JSON.stringify(e),h(e)}}))}}),n.a.createElement(i.a,{path:"/seats",render:function(e){return n.a.createElement(ne,Object.assign({},e,{currentTrain:E}))}}),n.a.createElement(i.a,{path:"/payment",component:Ne}),n.a.createElement(i.a,{path:"/passengers",component:pe}),n.a.createElement(i.a,{path:"/confirmation",component:be}),n.a.createElement(i.a,{path:"/success",component:ye}),n.a.createElement(i.a,{path:"/",exact:!0,render:function(e){return n.a.createElement(k,Object.assign({},e,{setHomepageRefs:y}))}})),n.a.createElement(C,null)))};r.a.render(n.a.createElement(Te,null),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.017d7b5c.chunk.js.map