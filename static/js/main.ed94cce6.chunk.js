(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){e.exports=a(314)},137:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(18),r=a.n(c),l=(a(137),a(3)),i=a(33),o=a(15),m=n.a.createContext(),u=function(e){var t=Object(s.useContext)(m),a=e.placeholder,c=e.onSelect,r=Object(s.useState)([]),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(s.useState)(!1),E=Object(l.a)(d,2),h=E[0],_=E[1],f=Object(s.useState)(""),p=Object(l.a)(f,2),v=p[0],b=p[1],g=Object(s.useState)(e.value),O=Object(l.a)(g,2),k=O[0],y=O[1];Object(s.useEffect)(function(){e.value!==k&&(y(e.value),console.log("EFFECT"))},[e.value]);var S,j=function(e){var a=e.currentTarget.value;console.log(a),a.match(/[^\u0430-\u044f\u0410-\u044f ]/)||(y(a),t.getCities(a).then(function(e){var t=e.length>0?e.find(function(e){return e.name.startsWith(a)}):"";b(t?t.name:""),_(!0),u(e)}))},w=-1;return n.a.createElement("div",{class:"input-with-icon"},n.a.createElement("span",{className:"trainpicker__hint"},n.a.createElement("span",{className:"trainpicker__hint-transparent"},v.slice(0,k.length)),v.slice(k.length)),n.a.createElement("input",{className:"trainpicker__input trainpicker__input-direction",value:k,onChange:j,onFocus:function(e){console.log("FOCUS");var a=e.currentTarget.value||"\u0430";t.getCities(a).then(function(e){e.length>0&&e.find(function(e){return e.name.startsWith(a)}),b(""),_(!0),u(e)})},onBlur:function(){_(!1)},type:"text",placeholder:a,onKeyDown:function(e){if(S)switch(e.key){case"ArrowDown":w++,Array.from(S.children).forEach(function(e){return e.classList.remove("suggestion-active")}),w>S.children.length-1&&(w=0),S.children[w].classList.add("suggestion-active");break;case"ArrowUp":w--,Array.from(S.children).forEach(function(e){return e.classList.remove("suggestion-active")}),w<0&&(w=S.children.length-1),S.children[w].classList.add("suggestion-active");break;case"Enter":var t=Array.from(S.children).find(function(e){return e.classList.contains("suggestion-active")});if(!t)return;c({name:t.textContent,id:t.dataset.id}),b(""),_(!1);break;default:j(e)}}}),n.a.createElement("i",{class:"material-icons trainpicker__icon"},"room"),h&&o.length>0?n.a.createElement("ul",{ref:function(e){return S=e},class:"suggestions",onClick:function(e){y(e.target.textContent),b(""),_(!1),c({name:e.target.textContent,id:e.target.dataset.id})}},o.map(function(e){return n.a.createElement("li",{key:e._id,"data-id":e._id},e.name)})):null)},d=a(30),E=a(78),h=a(119),_=a.n(h),f=a(128),p=a(31),v=Object(p.createMuiTheme)({overrides:Object(d.a)({MuiPickersCalendarHeader:{daysHeader:{display:"none"}},MuiPickersDay:{day:{fontFamily:"Roboto"},isSelected:{backgroundColor:"rgba(255, 168, 0, 0.31)",border:"2px solid #FFA800",borderRadius:"5px",color:"black","&:hover":{backgroundColor:"rgba(255, 168, 0, 0.31)"}},current:{color:"orange",background:"inherit",border:"none"}},MuiIconButton:{label:{color:"inherit"},root:{padding:0}},MuiFormControl:{root:{width:"100%",display:"block"}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",width:"100%",boxSizing:"border-box",height:"50px"},input:{fontSize:"16px",fontWeight:"100",padding:"0 0 0 10px",width:"100%",border:0,outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px",lineHeight:"1em"},input:{padding:"15.5px"},notchedOutline:{border:"none",outline:"none"},adornedEnd:{paddingRight:"5px"}},MuiSvgIcon:{root:{fill:"#c4c4c4",width:"36px",height:"36px"}}},"MuiIconButton",{root:{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}}})}),b=function(e){var t=Object(s.useState)(e.defaultDate),a=Object(l.a)(t,2),c=a[0],r=a[1],i=e.disablePast,o=e.disableFuture,m=e.adornment,u=e.onDateSelect;return n.a.createElement(p.MuiThemeProvider,{theme:v},n.a.createElement(E.b,{utils:f.a,locale:_.a},n.a.createElement("div",{className:"picker",style:e.style},n.a.createElement(E.a,{keyboard:!0,clearable:!0,onlyCalendar:!0,disableOpenOnEnter:!0,disablePast:i,disableFuture:o,placeholder:"\u0414\u0414/\u041c\u041c/\u0413\u0413\u0413\u0413",invalidDateMessage:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442",minDateMessage:e.minDateMessage||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0443\u044e \u0434\u0430\u0442\u0443",maxDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",variant:"outlined",InputAdornmentProps:m,value:c,onChange:function(e){r(e),u(e)},format:"dd/MM/yyyy",mask:function(e){return e?[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/]:[]}}))))},g=function(e){Object(s.useContext)(m);var t=e.horizontal,a=Object(s.useState)(""),c=Object(l.a)(a,2),r=c[0],i=c[1],d=Object(s.useState)(""),E=Object(l.a)(d,2),h=E[0],_=E[1],f=Object(s.useState)(""),p=Object(l.a)(f,2),v=p[0],g=p[1],O=Object(s.useState)(""),k=Object(l.a)(O,2),y=k[0],S=k[1],j=Object(s.useState)(new Date),w=Object(l.a)(j,2),C=w[0],x=w[1],T=Object(s.useState)(null),L=Object(l.a)(T,2),N=L[0];L[1];return n.a.createElement("form",{class:"trainpicker ".concat(t?"trainpicker-horizontal":"")},t?null:n.a.createElement("div",null,n.a.createElement("h2",{class:"trainpicker__header"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0434\u0430\u0442\u0443 \u043f\u043e\u0435\u0437\u0434\u043a\u0438:")),n.a.createElement("div",{class:"trainpicker__content ".concat(t?"trainpicker__content-horizontal":""," ")},n.a.createElement("label",{class:"trainpicker_label"},"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),n.a.createElement("div",{class:"trainpicker__inputs"},n.a.createElement(u,{value:r,placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",onSelect:function(e){i(e.name),_(e.id)}}),n.a.createElement("div",{onClick:function(){i(v),g(r)},class:"trainpicker__reverse",type:"checkbox",name:"reverse",id:"reverse"},n.a.createElement("i",{class:"fas fa-exchange-alt"})),n.a.createElement(u,{value:v,placeholder:"\u041a\u0443\u0434\u0430",onSelect:function(e){g(e.name),S(e.id)}}))),n.a.createElement("div",{class:"trainpicker__content ".concat(t?"trainpicker__content-horizontal":""," ")},n.a.createElement("label",{class:"trainpicker_label"},"\u0414\u0430\u0442\u0430"),n.a.createElement("div",{class:"trainpicker__inputs"},n.a.createElement(b,{style:{width:"285px",height:"52px"},onDateSelect:function(e){sessionStorage.travelDate=e,x(e)},defaultDate:new Date}))),n.a.createElement("button",{onClick:function(e){return e.preventDefault()},type:"submit",disabled:!(r&&v),className:"trainpicker__button ".concat(t?"trainpicker__button-horizontal":""," ")},r&&v?n.a.createElement(o.b,{to:"/search",onClick:function(){e.setSearchParams({from:{name:r,id:h},to:{name:v,id:y},date:C.toISOString().substr(0,10),dateBack:N&&N.toISOString().substr(0,10)}),window.scrollTo({top:document.querySelector(".col-right").offsetTop,behavior:"smooth"})}},"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"):"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"))},O=function(e){var t=e.location.pathname;return"/success"===t?n.a.createElement("section",{class:"main-search main-search-success"}):"/"!==t?n.a.createElement("section",{class:"main-search"},n.a.createElement(g,Object.assign({horizontal:!0},e))):"/"===t?n.a.createElement("section",{class:"main",id:"main"},n.a.createElement("div",{class:"main__motto"},n.a.createElement("div",{class:"motto"},"\u0412\u0441\u044f \u0436\u0438\u0437\u043d\u044c -",n.a.createElement("div",{class:"motto-bold"},"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435!"))),n.a.createElement("div",{class:"main__picker"},n.a.createElement(g,e))):void 0},k=function(e){return Object(s.useEffect)(function(){document.getElementById("about"),document.getElementById("features"),document.getElementById("reviews"),document.getElementById("footer")}),n.a.createElement(s.Fragment,null,n.a.createElement(y,null),n.a.createElement(S,null),n.a.createElement(j,null))},y=function(){return n.a.createElement("section",{class:"about",id:"about"},n.a.createElement("div",{class:"about__title"},n.a.createElement("h2",null,"\u041e \u043d\u0430\u0441")),n.a.createElement("div",{class:"about__text"},n.a.createElement("div",{class:"about__deco"}),n.a.createElement("div",{class:"about__items"},n.a.createElement("p",{class:"about__item"},"\u041c\u044b \u0440\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0441! \u041c\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0434\u043b\u044f \u0412\u0430\u0441 \u0441 2003 \u0433\u043e\u0434\u0430. 15 \u043b\u0435\u0442 \u043c\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c, \u043a\u0430\u043a \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),n.a.createElement("p",{class:"about__item"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043e\u043d\u043b\u0430\u0439\u043d \u0432\u0441\u0435\u0433\u043e \u0432 2 \u043a\u043b\u0438\u043a\u0430, \u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c? \u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0437\u0430\u043a\u0430\u0437\u0430 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),n.a.createElement("p",{class:"about__item about__item-bold"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0435\u0448\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430 90 \u0441\u0443\u0442\u043e\u043a \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0435\u0437\u0434\u0430. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0446\u0435\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u0430 \u043d\u0430 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u0430\u044f \u043d\u0438\u0437\u043a\u0430\u044f."))))},S=function(){return n.a.createElement("section",{class:"features",id:"features"},n.a.createElement("div",{class:"description"},n.a.createElement("h2",{class:"description__title"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"),n.a.createElement("button",{class:"description__button"},"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435")),n.a.createElement("div",{class:"features__items"},n.a.createElement("div",{class:"features__item features__item-monitor"},"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"),n.a.createElement("div",{class:"features__item features__item-office"},"\u041d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0435\u0445\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0441"),n.a.createElement("div",{class:"features__item features__item-globe"},"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439")))},j=function(){return n.a.createElement("section",{class:"reviews",id:"reviews"},n.a.createElement("h2",{class:"reviews__title"},"\u041e\u0442\u0437\u044b\u0432\u044b"),n.a.createElement("div",{class:"reviews__slide"},n.a.createElement("div",{class:"review"},n.a.createElement("img",{class:"review__avatar",src:"https://i.ibb.co/Z1RgQdZ/av-1.png",alt:"av"}),n.a.createElement("div",{class:"review__content"},n.a.createElement("h4",{class:"review__author"},"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430"),n.a.createElement("p",{class:"review__text"},"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."))),n.a.createElement("div",{class:"review"},n.a.createElement("img",{class:"review__avatar",src:"https://i.ibb.co/47wFWkj/av-2.png",alt:"av"}),n.a.createElement("div",{class:"review__content"},n.a.createElement("h4",{class:"review__author"},"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e"),n.a.createElement("p",{class:"review__text"},"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438. \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435.")))),n.a.createElement("div",{class:"carousel"},n.a.createElement("div",{class:"carousel__controls"},n.a.createElement("span",{class:"carousel__item carousel__item-active"}),n.a.createElement("span",{class:"carousel__item"}),n.a.createElement("span",{class:"carousel__item"}),n.a.createElement("span",{class:"carousel__item"}),n.a.createElement("span",{class:"carousel__item"}))))},w=function(e){var t=e.location.pathname,a=[{step:"/search/seats",title:"\u0411\u0438\u043b\u0435\u0442\u044b"},{step:"/passengers",title:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"},{step:"/payment",title:"\u041e\u043f\u043b\u0430\u0442\u0430"},{step:"/confirmation",title:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"}],s=function(e,s){return e.step.match(t)||s<=a.findIndex(function(e){return e.step===t})};return n.a.createElement("section",{class:"progress"},a.map(function(e,t){return n.a.createElement("div",{class:"progress__step ".concat(s(e,t)?"progress__step-current":"")},n.a.createElement("span",{class:"number"},t+1),n.a.createElement("span",{class:"progress__text"},e.title),3===t?null:n.a.createElement("div",{class:"progress__arrow ".concat(s(e,t)?"progress__arrow-current":"")}))}))},C=function(e){e.homepageRefs;var t=function(t){var a={top:document.getElementById(t.currentTarget.dataset.id).offsetTop,behavior:"smooth"};"/"===e.location.pathname&&t.preventDefault(),window.scrollTo(a)};return n.a.createElement(s.Fragment,null,n.a.createElement("section",{class:"header"},n.a.createElement("div",{class:"logo"},n.a.createElement(o.b,{class:"logo__link",to:"/"},n.a.createElement("h1",null,"TrainBooking"))),n.a.createElement("nav",{class:"menu"},n.a.createElement("ul",{class:"nav"},n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{onClick:t,class:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{to:"/",onClick:t,"data-id":"features",class:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{to:"/",onClick:t,"data-id":"reviews",class:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{to:"/",onClick:t,"data-id":"footer",class:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")))),n.a.createElement("nav",{class:"menu-dropdown"},n.a.createElement("div",{onClick:function(e){e.currentTarget.nextElementSibling.classList.toggle("hidden"),Array.from(e.currentTarget.children).forEach(function(e){return e.classList.toggle("hidden")})},class:"menu-burger"},n.a.createElement("i",{class:"fas fa-bars"}),n.a.createElement("i",{class:"far fa-window-close hidden"})),n.a.createElement("ul",{class:"nav hidden"},n.a.createElement("li",null),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{onClick:t,class:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{to:"/",onClick:t,"data-id":"how",class:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{to:"/",onClick:t,"data-id":"reviews",class:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),n.a.createElement("li",{class:"nav__item"},n.a.createElement(o.b,{to:"/",onClick:t,"data-id":"contacts",class:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"))))),n.a.createElement(O,e),"/"===e.location.pathname||"/success"===e.location.pathname?null:n.a.createElement(w,e))},x=function(){var e=Object(s.useContext)(m),t=Object(s.useState)(""),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],E=Object(s.useState)(!1),h=Object(l.a)(E,2),_=h[0],f=h[1];return n.a.createElement("footer",{class:"footer",id:"footer"},n.a.createElement("div",{class:"footer footer-main"},n.a.createElement("div",{class:"contacts"},n.a.createElement("h3",{class:"footer__title"},"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"),n.a.createElement("ul",{class:"contacts__list"},n.a.createElement("li",{class:"contacts__item contacts__item-phone"},"8 (800) 000 00 00"),n.a.createElement("li",{class:"contacts__item contacts__item-email"},"inbox@mail.ru"),n.a.createElement("li",{class:"contacts__item contacts__item-skype"},"tu.train.tickets"),n.a.createElement("li",{class:"contacts__item contacts__item-address"}," \u0433. \u041c\u043e\u0441\u043a\u0432\u0430 ",n.a.createElement("br",null)," \u0443\u043b. \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f 27-35 ",n.a.createElement("br",null),"  555 555"))),n.a.createElement("div",{class:"subscription"},n.a.createElement("h3",{class:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),n.a.createElement("form",{onSubmit:function(t){t.preventDefault(),/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\.)+[a-z]{2,6}$/.test(c)?(e.subscribe(c),d(!1),f(!0),r("")):d(!0)},action:"",class:"subscription-form"},n.a.createElement("label",{class:"subscription-form__label"},"\u0411\u0443\u0434\u044c\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),n.a.createElement("div",null,n.a.createElement("input",{value:c,onChange:function(e){var t=e.target.value;t.match(/[^a-zA-Z0-9,_,-,@,.]/)||r(t)},class:"subscription-form__input",type:"email",name:"subscription",placeholder:"e-mail"}),n.a.createElement("div",{style:{visibility:u?"visible":"hidden"},class:"subscription_hint"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")),n.a.createElement("button",{class:"subscription-form__button",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),n.a.createElement("div",{style:{visibility:_?"visible":"hidden"},class:"subscription_thankyou"},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!")),n.a.createElement("h3",{class:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0441"),n.a.createElement("ul",{class:"social"},n.a.createElement("li",{class:"social__item"},n.a.createElement("a",{href:"",class:"social__link social__link-youtube"},n.a.createElement("i",{class:"fab fa-youtube"}))),n.a.createElement("li",{class:"social__item"},n.a.createElement("a",{href:"",class:"social__link social__link-linkedIn"},n.a.createElement("i",{class:"fab fa-linkedin-in"}))),n.a.createElement("li",{class:"social__item"},n.a.createElement("a",{href:"",class:"social__link social__link-googlePlus"},n.a.createElement("i",{class:"fab fa-google-plus-g"}))),n.a.createElement("li",{class:"social__item"},n.a.createElement("a",{href:"",class:"social__link social__link-facebook"},n.a.createElement("i",{class:"fab fa-facebook-f"}))),n.a.createElement("li",{class:"social__item"},n.a.createElement("a",{href:"",class:"social__link social__link-twitter"},n.a.createElement("i",{class:"fab fa-twitter"})))))),n.a.createElement("div",{class:"footer-additional"},n.a.createElement("div",{class:"footer__logo"},n.a.createElement("a",{class:"logo__link",href:"#"},"TrainBooking")),n.a.createElement("div",{class:"footer__home-arrow",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}}),n.a.createElement("div",{class:"footer__copyright"},"2018 WEB")))},T=a(57),L=a(56),N=a(121),D=a(129),F=a(122),P=a(130),M=a(123),J=a.n(M),I=a(124),B=a.n(I),z=a(125),A=a.n(z),R=function(e){function t(){var e,a;Object(L.a)(this,t);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(a=Object(D.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(n)))).state={checkedA:!0,checkedB:!0},a.handleChange=function(e){return function(t){a.props.onChange(),a.setState(Object(d.a)({},e,t.target.checked))}},a}return Object(P.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,s=t.label,c=[{name:"second-class",value:"\u043a\u0443\u043f\u0435"},{name:"third-class",value:"\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"},{name:"first-class",value:"\u043b\u044e\u043a\u0441"},{name:"fourth-class",value:"\u0441\u0438\u0434\u044f\u0447\u0438\u0439"},{name:"express",value:"\u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},{name:"wi-fi",value:"wi-fi"}];return n.a.createElement("div",null,n.a.createElement(J.a,{row:!0},n.a.createElement(B.a,{style:{width:"80%",justifyContent:"space-between",color:"#ffffff"},classes:{label:s},label:n.a.createElement("label",{className:"switches_label "+(e=s,c.find(function(t){return t.value===e.toLowerCase()}).name),style:{color:"#fff",marginRight:"1rem"}},s),labelPlacement:"start",control:n.a.createElement(A.a,{checked:this.props.checked,onChange:this.handleChange("checkedA"),value:"checkedA",classes:{switchBase:a.colorSwitchBase,checked:a.colorChecked,bar:a.colorBar,icon:a.icon}})})))}}]),t}(n.a.Component),W=Object(p.withStyles)(function(e){return{colorSwitchBase:{color:"#c4c4c4","& + $colorBar":{backgroundColor:"#ffffff",border:"1px solid #3E3C41",opacity:1,width:"100%"},"&$colorChecked":{color:"#FFA800",position:"relative",left:"30px","& + $colorBar":{backgroundColor:"#FCDC90",opacity:1}}},icon:{marginTop:"2px"},colorBar:{},colorChecked:{},label:{color:"#fff"}}})(R),H=function(e){var t=e.first,a=e.second,s=e.third,c=e.fourth,r=e.setFirst,l=e.express,i=e.wifi,o=e.setSecond,m=e.setThird,u=e.setFourth,d=e.setExpress,E=e.setWifi;return n.a.createElement("div",null,n.a.createElement(W,{checked:a,onChange:o,label:"\u041a\u0443\u043f\u0435"}),n.a.createElement(W,{checked:s,onChange:m,label:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"}),n.a.createElement(W,{checked:c,onChange:u,label:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"}),n.a.createElement(W,{checked:t,onChange:r,label:"\u041b\u044e\u043a\u0441"}),n.a.createElement(W,{checked:l,onChange:d,label:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"}),n.a.createElement(W,{checked:i,onChange:E,label:"Wi-Fi"}))},q=function(e){Object(s.useContext)(m);var t=e.searchParams||JSON.parse(sessionStorage.searchParams),a=Object(s.useState)({from:500,to:7e3}),c=Object(l.a)(a,2),r=c[0],i=c[1],o=Object(s.useState)({from:0,to:24}),u=Object(l.a)(o,2),d=u[0],E=u[1],h=Object(s.useState)({from:0,to:24}),_=Object(l.a)(h,2),f=_[0],p=_[1],v=Object(s.useState)(!1),b=Object(l.a)(v,2),g=b[0],O=b[1],k=Object(s.useState)(!0),y=Object(l.a)(k,2),S=y[0],j=y[1],w=Object(s.useState)(!1),C=Object(l.a)(w,2),x=C[0],L=C[1],N=Object(s.useState)(!1),D=Object(l.a)(N,2),F=D[0],P=D[1],M=Object(s.useState)(!1),J=Object(l.a)(M,2),I=J[0],B=J[1],z=Object(s.useState)(!0),A=Object(l.a)(z,2),R=A[0],W=A[1];t.filters="price_from=".concat(r.from,"&price_to=").concat(r.to).concat(g?"&have_first_class=true":"").concat(S?"&have_second_class=true":"").concat(x?"&have_third_class=true":"").concat(F?"&have_fourth_class=true":"").concat(R?"&have_wifi=true":"").concat(I?"&have_express=true":"");var q,V=function(){q.classList.toggle("minimized")};return n.a.createElement("div",{class:"filters-container"},n.a.createElement("div",{onClick:V,class:"filter-cog"},n.a.createElement("i",{class:"fas fa-cog"}),n.a.createElement("i",{class:"far fa-window-close hidden"})),n.a.createElement("form",{ref:function(e){return q=e},action:"",class:"search-form minimized"},n.a.createElement("fieldset",{onClick:V,class:"search-form__set"},n.a.createElement("h2",null,"\u0424\u0438\u043b\u044c\u0442\u0440")),n.a.createElement("fieldset",{class:"seat-types"},n.a.createElement(H,{first:g,second:S,third:x,fourth:F,express:I,wifi:R,setFirst:function(){return O(!g)},setSecond:function(){return j(!S)},setThird:function(){return L(!x)},setFourth:function(){return P(!F)},setExpress:function(){return B(!I)},setWifi:function(){return W(!R)}})),n.a.createElement("fieldset",{class:"cost-picker"},n.a.createElement("label",{class:"trainpicker_label"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),n.a.createElement(T.a,{onChange:function(e){return i({from:e.from,to:e.to})},type:"double",grid:!1,from:r.from,to:r.to,min:500,max:7e3,hide_min_max:!0,skin:"material"})),n.a.createElement("fieldset",{class:"time-picker"},n.a.createElement("label",{class:"trainpicker_label"},"\u0412\u0440\u0435\u043c\u044f"),n.a.createElement("label",{class:"range-picker_label",for:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),n.a.createElement(T.a,{onChange:function(e){E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),n.a.createElement("label",{class:"range-picker_label",for:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),n.a.createElement(T.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:f.from,to:f.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})),n.a.createElement("fieldset",{class:"filters__buttons"},n.a.createElement("button",{onClick:function(a){a.preventDefault(),e.update(t.filters)},class:"filters__button"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),n.a.createElement("button",{onClick:function(e){e.preventDefault(),i({from:500,to:7e3}),E({from:0,to:24}),p({from:0,to:24}),t.filters="",window.location.href="/search"},class:"filters__button"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"))))},V=function(){return n.a.createElement("div",{class:"last-tickets"},n.a.createElement("h2",{class:"last-tickets_title"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"),n.a.createElement("div",{class:"last-tickets_card"},n.a.createElement("div",{class:"last-tickets_directions"},n.a.createElement("div",{class:"last-tickets_from"},n.a.createElement("div",{class:"train-schedule_city"},"\u0421\u0430\u043c\u0430\u0440\u0430"),n.a.createElement("div",{class:"train-schedule_station"},"\u041a\u0443\u0440\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b")),n.a.createElement("div",{class:"last-tickets_to"},n.a.createElement("div",{class:"train-schedule_city"},"\u041c\u043e\u0441\u043a\u0432\u0430"),n.a.createElement("div",{class:"train-schedule_station"},"\u0420\u0438\u0436\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b"))),n.a.createElement("div",{class:"last-tickets_info"},n.a.createElement("div",{class:"last-tickets_labels"},n.a.createElement("span",{class:"switches_label wi-fi"}),n.a.createElement("span",{class:"switches_label express"}),n.a.createElement("span",{class:"switches_label breakfast"})),n.a.createElement("div",{class:"last-tickets_price"},n.a.createElement("span",null,"3 500")))))},$=(a(308),function(e){var t=e.info,a=e.showTravelTime,s=Math.floor(t.duration/60/60),c=(new Date(1e3*t.duration).toLocaleTimeString("ruRu",{hour:"numeric",minute:"numeric"}),Math.floor(t.duration/60%60));return n.a.createElement("div",{class:"train-schedule"},n.a.createElement("div",{class:"train-schedule_way"},n.a.createElement("div",{class:"train-schedule_from"},n.a.createElement("h4",{class:"train-schedule_time"},new Date(1e3*t.from.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{class:"train-schedule_city"},t.from.city.name),n.a.createElement("div",{class:"train-schedule_station"},t.from.railway_station_name)),n.a.createElement("div",{class:"train-schedule_travel-arrow"},a?n.a.createElement("span",null,s," \u0447 ",c," \u043c\u0438\u043d"):null,n.a.createElement("i",{class:"material-icons"},"arrow_forward")),n.a.createElement("div",{class:"train-schedule_to"},n.a.createElement("h4",{class:"train-schedule_time"},new Date(1e3*t.to.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("div",{class:"train-schedule_city"},t.to.city.name),n.a.createElement("div",{class:"train-schedule_station"},t.to.railway_station_name))))}),Z=function(e){var t=e.departure;return n.a.createElement("div",{class:"train"},n.a.createElement("div",{class:"train-info"},n.a.createElement("div",{class:"train-icon"}),n.a.createElement("h4",{class:"train-info_number"},t.train.name),n.a.createElement("div",{class:"train-info_destination"},n.a.createElement("div",{class:"train-info_name"},t.from.city.name),n.a.createElement("div",{class:"train-info_name"},t.to.city.name))),n.a.createElement($,{info:t,showTravelTime:!0}),n.a.createElement("div",{class:"train-seats"},n.a.createElement("ul",{class:"train-seats_list"},t.have_fourth_class?n.a.createElement("li",null,n.a.createElement("span",{class:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.fourth),n.a.createElement("span",{class:"train-seats_price"},t.price_info.fourth.top_price)):null,t.have_third_class?n.a.createElement("li",null,n.a.createElement("span",{class:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.third),n.a.createElement("span",{class:"train-seats_price"},t.price_info.third.top_price)):null,t.have_second_class?n.a.createElement("li",null,n.a.createElement("span",{class:"train-seats_type"},"\u041a\u0443\u043f\u0435"),n.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.second),n.a.createElement("span",{class:"train-seats_price"},t.price_info.second.top_price)):null,t.have_first_class?n.a.createElement("li",null,n.a.createElement("span",{class:"train-seats_type"},"\u041b\u044e\u043a\u0441"),n.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.first),n.a.createElement("span",{class:"train-seats_price"},t.price_info.first.top_price)):null),n.a.createElement("div",null,n.a.createElement("div",{class:"train-seats_icons"},t.have_wifi?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c wi-fi"},n.a.createElement("i",{class:"fas fa-wifi"})):null,t.have_air_conditioning?n.a.createElement("span",{title:"\u0415\u0441\u0442\u044c \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"},n.a.createElement("i",{class:"far fa-snowflake"})):null,t.is_express?n.a.createElement("span",{title:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},n.a.createElement("span",{class:"rocket"})):null),n.a.createElement("div",{class:"train-seats_button-container"},n.a.createElement(o.b,{className:"train-seats_button",to:"/seats",onClick:function(){return e.setCurrentTrain(t)}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u0430")))))},Y=function(e){var t=e.trains,a=e.count,s=e.limit,c=e.currentPage,r=e.setCurrentPage,l=new Array(Math.ceil(a/s)).fill("");return a>0&&t.length>0?n.a.createElement("div",{class:"pagination",onClick:function(e){if(e.target.classList.contains("page")){if(e.target.classList.contains("page-previous")&&c>1)r(c-1);else if(e.target.classList.contains("page-next")&&c<l.length)r(c+1);else{if((1===c||c===l.length)&&(e.target.classList.contains("page-previous")||e.target.classList.contains("page-next")))return;r(+e.target.textContent)}var t=document.querySelector(".col-right").offsetTop;window.scrollTo({top:t,behavior:"smooth"})}}},a>1&&n.a.createElement("i",{class:"fas fa-chevron-left page page-previous"}),n.a.createElement("ul",null,l.map(function(e,t){return n.a.createElement("li",{class:c===t+1?"page page-current":"page"},t+1)})),a>1&&n.a.createElement("i",{class:"fas fa-chevron-right page page-next"})):null},Q=function(e){var t=Object(s.useContext)(m),a=e.trains,c=e.setTrains;console.log(a);var r=e.searchParams||JSON.parse(sessionStorage.searchParams),i=Object(s.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],E=Object(s.useState)(0),h=Object(l.a)(E,2),_=h[0],f=h[1],p=Object(s.useState)("duration"),v=Object(l.a)(p,2),b=v[0],g=v[1],O=Object(s.useState)(5),k=Object(l.a)(O,2),y=k[0],S=k[1],j=Object(s.useState)(0),w=Object(l.a)(j,2),C=w[0],x=w[1],T=Object(s.useState)(1),L=Object(l.a)(T,2),N=L[0],D=L[1],F=Object(s.useState)({from:500,to:7e3}),P=Object(l.a)(F,2),M=(P[0],P[1],Object(s.useState)({from:0,to:24})),J=Object(l.a)(M,2),I=(J[0],J[1],Object(s.useState)({from:0,to:24})),B=Object(l.a)(I,2),z=(B[0],B[1],Object(s.useState)(!1)),A=Object(l.a)(z,2),R=(A[0],A[1],Object(s.useState)(!1)),W=Object(l.a)(R,2),H=(W[0],W[1],Object(s.useState)(!1)),$=Object(l.a)(H,2),Q=($[0],$[1],Object(s.useState)(!1)),K=Object(l.a)(Q,2),U=(K[0],K[1],Object(s.useState)(!1)),G=Object(l.a)(U,2),X=(G[0],G[1],Object(s.useState)(!1)),ee=Object(l.a)(X,2),te=(ee[0],ee[1],function(e){r.filters=e,t.getRoutes(r,b,y,C).then(function(e){sessionStorage.trains=JSON.stringify(e.items);var t=0===e.items.length?0:e.total_count;f(t),c(e.items),0===e.items.length&&d(!0)})});Object(s.useEffect)(function(){te()},[r.from.name,r.to.name,b,y,C]);return n.a.createElement(s.Fragment,null,n.a.createElement("section",{class:"columns"},n.a.createElement("div",{class:"col-left"},n.a.createElement(q,Object.assign({},e,{update:te})),n.a.createElement(V,null)),n.a.createElement("div",{class:"col-right"},n.a.createElement("div",{class:"results-display"},n.a.createElement("div",{class:"trains-count"},n.a.createElement("span",{class:"results-option"},"\u041d\u0430\u0439\u0434\u0435\u043d\u043e"),n.a.createElement("span",null,_)),n.a.createElement("div",{class:"sort"},n.a.createElement("span",{class:"results-option"},"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("ul",{onClick:function(e){var t=e.currentTarget,a=e.target;t.classList.toggle("sort_list-open"),Array.from(t.children).forEach(function(e){return e.classList.remove("sort-by-current")}),a.classList.add("sort-by-current"),g(a.dataset.sort),D(1)},class:"sort_list"},n.a.createElement("li",{class:"sort-by","data-sort":"date"},"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),n.a.createElement("li",{class:"sort-by sort-by-current","data-sort":"duration"},"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"))),n.a.createElement("div",{class:"limit"},n.a.createElement("span",{class:"results-option"},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("ul",{class:"limit_list",onClick:function(e){if(e.target.classList.contains("limit-by")){var t=e.currentTarget,a=e.target;Array.from(t.children).forEach(function(e){return e.classList.remove("limit-by-current")}),a.classList.add("limit-by-current"),S(a.dataset.limit),D(1)}}},n.a.createElement("li",{class:"limit-by limit-by-current","data-limit":5},"5"),n.a.createElement("li",{class:"limit-by","data-limit":10},"10"),n.a.createElement("li",{class:"limit-by","data-limit":20},"20")))),a.length>0?a.map(function(t){return n.a.createElement(Z,{departure:t.departure,currentTrain:e.currentTrain,setCurrentTrain:e.setCurrentTrain})}):u?n.a.createElement("div",{class:"not-found-notice"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430."):n.a.createElement("div",{class:"loader"},n.a.createElement("div",{class:"loader_image"})),n.a.createElement(Y,{trains:a,count:_,limit:y,currentPage:N,setCurrentPage:function(e){x(y*(e-1)),D(e)}}))))},K=function(e){var t=e.info,a=Math.floor(t.duration/18e3),s=Math.floor(t.duration/18e3%1*60);return n.a.createElement("div",{class:"current-train"},n.a.createElement("div",{class:"train-icon"}),n.a.createElement("div",{class:"train-info"},n.a.createElement("h4",{class:"train-info_number"},t.train.name),n.a.createElement("div",null,n.a.createElement("div",{class:"train-info_name"},t.from.city.name),n.a.createElement("div",{class:"train-info_name"},t.to.city.name))),n.a.createElement($,{info:t,showTravelTime:!1}),n.a.createElement("div",{class:"current-train_travel-time"},n.a.createElement("div",{class:"travel-time_icon"}),n.a.createElement("div",{class:"travel-time_text"},n.a.createElement("div",{class:"hours"},a," \u0447"),n.a.createElement("div",{class:"hours"},s," \u043c\u0438\u043d"))))},U=function(e){var t=e.passengers,a=e.setAdultSeats,c=e.setChildrenSeats,r=e.setChildrenWithoutSeats,i=Object(s.useState)(t.adults+t.children),o=Object(l.a)(i,2),m=o[0],u=(o[1],function(e){var s=function(t){return"inc"===e.currentTarget.dataset.op?t+1:t-1};switch(e.currentTarget.dataset.name){case"children":m<=4&&c(s(t.children));break;case"childrenwithoutSeats":m<=4&&r(s(t.childrenWithoutSeats));break;case"adults":a(s(t.adults));break;default:return}});return n.a.createElement("div",{class:"tickets-number"},n.a.createElement("h2",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432"),n.a.createElement("form",{class:"tickets-number_boxes"},n.a.createElement("div",{class:"tickets-number_box"},n.a.createElement("div",{class:"tickets-number_count"},n.a.createElement("div",{className:"tickets-number_title"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445:"),n.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"adults",onClick:u},"\u2013"),n.a.createElement("span",{className:"tickets-number_counter"},t.adults),n.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"adults",onClick:u},"+")),n.a.createElement("div",{class:"tickets-number_hint"},4-t.adults-t.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-t.adults-t.children," \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"):"\u0412 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043a\u0430\u0437\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 4 \u0431\u0438\u043b\u0435\u0442\u043e\u0432")),n.a.createElement("div",{class:"tickets-number_box"},n.a.createElement("div",{class:"tickets-number_count"},n.a.createElement("div",{className:"tickets-number_title"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0445: "),n.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"children",onClick:u},"\u2013"),n.a.createElement("span",{className:"tickets-number_counter"},t.children),n.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"children",onClick:u},"+")),n.a.createElement("div",{class:"tickets-number_hint"},4-t.adults-t.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-t.adults-t.children," \u0434\u0435\u0442\u0435\u0439 \u0434\u043e 10 \u043b\u0435\u0442"):"4 \u0431\u0438\u043b\u0435\u0442\u0430 \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"))))},G=function(e){var t=e.currentType,a=e.coaches,c=e.setCurrentType,r=e.currentCoach,i=e.setCurrentCoach,o=function(e){return e===t?"car-type_item-active":""},m=function(e){return e.match(/\d/g)},u=function(e){t!==e.currentTarget.dataset.type&&c(e.currentTarget.dataset.type)},d=Object(s.useState)(a[0]),E=Object(l.a)(d,2);E[0],E[1];return Object(s.useEffect)(function(){i(a[0])},[t]),n.a.createElement("div",{class:"car-type"},n.a.createElement("h2",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0432\u0430\u0433\u043e\u043d\u0430"),n.a.createElement("ul",{class:"car-type_icons"},n.a.createElement("li",{onClick:u,"data-type":"fourth",class:"car-type_item car-type_item-fourth-class "+o("fourth")},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),n.a.createElement("li",{onClick:u,"data-type":"third",class:"car-type_item car-type_item-third-class "+o("third")},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),n.a.createElement("li",{onClick:u,"data-type":"second",class:"car-type_item car-type_item-second-class "+o("second")},"\u041a\u0443\u043f\u0435"),n.a.createElement("li",{onClick:u,"data-type":"first",class:"car-type_item car-type_item-first-class "+o("first")},"\u041b\u044e\u043a\u0441")),a.length>0&&r?n.a.createElement(s.Fragment,null,n.a.createElement("div",{class:"car-number_switch"},"\u0412\u0430\u0433\u043e\u043d\u044b:",n.a.createElement("ul",{class:"car-number_list"},a.map(function(e,t){return n.a.createElement("li",{key:t,class:e.coach.name===r.coach.name?"current-car-number":"",onClick:function(){return i(e)}},m(e.coach.name))})),n.a.createElement("span",null,"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u0433\u043e\u043d\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u043e\u043b\u043e\u0432\u044b \u043f\u043e\u0435\u0437\u0434\u0430")),n.a.createElement("div",{class:"car-main"},n.a.createElement("div",{class:"car-number"},n.a.createElement("h2",null,m(r.coach.name)),n.a.createElement("span",null,"\u0432\u0430\u0433\u043e\u043d")),n.a.createElement("div",{class:"seats-info"},n.a.createElement("div",null,n.a.createElement("span",{class:"seats-info_title"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u0442\u0430:"),"second"===t||"third"===t?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u0412\u0435\u0440\u0445\u043d\u0438\u0435"),n.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435")):"first"===t?n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435"),n.a.createElement("span",null)):n.a.createElement(s.Fragment,null,n.a.createElement("span",null,"\u0421\u0438\u0434\u044f\u0447\u0438\u0435"),n.a.createElement("span",null))),n.a.createElement("div",null,n.a.createElement("span",{class:"seats-info_title"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),"second"===t||"third"===t?n.a.createElement(s.Fragment,null,n.a.createElement("span",{class:"seats-info_price"},r.coach.top_price),n.a.createElement("span",{class:"seats-info_price"},r.coach.bottom_price)):n.a.createElement(s.Fragment,null,n.a.createElement("span",{class:"seats-info_price"},r.coach.top_price),n.a.createElement("span",null))),n.a.createElement("div",null,n.a.createElement("span",{class:"seats-info_title"},"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"),n.a.createElement("ul",{class:"seats-info_services"},r.coach.have_air_conditioning?n.a.createElement("li",{class:"seats-info_service seats-info_service-air"},n.a.createElement("span",null)):null,r.coach.have_wifi?n.a.createElement("li",{class:"seats-info_service seats-info_service-wifi"},n.a.createElement("span",null)):null,r.coach.is_linens_included?n.a.createElement("li",{class:"seats-info_service seats-info_service-linens"},n.a.createElement("span",null)):null,n.a.createElement("li",{class:"seats-info_service seats-info_service-food"},n.a.createElement("span",null))))))):n.a.createElement("div",{class:"car-number_switch"},"\u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u0435\u0437\u0434\u0435 \u043d\u0435\u0442 \u043c\u0435\u0441\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430"))},X=function(e){var t,a,c=e.type,r=e.coach,l=e.passengers,i=e.chosen,o=e.setChosen,m=e.cancelChosen,u=e.setTotalPrice,d=e.topPrice,E=e.bottomPrice,h=e.sidePrice,_=function(e){return e%2===0?d:E};switch(c){case"first":t=ee,a=function(){return E};break;case"second":t=te,a=_;break;case"third":t=ae,a=function(e){return e>36?h:_(e)};break;case"fourth":t=se,a=function(){return E};break;default:return}Object(s.useEffect)(function(){var e=document.querySelectorAll(".scheme_seat");console.log("EFFECT"),i.length===l?e.forEach(function(e){e.classList.contains("scheme_seat-free")&&!e.classList.contains("scheme_seat-chosen")&&e.classList.add("scheme_seat-inactive")}):e.forEach(function(e){return e.classList.remove("scheme_seat-inactive")})},[i,l]);return n.a.createElement("div",{class:"car-scheme"},n.a.createElement("div",{class:"car-hint"},"second"===c||"third"===c?"\u041d\u0438\u0436\u043d\u0438\u0435 - \u043d\u0435\u0447\u0435\u0442\u043d\u044b\u0435, \u0432\u0435\u0440\u0445\u043d\u0438\u0435 - \u0447\u0435\u0442\u043d\u044b\u0435":"\u0412 \u043e\u0434\u0438\u043d \u0437\u0430\u043a\u0430\u0437 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 4 \u043c\u0435\u0441\u0442"),n.a.createElement("div",{class:"scheme_car-number",title:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430"},n.a.createElement("span",null,r.coach.name.match(/\d/g))),n.a.createElement("div",{class:"scheme",onClick:function(e){if(e.target.classList.contains("scheme_seat")&&e.target.classList.contains("scheme_seat-free")){var t=e.target,s=+t.textContent;console.log("CLICK"),t.classList.contains("scheme_seat-chosen")?(t.classList.remove("scheme_seat-chosen"),m(s),u(-a(s))):t.classList.contains("scheme_seat-free")&&i.length<l&&(e.target.classList.add("scheme_seat-chosen"),o(s),u(a(s)))}}},n.a.createElement(t,null)))},ee=function(){return n.a.createElement("div",{class:"scheme_train-first-class"},n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{class:"scheme_seat"},"2")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat"},"3"),n.a.createElement("div",{class:"scheme_seat"},"4")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat"},"5"),n.a.createElement("div",{class:"scheme_seat"},"6")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat"},"7"),n.a.createElement("div",{class:"scheme_seat"},"8")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat"},"9"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"10")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat"},"11"),n.a.createElement("div",{class:"scheme_seat"},"12")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat"},"13"),n.a.createElement("div",{class:"scheme_seat"},"14")),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"15"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"16")))},te=function(){return n.a.createElement("div",{class:"scheme_train-second-class"},n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{class:"scheme_seat"},"2")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"3"),n.a.createElement("div",{class:"scheme_seat"},"4"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"5"),n.a.createElement("div",{class:"scheme_seat"},"6")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"7"),n.a.createElement("div",{class:"scheme_seat"},"8"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"9"),n.a.createElement("div",{class:"scheme_seat"},"10")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"11"),n.a.createElement("div",{class:"scheme_seat"},"12"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"13"),n.a.createElement("div",{class:"scheme_seat"},"14")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"15"),n.a.createElement("div",{class:"scheme_seat"},"16"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"17"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"18")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"19"),n.a.createElement("div",{class:"scheme_seat"},"20"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"21"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"22")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"23"),n.a.createElement("div",{class:"scheme_seat"},"24"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"25"),n.a.createElement("div",{class:"scheme_seat"},"26")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"27"),n.a.createElement("div",{class:"scheme_seat"},"28"))),n.a.createElement("div",{class:"scheme_room"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"29"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"30")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"31"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"32"))))},ae=function(){return n.a.createElement("div",{class:"scheme_train-third-class"},n.a.createElement(te,null),n.a.createElement("div",{class:"scheme_train-side"},n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"33"),n.a.createElement("div",{class:"scheme_seat"},"34")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"35"),n.a.createElement("div",{class:"scheme_seat"},"36")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"37"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"38")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"39"),n.a.createElement("div",{class:"scheme_seat"},"40")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"41"),n.a.createElement("div",{class:"scheme_seat"},"42")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"43"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"44")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat"},"45"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"46")),n.a.createElement("div",null,n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"47"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"48"))))},se=function(){return n.a.createElement("div",{class:"scheme_train-fourth-class"},n.a.createElement("div",{class:"scheme_row"},n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"1"),n.a.createElement("div",{class:"scheme_seat"},"2"),n.a.createElement("div",{class:"scheme_seat"},"3"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"4"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"5"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"6"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"7"),n.a.createElement("div",{class:"scheme_seat"},"8"),n.a.createElement("div",{class:"scheme_seat"},"9"),n.a.createElement("div",{class:"scheme_seat"},"10"),n.a.createElement("div",{class:"scheme_seat"},"11"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"12"),n.a.createElement("div",{class:"scheme_seat"},"13"),n.a.createElement("div",{class:"scheme_seat"},"14"),n.a.createElement("div",{class:"scheme_seat"},"15"),n.a.createElement("div",{class:"scheme_seat"},"16"),n.a.createElement("div",{class:"scheme_seat"},"17"),n.a.createElement("div",{class:"scheme_seat"},"18"),n.a.createElement("div",{class:"scheme_seat"},"19"),n.a.createElement("div",{class:"scheme_seat"},"20"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"21"),n.a.createElement("div",{class:"scheme_seat"},"22"),n.a.createElement("div",{class:"scheme_seat"},"23"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"24"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"25"),n.a.createElement("div",{class:"scheme_seat"},"26"),n.a.createElement("div",{class:"scheme_seat"},"27"),n.a.createElement("div",{class:"scheme_seat"},"28"),n.a.createElement("div",{class:"scheme_seat"},"29"),n.a.createElement("div",{class:"scheme_seat"},"30"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"31"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"32")),n.a.createElement("div",{class:"scheme_row scheme_row-second"},n.a.createElement("div",{class:"scheme_seat"},"33"),n.a.createElement("div",{class:"scheme_seat"},"34"),n.a.createElement("div",{class:"scheme_seat"},"35"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"36"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"37"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"38"),n.a.createElement("div",{class:"scheme_seat"},"39"),n.a.createElement("div",{class:"scheme_seat"},"40"),n.a.createElement("div",{class:"scheme_seat"},"41"),n.a.createElement("div",{class:"scheme_seat"},"42"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"43"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"44"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"45"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"46"),n.a.createElement("div",{class:"scheme_seat"},"47"),n.a.createElement("div",{class:"scheme_seat"},"48"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"49"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"50"),n.a.createElement("div",{class:"scheme_seat"},"51"),n.a.createElement("div",{class:"scheme_seat"},"52"),n.a.createElement("div",{class:"scheme_seat"},"53"),n.a.createElement("div",{class:"scheme_seat"},"54"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"55"),n.a.createElement("div",{class:"scheme_seat"},"56"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"57"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"58"),n.a.createElement("div",{class:"scheme_seat"},"59"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"60"),n.a.createElement("div",{class:"scheme_seat"},"61"),n.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"62")))},ne=function(e){var t=Object(s.useContext)(m),a=Object(s.useState)([]),c=Object(l.a)(a,2),r=c[0],i=c[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=(d[0],d[1]),h=Object(s.useState)([]),_=Object(l.a)(h,2),f=_[0],p=_[1],v=Object(s.useState)(0),b=Object(l.a)(v,2),g=b[0],O=b[1],k=Object(s.useState)(""),y=Object(l.a)(k,2),S=y[0],j=y[1],w=Object(s.useState)(""),C=Object(l.a)(w,2),x=C[0],T=C[1],L=Object(s.useState)(1),N=Object(l.a)(L,2),D=N[0],F=N[1],P=Object(s.useState)(0),M=Object(l.a)(P,2),J=M[0],I=M[1],B=e.currentTrain||JSON.parse(sessionStorage.currentTrain),z=B._id;return Object(s.useEffect)(function(){t.getSeats(z).then(function(e){i(e),j(e[0].coach.class_type),E(e.filter(function(t){return t.coach.class_type===e[0].coach.class_type})),T(e[0]),sessionStorage.trainId=z})},[z]),S&&r?n.a.createElement("div",null,n.a.createElement("div",{class:"seats-choice"},n.a.createElement("div",{class:"change-train change-train-to"},n.a.createElement("span",{class:"change-train_arrow"},n.a.createElement("i",{class:"material-icons"},"arrow_forward")),n.a.createElement(o.b,{to:"/search",class:"change-train_button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434")),n.a.createElement(K,{info:B}),n.a.createElement(U,{passengers:{adults:D,children:J},setAdultSeats:function(e){return F(e)},setChildrenSeats:function(e){return I(e)}}),n.a.createElement(G,{coaches:r.filter(function(e){return e.coach.class_type===S}),currentType:S,currentCoach:x,setCurrentType:function(e){j(e),p([]),O(0)},setCurrentCoach:function(e){return T(e)}}),x&&n.a.createElement(X,{passengers:D+J,type:S,coach:x,topPrice:x.coach.top_price,bottomPrice:x.coach.bottom_price,sidePrice:x.coach.side_price,chosen:f,setChosen:function(e){var t=f.slice();t.push(e),p(t)},cancelChosen:function(e){var t=f.slice(),a=t.findIndex(function(t){return t.index===e.index});t.splice(a,1),p(t)},setTotalPrice:function(e){return O(g+e)}}),n.a.createElement("div",{class:"total-price"},parseInt(g).toLocaleString())),n.a.createElement("div",{class:"to-order-button-container"},n.a.createElement(o.b,{to:{pathname:"/passengers",passengers:{adults:D,children:J},seats:f,price:g}},n.a.createElement("button",{class:"to-order-button",disabled:0===f.length||D+J!==f.length},"\u0414\u0430\u043b\u0435\u0435")))):n.a.createElement("div",{class:"loader"},n.a.createElement("div",{class:"loader_image"}))},ce=function(e){var t=JSON.parse(sessionStorage.currentTrain),a=new Date(JSON.parse(sessionStorage.searchParams).date),s=new Date(a);return s.setHours(s.getHours()+new Date(1e3*t.duration).getHours()),console.log(s),n.a.createElement("div",{class:"trip-details"},n.a.createElement("h2",null,"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),n.a.createElement("div",{class:"trip-details_to"},n.a.createElement("div",{class:"trip-details_title"},n.a.createElement("h3",{class:"trainpicker_label trainpicker_label-to"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435")),n.a.createElement("div",{class:"trip-details_date"}),n.a.createElement("div",{class:"train-details"},n.a.createElement("div",null,n.a.createElement("span",null,"\u0414\u0430\u0442\u0430"),n.a.createElement("span",null,"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"),n.a.createElement("span",null,"\u041c\u0430\u0440\u0448\u0440\u0443\u0442")),n.a.createElement("div",null,n.a.createElement("span",null,a.toLocaleDateString()),n.a.createElement("span",null,n.a.createElement("b",null,t.train.name)),n.a.createElement("span",null,n.a.createElement("b",null,t.from.city.name,n.a.createElement("br",null),t.to.city.name)))),n.a.createElement("div",{class:"time-details"},n.a.createElement("div",null,n.a.createElement("span",{class:"time-details_time"},new Date(1e3*t.from.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{class:"time-details_date"},a.toLocaleDateString())),n.a.createElement("div",{class:"time-details_arrow"},Math.floor(t.duration/60/60)+":"+Math.floor(t.duration/60%60)),n.a.createElement("div",null,n.a.createElement("span",{class:"time-details_time"},new Date(1e3*t.to.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),n.a.createElement("span",{class:"time-details_date"},s.toLocaleDateString()))),n.a.createElement("div",{class:"direction-details"},n.a.createElement("div",null,n.a.createElement("span",{class:"direction-details_city"},t.from.city.name),n.a.createElement("br",null),n.a.createElement("span",{class:"direction-details_station"},t.from.railway_station_name)),n.a.createElement("div",null,n.a.createElement("span",{class:"direction-details_city"},t.to.city.name),n.a.createElement("br",null),n.a.createElement("span",{class:"direction-details_station"},t.to.railway_station_name)))),n.a.createElement("div",{class:"trip-details_passengers"},n.a.createElement("div",{class:"trip-details_title "},n.a.createElement("h3",{class:"trainpicker_label trainpicker_label-passenger"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b")),n.a.createElement("div",{class:"train-details passengers-details "},n.a.createElement("div",null,"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445: ",n.a.createElement("b",null,e.passengers.adults)),n.a.createElement("div",null,"\u0414\u0435\u0442\u0435\u0439: ",n.a.createElement("b",null,e.passengers.children)))),n.a.createElement("div",{class:"trip-details_total"},n.a.createElement("span",null,"\u0418\u0422\u041e\u0413"),n.a.createElement("span",{class:""},parseInt(e.price).toLocaleString())))},re=a(126),le=a(127),ie=a(55),oe=a.n(ie),me=a(46),ue=a.n(me),de=a(73),Ee=a.n(de),he=Object(p.createMuiTheme)({overrides:{MuiFormControl:{root:{width:"100%",display:"block"}},MuiInput:{underline:{borderRadius:"3px","&:after":{display:"none"},"&:before":{display:"none"},"&:hover":{borderBottom:"none !important"}}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",boxSizing:"border-box"},input:{boxSizing:"border-box",fontSize:"18px",fontWeight:"100",padding:"3px 0 3px 10px",height:"30px",width:"100%",border:"1px solid #928F94",outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px"},notchedOutline:{border:"none",outline:"none"}}}});function _e(e){var t=e.inputRef,a=Object(le.a)(e,["inputRef"]);return n.a.createElement(oe.a,Object.assign({},a,{ref:function(e){t(e?e.inputElement:null)},mask:e.mask,prefix:e.prefix,placeholderChar:"_",showMask:!0}))}function fe(e){var t,a=n.a.useState({textmask:"    "}),s=Object(l.a)(a,2),c=s[0],r=s[1];return n.a.createElement(p.MuiThemeProvider,{theme:he},n.a.createElement(Ee.a,null,n.a.createElement(ue.a,{value:c.textmask,onChange:(t="textmask",function(a){r(Object(re.a)({},c,Object(d.a)({},t,a.target.value))),e.onChange(a.target.value)}),id:"formatted-text-mask-input",inputComponent:_e,inputProps:{mask:e.inputmask}})))}var pe=function(e){e.location.passengers&&(sessionStorage.passengers=JSON.stringify(e.location.passengers),sessionStorage.seats=JSON.stringify(e.location.seats),sessionStorage.price=e.location.price);var t=e.location.passengers||JSON.parse(sessionStorage.passengers),a=e.location.price||JSON.parse(sessionStorage.price),c=Object(s.useState)([]),r=Object(l.a)(c,2),i=r[0],m=r[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=d[0],h=d[1],_=function(e){var t=E.slice();t.push(e),h(t)};return n.a.createElement("div",{class:"columns"},n.a.createElement("div",{class:"col-left"},n.a.createElement(ce,{passengers:t,price:a})),n.a.createElement("div",{class:"col-right"},new Array(t.adults).fill("").map(function(e,t){return n.a.createElement(ve,{passenger:t+1,open:!(t>0),adult:!0,setValid:function(e){return m(e)},valid:i,setPassengers:function(e){return _(e)}})}),new Array(t.children).fill("").map(function(e,a){return n.a.createElement(ve,{passenger:t.adults+1+a,open:!1,child:!0,setValid:function(e){return m(e)},valid:i,setPassengers:function(e){return _(e)}})}),n.a.createElement(o.b,{to:"/payment"},n.a.createElement("button",{disabled:i.length!==t.adults+t.children,onClick:function(){return sessionStorage.passengersList=JSON.stringify(E)},class:"to-order-button"},"\u0414\u0430\u043b\u0435\u0435"))))},ve=function(e){var t=e.open,a=e.passenger,c=e.child,r=e.adult,i=e.valid,o=e.setValid,m=e.setPassengers,u=Object(s.useState)(t),d=Object(l.a)(u,2),E=d[0],h=d[1],_=Object(s.useRef)(null),f=Object(s.useState)(""),p=Object(l.a)(f,2),v=p[0],g=p[1],O=Object(s.useState)(""),k=Object(l.a)(O,2),y=k[0],S=k[1],j=Object(s.useState)(""),w=Object(l.a)(j,2),C=w[0],x=w[1],T=Object(s.useState)(null),L=Object(l.a)(T,2),N=L[0],D=L[1],F=Object(s.useState)("\u043c\u0443\u0436\u0441\u043a\u043e\u0439"),P=Object(l.a)(F,2),M=P[0],J=P[1],I=Object(s.useState)(!1),B=Object(l.a)(I,2),z=B[0],A=B[1],R=Object(s.useState)(""),W=Object(l.a)(R,2),H=W[0],q=W[1],V=Object(s.useState)(""),$=Object(l.a)(V,2),Z=$[0],Y=$[1],Q=Object(s.useState)(""),K=Object(l.a)(Q,2),U=K[0],G=K[1],X=Object(s.useState)(r),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],se=function(e){var t=e.target.value;if(!t.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451 -]/g))switch(e.target.name){case"last-name":g(t);break;case"first-name":S(t);break;case"patronymic":x(t);break;default:return}},ne=4===H.replace(/\s|_/g,"").length&&6===Z.replace(/\s|_/g,"").length,ce=12===U.replace(/\s|_/g,"").length,re=y&&v&&C&&(ne||ce)&&N;if(Object(s.useEffect)(function(){re&&(console.log("EFFECT"),m({name:v+" "+y+" "+C,gender:"\u041f\u043e\u043b "+M,dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f "+N,document:te?"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424 "+H.replace(/\s/g,"")+Z.replace(/\s/g,""):"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 "+U.replace(/\s/g,""),adult:r}))},[re]),E){var le=new Date,ie=r?new Date(le.setYear(le.getFullYear()-100)):new Date(le.setYear(le.getFullYear()-10));return n.a.createElement("div",{class:"passengers-card passengers-card_open"},n.a.createElement("div",{onClick:function(){return h(!E)},class:"passengers-card_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",a),n.a.createElement("form",{ref:_,action:"",class:"passengers-card_form"},n.a.createElement("fieldset",null,n.a.createElement("div",{class:"select-container"},n.a.createElement("select",{defaultValue:r?"adult":"child",class:"passengers-card_select",name:"",id:""},n.a.createElement("option",{disabled:c,value:"adult"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439"),n.a.createElement("option",{disabled:r,value:"child"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"))),n.a.createElement("div",{class:"personal-details"},n.a.createElement("label",{for:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",n.a.createElement("input",{value:v,onChange:se,type:"text",name:"last-name",class:"passengers-card_last-name",id:""})),n.a.createElement("label",{for:"first-name"},"\u0418\u043c\u044f",n.a.createElement("input",{value:y,onChange:se,type:"text",name:"first-name",class:"passengers-card_name",id:""})),n.a.createElement("label",{for:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",n.a.createElement("input",{value:C,onChange:se,type:"text",name:"patronymic",class:"passengers-card_patronymic-name",id:""}))),n.a.createElement("div",{class:"personal-details"},n.a.createElement("label",{class:"gender_label",for:"gender"},"\u041f\u043e\u043b ",n.a.createElement("br",null),n.a.createElement("input",{onChange:function(){return J("\u043c\u0443\u0436\u0441\u043a\u043e\u0439")},defaultChecked:!0,value:"\u041c",type:"radio",class:"gender",name:"gender",id:"gender"}),n.a.createElement("input",{onChange:function(){return J("\u0436\u0435\u043d\u0441\u043a\u0438\u0439")},value:"\u0416",type:"radio",class:"gender",name:"gender",id:"gender"})),n.a.createElement("label",{class:"birth-picker"},"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",n.a.createElement(b,{minDate:ie,minDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",disableFuture:!0,adornment:{style:{display:"none"}},defaultDate:null,onDateSelect:function(e){return D(e.toLocaleDateString())}}))),n.a.createElement("div",{class:"disabilities-check"},n.a.createElement("input",{checked:z,onChange:function(){return A(!z)},type:"checkbox",id:"disabilities",class:"disabilities"}),n.a.createElement("label",{for:"disabilities"},"\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c"))),n.a.createElement("fieldset",null,n.a.createElement("div",null,n.a.createElement("label",{class:"select-label",for:""},"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",n.a.createElement("select",{defaultValue:r?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",onChange:function(){return ae(!te)},name:"",id:""},n.a.createElement("option",{value:"\u043f\u0430\u0441\u043f\u043e\u0440\u0442"},"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),n.a.createElement("option",{disabled:r,value:"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"))),r?n.a.createElement(s.Fragment,null,n.a.createElement("label",{for:""},"\u0421\u0435\u0440\u0438\u044f",n.a.createElement(fe,{value:H,onChange:function(e){return q(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/]})),n.a.createElement("label",{for:""},"\u041d\u043e\u043c\u0435\u0440",n.a.createElement(fe,{value:Z,onChange:function(e){return Y(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]}))):n.a.createElement("label",{for:""},"\u041d\u043e\u043c\u0435\u0440",n.a.createElement(fe,{value:U,onChange:function(e){return G(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]})))),n.a.createElement("fieldset",null,y&&v&&C&&(H&&Z||U)&&N?n.a.createElement("output",{class:"error"},function(){try{!function(){if(y.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f!");if(v.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0444\u0430\u043c\u0438\u043b\u0438\u044e");if(C.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e")}(),function(){if(te){if(H.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 4 \u0446\u0438\u0444\u0440\u044b \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430");if(Z.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 6 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430")}else if(U.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 12 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438")}()}catch(t){return n.a.createElement("span",{class:"error"},t.message)}if(!i.find(function(e){return e===a})){var e=i.slice();e.push(a),o(e)}return n.a.createElement("span",{class:"valid"},"\u0413\u043e\u0442\u043e\u0432\u043e!")}()):n.a.createElement("output",null,n.a.createElement("span",{class:"warning"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b!")))))}return n.a.createElement("div",{class:"passengers-card "},n.a.createElement("div",{onClick:function(){return h(!E)},class:"passengers-card_title "},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",a))},be=function(e){var t=JSON.parse(sessionStorage.passengers),a=JSON.parse(sessionStorage.price),c=Object(s.useState)(""),r=Object(l.a)(c,2),i=r[0],m=r[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),E=d[0],h=d[1],_=Object(s.useState)(""),f=Object(l.a)(_,2),p=f[0],v=f[1],b=Object(s.useState)(""),g=Object(l.a)(b,2),O=g[0],k=g[1],y=Object(s.useState)(""),S=Object(l.a)(y,2),j=S[0],w=S[1],C=Object(s.useState)("credit-card"),x=Object(l.a)(C,2),T=x[0],L=x[1],N=function(e){var t=e.target.value;if(!t.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451]/g))switch(e.target.name){case"last-name":m(t);break;case"first-name":h(t);break;case"patronymic":v(t);break;default:return}},D=function(e){L(e.currentTarget.id)},F=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,10}$/i.test(j),P=/_/.test(O),M=E&&i&&p;return n.a.createElement("div",{class:"columns"},n.a.createElement("div",{class:"col-left"},n.a.createElement(ce,{passengers:t,price:a})),n.a.createElement("div",{class:"col-right"},n.a.createElement("div",{class:"order"},n.a.createElement("form",{class:"order-details",id:"order-details"},n.a.createElement("div",{class:"order_title"},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a\u0430"),n.a.createElement("fieldset",{class:"order_payer"},n.a.createElement("div",{class:"personal-details"},n.a.createElement("label",{for:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",n.a.createElement("input",{required:!0,value:i,onChange:N,type:"text",name:"last-name",class:"passengers-card_last-name",id:""})),n.a.createElement("label",{for:"first-name"},"\u0418\u043c\u044f",n.a.createElement("input",{required:!0,value:E,onChange:N,type:"text",name:"first-name",class:"passengers-card_name",id:""})),n.a.createElement("label",{for:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",n.a.createElement("input",{required:!0,value:p,onChange:N,type:"text",name:"patronymic",class:"passengers-card_patronymic-name",id:""}))),n.a.createElement("div",{class:"contact-details"},n.a.createElement("label",{for:""},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",n.a.createElement(fe,{value:O,onChange:function(e){return k(e)},prefix:"+7",inputmask:["+","7"," ","(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}),P?n.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 10 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u0435\u0437 +7 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 987 654 3210"):""),n.a.createElement("label",{for:""},"Email",n.a.createElement("input",{value:j,onChange:function(e){var t=e.target.value;t.match(/[^a-zA-Z0-9,_,-,@,.]/)||w(t)},type:"email",name:"email",placeholder:"email@mail.ru",class:"passengers-card_email",style:{textTransform:"none"}}),F?"":n.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")))),n.a.createElement("div",{class:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),n.a.createElement("fieldset",{class:"payment-methods"},n.a.createElement("div",null,n.a.createElement("input",{onChange:D,defaultChecked:!0,type:"radio",name:"payment-method",id:"credit-card"}),n.a.createElement("label",{for:"credit-card"},"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"),n.a.createElement("input",{onChange:D,type:"radio",name:"payment-method",id:"paypal"}),n.a.createElement("label",{for:"paypal"},"PayPal"),n.a.createElement("input",{onChange:D,type:"radio",name:"payment-method",id:"qiwi-wallet"}),n.a.createElement("label",{for:"qiwi-wallet"},"Visa QIWI Wallet"))))),n.a.createElement(o.b,{to:{pathname:"/confirmation",paymentMethod:T}},n.a.createElement("button",{onClick:function(){return sessionStorage.payer=JSON.stringify({first_name:E,last_name:i,patronymic:p,phone:O,email:j,payment_method:"online"})},class:"purchase-button",disabled:!(F&&!P&&M)},"\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b"))))},ge=function(e){var t=JSON.parse(sessionStorage.passengersList),a=JSON.parse(sessionStorage.passengers),s=JSON.parse(sessionStorage.price),c=JSON.parse(sessionStorage.currentTrain),r=e.location.paymentMethod;return n.a.createElement("div",{class:"columns"},n.a.createElement("div",{class:"col-left"},n.a.createElement(ce,{passengers:a,price:s})),n.a.createElement("div",{class:"col-right"},n.a.createElement("div",{class:"confirmation"},n.a.createElement("div",{class:"order_title"},"\u041f\u043e\u0435\u0437\u0434"),n.a.createElement(K,{info:c})),n.a.createElement("div",{class:"confirmation"},n.a.createElement("div",{class:"order_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"),n.a.createElement(Oe,{list:t})),n.a.createElement("div",{class:"confirmation"},n.a.createElement("div",{class:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),n.a.createElement("div",{class:"confirmation_payment"},n.a.createElement("div",{class:"confirmation_method"},function(){switch(r){case"paypal":return"PayPal";case"credit-card":return"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439";case"qiwi-wallet":return"Visa QIWI Wallet";default:return}}()),n.a.createElement("div",{class:"confirmation_price"},n.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e:"),n.a.createElement("span",null,parseInt(s).toLocaleString())))),n.a.createElement(o.b,{to:"/success"},n.a.createElement("button",{class:"purchase-button"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))},Oe=function(e){return e.list.map(function(e,t){return n.a.createElement(ke,{key:t,info:e})})},ke=function(e){e.key;var t=e.info;return n.a.createElement("div",{class:"passenger"},n.a.createElement("div",{class:"passenger-icon"},n.a.createElement("div",{class:"passenger-icon_img"}),n.a.createElement("div",{class:"passenger-icon_title"},t.adult?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439")),n.a.createElement("div",{class:"passenger-info"},n.a.createElement("div",{class:"passenger-info_name"},t.name),n.a.createElement("div",{class:"passenger-info_other"},t.gender),n.a.createElement("div",{class:"passenger-info_other"},t.dateOfBirth),n.a.createElement("div",{class:"passenger-info_other"},t.document)))},ye=function(e){var t=Object(s.useContext)(m),a=JSON.parse(sessionStorage.payer),c=JSON.parse(sessionStorage.currentTrain),r=JSON.parse(sessionStorage.passengersList),l=JSON.parse(sessionStorage.seats),i=parseInt(sessionStorage.price),o={user:a,departure:{route_direction_id:c._id,seats:r.map(function(e,t){return{person_info:{is_adult:e.adult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:e.dateOfBirth,document_type:e.document},seat_number:l[t]}})}};return Object(s.useEffect)(function(){t.createOrder(o).then(function(e){return console.log(e)})},[]),n.a.createElement("div",{class:"success"},n.a.createElement("h1",{class:"success_title"},"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),n.a.createElement("div",{class:"success_banner"},n.a.createElement("div",{class:"success_order"},n.a.createElement("div",{class:"success_id"},"\u2116 \u0417\u0430\u043a\u0430\u0437\u0430 285\u0410\u0410"),n.a.createElement("div",{class:"success_price"},i.toLocaleString())),n.a.createElement("ul",{class:"success_icons"},n.a.createElement("li",{class:"success_item"},n.a.createElement("span",{class:"success_icon success_icon-computer"}),n.a.createElement("span",{class:"success_text"},"\u0431\u0438\u043b\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0432\u0430\u0448 e-mail")),n.a.createElement("li",{class:"success_item"},n.a.createElement("span",{class:"success_icon success_icon-tickets"}),n.a.createElement("span",{class:"success_text"},"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u043e \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438")),n.a.createElement("li",{class:"success_item"},n.a.createElement("span",{class:"success_icon success_icon-conductor"}),n.a.createElement("span",{class:"success_text"},"\u043f\u0440\u0435\u0434\u044c\u044f\u0432\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043d\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043f\u0440\u0438 \u043f\u043e\u0441\u0430\u0434\u043a\u0435"))),n.a.createElement("div",{class:"success-info"},n.a.createElement("h2",{class:"success-info_title"},a.first_name+" "+a.patronymic+"!"),n.a.createElement("p",null,"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d. ",n.a.createElement("br",null),"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."),n.a.createElement("h3",null,"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0437\u0430 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0435 \u0438 \u0436\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f!")),n.a.createElement("div",{class:"rating"},n.a.createElement("span",{class:"rating_text"},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441"),n.a.createElement(Se,null))))},Se=function(){var e=new Array(5).fill(""),t=Object(s.useState)(-1),a=Object(l.a)(t,2),c=a[0],r=a[1],i=function(e){r(e.currentTarget.dataset.id)};return n.a.createElement("div",{class:"rating_stars"},e.map(function(e,t){return n.a.createElement(je,{index:t,rating:c,onClick:i})}))},je=function(e){var t=e.index,a=e.rating,s=e.onClick,c=t>a?"none":"#FFFFFF";return n.a.createElement("svg",{"data-id":t,onClick:s,width:"36",height:"34",viewBox:"0 0 56 44",fill:c,xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z",stroke:"white","stroke-width":"2"}))},we=a(21),Ce=a.n(we),xe=a(34),Te=(n.a.createContext(),new function e(){var t=this;Object(L.a)(this,e),this.fetchData=function(){var e=Object(xe.a)(Ce.a.mark(function e(t){var a,s,n=arguments;return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{method:"GET"},e.next=3,fetch("https://netology-trainbooking.herokuapp.com".concat(t),a);case 3:if((s=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(t,", status - ").concat(s.status));case 6:return e.next=8,s.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getCities=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/routes/cities?name=".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getRoutes=function(){var e=Object(xe.a)(Ce.a.mark(function e(a,s,n,c){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/routes?from_city_id=".concat(a.from.id,"&to_city_id=").concat(a.to.id,"&sort=").concat(s,"&limit=").concat(n,"&offset=").concat(c,"&").concat(a.filters||"?"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,s,n){return e.apply(this,arguments)}}(),this.getSeats=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/routes/".concat(a,"/seats"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.createOrder=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/order",{method:"POST",body:JSON.stringify(a)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.subscribe=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/subscribe?".concat(a),{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),Le=function(){void 0===sessionStorage.searchParams&&void 0===sessionStorage.currentTrain&&(sessionStorage.searchParams=JSON.stringify({}),sessionStorage.currentTrain=JSON.stringify({}));var e=Object(i.e)(C),t=Object(s.useState)(JSON.parse(sessionStorage.searchParams)),a=Object(l.a)(t,2),c=a[0],r=a[1],u=Object(s.useState)(JSON.parse(sessionStorage.currentTrain)),d=Object(l.a)(u,2),E=d[0],h=d[1],_=Object(s.useState)([]),f=Object(l.a)(_,2),p=f[0],v=f[1];return n.a.createElement(o.a,{basename:"/train/"},n.a.createElement(m.Provider,{value:Te},n.a.createElement(e,{setSearchParams:function(e){r(e),sessionStorage.searchParams=JSON.stringify(e)}}),n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/search",render:function(e){return n.a.createElement(Q,Object.assign({},e,{searchParams:c,trains:p,setTrains:function(e){return v(e)},setCurrentTrain:function(e){sessionStorage.currentTrain=JSON.stringify(e),h(e)}}))}}),n.a.createElement(i.a,{path:"/seats",render:function(e){return n.a.createElement(ne,Object.assign({},e,{currentTrain:E}))}}),n.a.createElement(i.a,{path:"/payment",component:be}),n.a.createElement(i.a,{path:"/passengers",component:pe}),n.a.createElement(i.a,{path:"/confirmation",component:ge}),n.a.createElement(i.a,{path:"/success",component:ye}),n.a.createElement(i.a,{path:"/",exact:!0,render:function(e){return n.a.createElement(k,e)}})),n.a.createElement(x,null)))};r.a.render(n.a.createElement(Le,null),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.ed94cce6.chunk.js.map