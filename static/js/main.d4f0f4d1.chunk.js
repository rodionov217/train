(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{132:function(e,t,a){e.exports=a(314)},137:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(18),r=a.n(n),l=(a(137),a(3)),i=a(33),o=a(16),m=c.a.createContext(),u=function(e){var t=Object(s.useContext)(m),a=e.placeholder,n=e.onSelect,r=Object(s.useState)([]),i=Object(l.a)(r,2),o=i[0],u=i[1],d=Object(s.useState)(""),E=Object(l.a)(d,2),h=E[0],_=E[1],f=Object(s.useState)(e.value),p=Object(l.a)(f,2),v=p[0],b=p[1];Object(s.useEffect)(function(){e.value!==v&&(b(e.value),_(e.value))},[e.value]);return c.a.createElement("div",{class:"input-with-icon"},c.a.createElement("span",{className:"trainpicker__hint"},c.a.createElement("span",{className:"trainpicker__hint-transparent"},h.slice(0,v.length)),h.slice(v.length)),c.a.createElement("input",{className:"trainpicker__input trainpicker__input-direction",onChange:function(e){var a=e.currentTarget.value;a.match(/[^\u0430-\u044f\u0410-\u044f ]/)||(b(a),t.getCities(a).then(function(e){var t=e.length>0?e.find(function(e){return e.name.startsWith(a)}):"";_(t?t.name:""),u(e)}))},type:"text",placeholder:a}),c.a.createElement("i",{class:"material-icons trainpicker__icon"},"room"),o.length>0?c.a.createElement("ul",{class:"suggestions",onClick:function(e){b(e.target.textContent),_(e.target.textContent),u([]),n({name:e.target.textContent,id:e.target.dataset.id})}},o.map(function(e){return c.a.createElement("li",{key:e._id,"data-id":e._id},e.name)})):null)},d=a(30),E=a(78),h=a(119),_=a.n(h),f=a(128),p=a(31),v=Object(p.createMuiTheme)({overrides:Object(d.a)({MuiPickersCalendarHeader:{daysHeader:{display:"none"}},MuiPickersDay:{day:{fontFamily:"Roboto"},isSelected:{backgroundColor:"rgba(255, 168, 0, 0.31)",border:"2px solid #FFA800",borderRadius:"5px",color:"black","&:hover":{backgroundColor:"rgba(255, 168, 0, 0.31)"}},current:{color:"orange",background:"inherit",border:"none"}},MuiIconButton:{label:{color:"inherit"},root:{padding:0}},MuiFormControl:{root:{width:"100%",display:"block"}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",width:"100%",boxSizing:"border-box"},input:{fontSize:"16px",fontWeight:"100",padding:"0 0 0 10px",width:"100%",border:0,outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px",lineHeight:"1em"},input:{padding:"15.5px"},notchedOutline:{border:"none",outline:"none"},adornedEnd:{paddingRight:"5px"}},MuiSvgIcon:{root:{fill:"#c4c4c4",width:"36px",height:"36px"}}},"MuiIconButton",{root:{padding:"6px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.05)"}}})}),b=function(e){var t=Object(s.useState)(e.defaultDate),a=Object(l.a)(t,2),n=a[0],r=a[1],i=e.disablePast,o=e.disableFuture,m=e.adornment,u=e.onDateSelect;return c.a.createElement(p.MuiThemeProvider,{theme:v},c.a.createElement(E.b,{utils:f.a,locale:_.a},c.a.createElement("div",{className:"picker",style:e.style},c.a.createElement(E.a,{keyboard:!0,clearable:!0,onlyCalendar:!0,disableOpenOnEnter:!0,disablePast:i,disableFuture:o,placeholder:"\u0414\u0414/\u041c\u041c/\u0413\u0413\u0413\u0413",invalidDateMessage:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442",minDateMessage:e.minDateMessage||"\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 \u043d\u0435 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0443\u044e \u0434\u0430\u0442\u0443",maxDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",variant:"outlined",InputAdornmentProps:m,value:n,onChange:function(e){r(e),u(e)},format:"dd/MM/yyyy",mask:function(e){return e?[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/]:[]}}))))},g=function(e){Object(s.useContext)(m);var t=e.horizontal,a=Object(s.useState)(""),n=Object(l.a)(a,2),r=n[0],i=n[1],d=Object(s.useState)(""),E=Object(l.a)(d,2),h=E[0],_=E[1],f=Object(s.useState)(""),p=Object(l.a)(f,2),v=p[0],g=p[1],O=Object(s.useState)(""),k=Object(l.a)(O,2),y=k[0],j=k[1],S=Object(s.useState)(new Date),w=Object(l.a)(S,2),C=w[0],x=w[1],T=Object(s.useState)(null),L=Object(l.a)(T,2),D=L[0];L[1];return c.a.createElement("form",{class:"trainpicker ".concat(t?"trainpicker-horizontal":"")},c.a.createElement("div",{class:"trainpicker__content ".concat(t?"trainpicker__content-horizontal":""," ")},c.a.createElement("label",{class:"trainpicker_label"},"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),c.a.createElement("div",{class:"trainpicker__inputs"},c.a.createElement(u,{value:r,placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",onSelect:function(e){i(e.name),_(e.id)}}),c.a.createElement("div",{onClick:function(){i(v),g(r)},class:"trainpicker__reverse",type:"checkbox",name:"reverse",id:"reverse"},c.a.createElement("i",{class:"fas fa-exchange-alt"})),c.a.createElement(u,{value:v,placeholder:"\u041a\u0443\u0434\u0430",onSelect:function(e){g(e.name),j(e.id)}}))),c.a.createElement("div",{class:"trainpicker__content ".concat(t?"trainpicker__content-horizontal":""," ")},c.a.createElement("label",{class:"trainpicker_label"},"\u0414\u0430\u0442\u0430"),c.a.createElement("div",{class:"trainpicker__inputs"},c.a.createElement(b,{style:{width:"285px",height:"50px"},onDateSelect:function(e){sessionStorage.travelDate=e,x(e)},defaultDate:new Date}))),c.a.createElement("button",{onClick:function(e){return e.preventDefault()},type:"submit",disabled:!(r&&v),className:"trainpicker__button ".concat(t?"trainpicker__button-horizontal":""," ")},r&&v?c.a.createElement(o.b,{to:"/search",onClick:function(){e.setSearchParams({from:{name:r,id:h},to:{name:v,id:y},date:C.toISOString().substr(0,10),dateBack:D&&D.toISOString().substr(0,10)})}},"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"):"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"))},O=function(e){var t=e.location.pathname;return"/success"===t?c.a.createElement("section",{class:"main-search main-search-success"}):"/"!==t?c.a.createElement("section",{class:"main-search"},c.a.createElement(g,Object.assign({horizontal:!0},e))):"/"===t?c.a.createElement("section",{class:"main",id:"main"},c.a.createElement("div",{class:"main__motto"},c.a.createElement("div",{class:"motto"},"\u0412\u0441\u044f \u0436\u0438\u0437\u043d\u044c -",c.a.createElement("div",{class:"motto-bold"},"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435!"))),c.a.createElement("div",{class:"main__picker"},c.a.createElement(g,e))):void 0},k=function(e){var t,a,n,r;return Object(s.useEffect)(function(){t=document.getElementById("about"),a=document.getElementById("features"),n=document.getElementById("reviews"),r=document.getElementById("footer")}),window.onresize=function(){console.log(t),e.setHomepageRefs({about:t.offsetTop,how:a.offsetTop,reviews:n.offsetTop,contacts:r.offsetTop})},c.a.createElement(s.Fragment,null,c.a.createElement(y,null),c.a.createElement(j,null),c.a.createElement(S,null))},y=function(){return c.a.createElement("section",{class:"about",id:"about"},c.a.createElement("h2",{class:"about__title"},"\u041e \u043d\u0430\u0441"),c.a.createElement("div",{class:"about__text"},c.a.createElement("p",{class:"about__item"},"\u041c\u044b \u0440\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0441! \u041c\u044b \u0440\u0431\u043e\u0442\u0430\u0435\u043c \u0434\u043b\u044f \u0412\u0430\u0441 \u0441 2003 \u0433\u043e\u0434\u0430. 14 \u043b\u0435\u0442 \u043c\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c, \u043a\u0430\u043a \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),c.a.createElement("p",{class:"about__item"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043e\u043d\u043b\u0430\u0439\u043d \u0432\u0441\u0435\u0433\u043e \u0432 2 \u043a\u043b\u0438\u043a\u0430, \u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c? \u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0437\u0430\u043a\u0430\u0437\u0430 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."),c.a.createElement("p",{class:"about__item about__item-bold"},"\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0435\u0448\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430 90 \u0441\u0443\u0442\u043e\u043a \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0435\u0437\u0434\u0430. \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0446\u0435\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u0430 \u043d\u0430 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u0430\u044f \u043d\u0438\u0437\u043a\u0430\u044f.")))},j=function(){return c.a.createElement("section",{class:"features",id:"features"},c.a.createElement("div",{class:"description"},c.a.createElement("h2",{class:"description__title"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"),c.a.createElement("button",{class:"description__button"},"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435")),c.a.createElement("div",{class:"features__items"},c.a.createElement("div",{class:"features__item features__item-monitor"},"\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"),c.a.createElement("div",{class:"features__item features__item-office"},"\u041d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0435\u0445\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0441"),c.a.createElement("div",{class:"features__item features__item-globe"},"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439")))},S=function(){return c.a.createElement("section",{class:"reviews",id:"reviews"},c.a.createElement("h2",{class:"reviews__title"},"\u041e\u0442\u0437\u044b\u0432\u044b"),c.a.createElement("div",{class:"reviews__slide"},c.a.createElement("div",{class:"review"},c.a.createElement("img",{class:"review__avatar",src:"https://i.ibb.co/Z1RgQdZ/av-1.png",alt:"av"}),c.a.createElement("div",{class:"review__content"},c.a.createElement("h4",{class:"review__author"},"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430"),c.a.createElement("p",{class:"review__text"},"\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442 \u0432\u043f\u0435\u0440\u0432\u044b\u0435."))),c.a.createElement("div",{class:"review"},c.a.createElement("img",{class:"review__avatar",src:"https://i.ibb.co/47wFWkj/av-2.png",alt:"av"}),c.a.createElement("div",{class:"review__content"},c.a.createElement("h4",{class:"review__author"},"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e"),c.a.createElement("p",{class:"review__text"},"\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438. \u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c \u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435.")))),c.a.createElement("div",{class:"carousel"},c.a.createElement("div",{class:"carousel__controls"},c.a.createElement("span",{class:"carousel__item carousel__item-active"}),c.a.createElement("span",{class:"carousel__item"}),c.a.createElement("span",{class:"carousel__item"}),c.a.createElement("span",{class:"carousel__item"}),c.a.createElement("span",{class:"carousel__item"}))))},w=function(e){var t=e.location.pathname,a=[{step:"/search/seats",title:"\u0411\u0438\u043b\u0435\u0442\u044b"},{step:"/passengers",title:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"},{step:"/payment",title:"\u041e\u043f\u043b\u0430\u0442\u0430"},{step:"/confirmation",title:"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"}],s=function(e,s){return e.step.match(t)||s<=a.findIndex(function(e){return e.step===t})};return c.a.createElement("section",{class:"progress"},a.map(function(e,t){return c.a.createElement("div",{class:"progress__step ".concat(s(e,t)?"progress__step-current":"")},c.a.createElement("span",{class:"number"},t+1),c.a.createElement("span",{class:"progress__text"},e.title),3===t?null:c.a.createElement("div",{class:"progress__arrow ".concat(s(e,t)?"progress__arrow-current":"")}))}))},C=function(e){var t=e.homepageRefs,a=function(a){var s={top:t[a.currentTarget.dataset.id],behavior:"smooth"};"/"===e.location.pathname&&a.preventDefault(),window.scrollTo(s)};return c.a.createElement(s.Fragment,null,c.a.createElement("section",{class:"header"},c.a.createElement("div",{class:"logo"},c.a.createElement(o.b,{class:"logo__link",to:"/"},"TrainBooking")),c.a.createElement("nav",null,c.a.createElement("ul",{class:"nav"},c.a.createElement("li",{class:"nav__item"},c.a.createElement(o.b,{onClick:a,class:"nav__link","data-id":"about",to:"/"},"\u041e \u043d\u0430\u0441")),c.a.createElement("li",{class:"nav__item"},c.a.createElement(o.b,{to:"/",onClick:a,"data-id":"how",class:"nav__link"},"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442")),c.a.createElement("li",{class:"nav__item"},c.a.createElement(o.b,{to:"/",onClick:a,"data-id":"reviews",class:"nav__link"},"\u041e\u0442\u0437\u044b\u0432\u044b")),c.a.createElement("li",{class:"nav__item"},c.a.createElement(o.b,{to:"/",onClick:a,"data-id":"contacts",class:"nav__link",href:"#footer"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"))))),c.a.createElement(O,e),"/"===e.location.pathname||"/success"===e.location.pathname?null:c.a.createElement(w,e))},x=function(){var e=Object(s.useContext)(m),t=Object(s.useState)(""),a=Object(l.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],E=Object(s.useState)(!1),h=Object(l.a)(E,2),_=h[0],f=h[1];return c.a.createElement("footer",{class:"footer",id:"footer"},c.a.createElement("div",{class:"footer footer-main"},c.a.createElement("div",{class:"contacts"},c.a.createElement("h3",{class:"footer__title"},"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"),c.a.createElement("ul",{class:"contacts__list"},c.a.createElement("li",{class:"contacts__item contacts__item-phone"},"8 (800) 000 00 00"),c.a.createElement("li",{class:"contacts__item contacts__item-email"},"inbox@mail.ru"),c.a.createElement("li",{class:"contacts__item contacts__item-skype"},"tu.train.tickets"),c.a.createElement("li",{class:"contacts__item contacts__item-address"}," \u0433. \u041c\u043e\u0441\u043a\u0432\u0430 ",c.a.createElement("br",null)," \u0443\u043b. \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f 27-35 ",c.a.createElement("br",null),"  555 555"))),c.a.createElement("div",{class:"subscription"},c.a.createElement("h3",{class:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"),c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\.)+[a-z]{2,6}$/.test(n)?(e.subscribe(n),d(!1),f(!0),r("")):d(!0)},action:"",class:"subscription-form"},c.a.createElement("label",{class:"subscription-form__label"},"\u0411\u0443\u0434\u044c\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),c.a.createElement("input",{value:n,onChange:function(e){var t=e.target.value;t.match(/[^a-zA-Z0-9,_,-,@,.]/)||r(t)},class:"subscription-form__input",type:"email",name:"subscription",placeholder:"e-mail"}),c.a.createElement("button",{class:"subscription-form__button",type:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),c.a.createElement("div",{style:{visibility:u?"visible":"hidden"},class:"subscription_hint"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru"),c.a.createElement("div",{style:{visibility:_?"visible":"hidden"},class:"subscription_thankyou"},"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443!")),c.a.createElement("h3",{class:"footer__title"},"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0441"),c.a.createElement("ul",{class:"social"},c.a.createElement("li",{class:"social__item"},c.a.createElement("a",{href:"",class:"social__link social__link-youtube"})),c.a.createElement("li",{class:"social__item"},c.a.createElement("a",{href:"",class:"social__link social__link-linkedIn"})),c.a.createElement("li",{class:"social__item"},c.a.createElement("a",{href:"",class:"social__link social__link-googlePlus"})),c.a.createElement("li",{class:"social__item"},c.a.createElement("a",{href:"",class:"social__link social__link-facebook"})),c.a.createElement("li",{class:"social__item"},c.a.createElement("a",{href:"",class:"social__link social__link-twitter"}))))),c.a.createElement("div",{class:"footer-additional"},c.a.createElement("div",{class:"footer__logo"},c.a.createElement("a",{class:"logo__link",href:"#"},"TrainBooking")),c.a.createElement("div",{class:"footer__home-arrow",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}}),c.a.createElement("div",{class:"footer__copyright"},"2018 WEB")))},T=a(57),L=a(56),D=a(121),N=a(129),P=a(122),F=a(130),M=a(123),J=a.n(M),I=a(124),B=a.n(I),R=a(125),z=a.n(R),A=function(e){function t(){var e,a;Object(L.a)(this,t);for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return(a=Object(N.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(c)))).state={checkedA:!0,checkedB:!0},a.handleChange=function(e){return function(t){a.props.onChange(),a.setState(Object(d.a)({},e,t.target.checked))}},a}return Object(F.a)(t,e),Object(D.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes,s=t.label,n=[{name:"second-class",value:"\u043a\u0443\u043f\u0435"},{name:"third-class",value:"\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"},{name:"first-class",value:"\u043b\u044e\u043a\u0441"},{name:"fourth-class",value:"\u0441\u0438\u0434\u044f\u0447\u0438\u0439"},{name:"express",value:"\u044d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},{name:"wi-fi",value:"wi-fi"}];return c.a.createElement("div",null,c.a.createElement(J.a,{row:!0},c.a.createElement(B.a,{style:{width:"80%",justifyContent:"space-between",color:"#ffffff"},classes:{label:s},label:c.a.createElement("label",{className:"switches_label "+(e=s,n.find(function(t){return t.value===e.toLowerCase()}).name),style:{color:"#fff",marginRight:"1rem"}},s),labelPlacement:"start",control:c.a.createElement(z.a,{checked:this.props.checked,onChange:this.handleChange("checkedA"),value:"checkedA",classes:{switchBase:a.colorSwitchBase,checked:a.colorChecked,bar:a.colorBar,icon:a.icon}})})))}}]),t}(c.a.Component),W=Object(p.withStyles)(function(e){return{colorSwitchBase:{color:"#c4c4c4","& + $colorBar":{backgroundColor:"#ffffff",border:"1px solid #3E3C41",opacity:1,width:"100%"},"&$colorChecked":{color:"#FFA800",position:"relative",left:"30px","& + $colorBar":{backgroundColor:"#FCDC90",opacity:1}}},icon:{marginTop:"2px"},colorBar:{},colorChecked:{},label:{color:"#fff"}}})(A),H=function(e){var t=e.first,a=e.second,s=e.third,n=e.fourth,r=e.setFirst,l=e.express,i=e.wifi,o=e.setSecond,m=e.setThird,u=e.setFourth,d=e.setExpress,E=e.setWifi;return c.a.createElement("div",null,c.a.createElement(W,{checked:a,onChange:o,label:"\u041a\u0443\u043f\u0435"}),c.a.createElement(W,{checked:s,onChange:m,label:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"}),c.a.createElement(W,{checked:n,onChange:u,label:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"}),c.a.createElement(W,{checked:t,onChange:r,label:"\u041b\u044e\u043a\u0441"}),c.a.createElement(W,{checked:l,onChange:d,label:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"}),c.a.createElement(W,{checked:i,onChange:E,label:"Wi-Fi"}))},q=function(e){Object(s.useContext)(m);var t=e.searchParams||JSON.parse(sessionStorage.searchParams),a=Object(s.useState)({from:500,to:7e3}),n=Object(l.a)(a,2),r=n[0],i=n[1],o=Object(s.useState)({from:0,to:24}),u=Object(l.a)(o,2),d=u[0],E=u[1],h=Object(s.useState)({from:0,to:24}),_=Object(l.a)(h,2),f=_[0],p=_[1],v=Object(s.useState)(!1),g=Object(l.a)(v,2),O=g[0],k=g[1],y=Object(s.useState)(!0),j=Object(l.a)(y,2),S=j[0],w=j[1],C=Object(s.useState)(!1),x=Object(l.a)(C,2),L=x[0],D=x[1],N=Object(s.useState)(!1),P=Object(l.a)(N,2),F=P[0],M=P[1],J=Object(s.useState)(!1),I=Object(l.a)(J,2),B=I[0],R=I[1],z=Object(s.useState)(!0),A=Object(l.a)(z,2),W=A[0],q=A[1];t.filters="price_from=".concat(r.from,"&price_to=").concat(r.to).concat(O?"&have_first_class=true":"").concat(S?"&have_second_class=true":"").concat(L?"&have_third_class=true":"").concat(F?"&have_fourth_class=true":"").concat(W?"&have_wifi=true":"").concat(B?"&have_express=true":"");return console.log(t.filters),c.a.createElement("form",{action:"",class:"search-form "},c.a.createElement("fieldset",{class:"search-form__set"},c.a.createElement("div",{class:"date-filter"},c.a.createElement("label",{class:"trainpicker_label"},"\u0414\u0430\u0442\u0430 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),c.a.createElement(b,{style:{width:"240px",height:"50px"},onDateSelect:function(e){sessionStorage.travelDate=e},defaultDate:new Date}))),c.a.createElement("fieldset",{class:"seat-types"},c.a.createElement(H,{first:O,second:S,third:L,fourth:F,express:B,wifi:W,setFirst:function(){return k(!O)},setSecond:function(){return w(!S)},setThird:function(){return D(!L)},setFourth:function(){return M(!F)},setExpress:function(){return R(!B)},setWifi:function(){return q(!W)}})),c.a.createElement("fieldset",{class:"cost-picker"},c.a.createElement("label",{class:"trainpicker_label"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),c.a.createElement(T.a,{onChange:function(e){return i({from:e.from,to:e.to})},type:"double",grid:!1,from:r.from,to:r.to,min:500,max:7e3,hide_min_max:!0,skin:"material"})),c.a.createElement("fieldset",{class:"time-picker"},c.a.createElement("label",{class:"trainpicker_label"},"\u0412\u0440\u0435\u043c\u044f"),c.a.createElement("label",{class:"range-picker_label",for:""},"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),c.a.createElement(T.a,{onChange:function(e){E({from:e.from,to:e.to})},type:"double",grid:!1,from:d.from,to:d.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}}),c.a.createElement("label",{class:"range-picker_label",for:""},"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"),c.a.createElement(T.a,{onChange:function(e){return p({from:e.from,to:e.to})},type:"double",grid:!1,from:f.from,to:f.to,min:0,max:24,hide_min_max:!1,skin:"material",prettify:function(e){return e+":00"}})),c.a.createElement("button",{onClick:function(a){a.preventDefault(),e.update(t.filters)},class:"filters__button"},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"),c.a.createElement("button",{onClick:function(e){e.preventDefault(),i({from:500,to:7e3}),E({from:0,to:24}),p({from:0,to:24}),t.filters="",window.location.href="/search"},class:"filters__button"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"))},V=function(){return c.a.createElement("div",{class:"last-tickets"},c.a.createElement("h2",{class:"last-tickets_title"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"),c.a.createElement("div",{class:"last-tickets_card"},c.a.createElement("div",{class:"last-tickets_directions"},c.a.createElement("div",{class:"last-tickets_from"},c.a.createElement("div",{class:"train-schedule_city"},"\u0421\u0430\u043c\u0430\u0440\u0430"),c.a.createElement("div",{class:"train-schedule_station"},"\u041a\u0443\u0440\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b")),c.a.createElement("div",{class:"last-tickets_to"},c.a.createElement("div",{class:"train-schedule_city"},"\u041c\u043e\u0441\u043a\u0432\u0430"),c.a.createElement("div",{class:"train-schedule_station"},"\u0420\u0438\u0436\u0441\u043a\u0438\u0439 \u0432\u043e\u043a\u0437\u0430\u043b"))),c.a.createElement("div",{class:"last-tickets_info"},c.a.createElement("div",{class:"last-tickets_labels"},c.a.createElement("span",{class:"switches_label wi-fi"}),c.a.createElement("span",{class:"switches_label express"}),c.a.createElement("span",{class:"switches_label breakfast"})),c.a.createElement("div",{class:"last-tickets_price"},c.a.createElement("span",null,"3 500")))))},$=(a(308),function(e){var t=e.info,a=e.showTravelTime,s=Math.floor(t.duration/60/60),n=(new Date(1e3*t.duration).toLocaleTimeString("ruRu",{hour:"numeric",minute:"numeric"}),Math.floor(t.duration/60%60));return c.a.createElement("div",{class:"train-schedule"},c.a.createElement("div",{class:"train-schedule_way"},c.a.createElement("div",{class:"train-schedule_from"},c.a.createElement("h4",{class:"train-schedule_time"},new Date(1e3*t.from.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),c.a.createElement("div",{class:"train-schedule_city"},t.from.city.name),c.a.createElement("div",{class:"train-schedule_station"},t.from.railway_station_name)),c.a.createElement("div",{class:"train-schedule_travel-arrow"},a?c.a.createElement("span",null,s," \u0447 ",n," \u043c\u0438\u043d"):null,c.a.createElement("i",{class:"material-icons"},"arrow_forward")),c.a.createElement("div",{class:"train-schedule_to"},c.a.createElement("h4",{class:"train-schedule_time"},new Date(1e3*t.to.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),c.a.createElement("div",{class:"train-schedule_city"},t.to.city.name),c.a.createElement("div",{class:"train-schedule_station"},t.to.railway_station_name))))}),Z=function(e){var t=e.departure;return c.a.createElement("div",{class:"train"},c.a.createElement("div",{class:"train-info"},c.a.createElement("div",{class:"train-icon"}),c.a.createElement("h4",{class:"train-info_number"},t.train.name),c.a.createElement("div",{class:"train-info_destination"},c.a.createElement("div",{class:"train-info_name"},t.from.city.name),c.a.createElement("div",{class:"train-info_name"},t.to.city.name))),c.a.createElement($,{info:t,showTravelTime:!0}),c.a.createElement("div",{class:"train-seats"},c.a.createElement("ul",{class:"train-seats_list"},t.have_fourth_class?c.a.createElement("li",null,c.a.createElement("span",{class:"train-seats_type"},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),c.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.fourth),c.a.createElement("span",{class:"train-seats_price"},t.price_info.fourth.top_price)):null,t.have_third_class?c.a.createElement("li",null,c.a.createElement("span",{class:"train-seats_type"},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),c.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.third),c.a.createElement("span",{class:"train-seats_price"},t.price_info.third.top_price)):null,t.have_second_class?c.a.createElement("li",null,c.a.createElement("span",{class:"train-seats_type"},"\u041a\u0443\u043f\u0435"),c.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.second),c.a.createElement("span",{class:"train-seats_price"},t.price_info.second.top_price)):null,t.have_first_class?c.a.createElement("li",null,c.a.createElement("span",{class:"train-seats_type"},"\u041b\u044e\u043a\u0441"),c.a.createElement("span",{class:"train-seats_amount"},t.available_seats_info.first),c.a.createElement("span",{class:"train-seats_price"},t.price_info.first.top_price)):null),c.a.createElement("div",null,c.a.createElement("div",{class:"train-seats_icons"},t.have_wifi?c.a.createElement("span",{title:"\u0415\u0441\u0442\u044c wi-fi"},c.a.createElement("i",{class:"fas fa-wifi"})):null,t.have_air_conditioning?c.a.createElement("span",{title:"\u0415\u0441\u0442\u044c \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"},c.a.createElement("i",{class:"far fa-snowflake"})):null,t.is_express?c.a.createElement("span",{title:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441"},c.a.createElement("span",{class:"rocket"})):null),c.a.createElement("div",{class:"train-seats_button-container"},c.a.createElement(o.b,{className:"train-seats_button",to:"/seats",onClick:function(){return e.setCurrentTrain(t)}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u0430")))))},Y=function(e){var t=e.trains,a=e.count,s=e.limit,n=e.currentPage,r=e.setCurrentPage,l=new Array(Math.ceil(a/s)).fill("");return a>0&&t.length>0?c.a.createElement("div",{class:"pagination",onClick:function(e){if(e.target.classList.contains("page"))if(e.target.classList.contains("page-previous")&&n>1)r(n-1);else if(e.target.classList.contains("page-next")&&n<l.length)r(n+1);else{if((1===n||n===l.length)&&(e.target.classList.contains("page-previous")||e.target.classList.contains("page-next")))return;r(+e.target.textContent)}}},a>1&&c.a.createElement("i",{class:"fas fa-chevron-left page page-previous"}),c.a.createElement("ul",null,l.map(function(e,t){return c.a.createElement("li",{class:n===t+1?"page page-current":"page"},t+1)})),a>1&&c.a.createElement("i",{class:"fas fa-chevron-right page page-next"})):null},Q=function(e){var t=Object(s.useContext)(m),a=e.trains,n=e.setTrains;console.log(a);var r=e.searchParams||JSON.parse(sessionStorage.searchParams),i=Object(s.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],E=Object(s.useState)(0),h=Object(l.a)(E,2),_=h[0],f=h[1],p=Object(s.useState)("duration"),v=Object(l.a)(p,2),b=v[0],g=v[1],O=Object(s.useState)(5),k=Object(l.a)(O,2),y=k[0],j=k[1],S=Object(s.useState)(0),w=Object(l.a)(S,2),C=w[0],x=w[1],T=Object(s.useState)(1),L=Object(l.a)(T,2),D=L[0],N=L[1],P=Object(s.useState)({from:500,to:7e3}),F=Object(l.a)(P,2),M=(F[0],F[1],Object(s.useState)({from:0,to:24})),J=Object(l.a)(M,2),I=(J[0],J[1],Object(s.useState)({from:0,to:24})),B=Object(l.a)(I,2),R=(B[0],B[1],Object(s.useState)(!1)),z=Object(l.a)(R,2),A=(z[0],z[1],Object(s.useState)(!1)),W=Object(l.a)(A,2),H=(W[0],W[1],Object(s.useState)(!1)),$=Object(l.a)(H,2),Q=($[0],$[1],Object(s.useState)(!1)),G=Object(l.a)(Q,2),K=(G[0],G[1],Object(s.useState)(!1)),U=Object(l.a)(K,2),X=(U[0],U[1],Object(s.useState)(!1)),ee=Object(l.a)(X,2),te=(ee[0],ee[1],function(e){r.filters=e,t.getRoutes(r,b,y,C).then(function(e){sessionStorage.trains=JSON.stringify(e.items);var t=0===e.items.length?0:e.total_count;f(t),n(e.items),0===e.items.length&&d(!0)})});Object(s.useEffect)(function(){te()},[r.from.name,r.to.name,b,y,C]);return c.a.createElement(s.Fragment,null,c.a.createElement("section",{class:"columns"},c.a.createElement("div",{class:"col-left"},c.a.createElement(q,Object.assign({},e,{update:te})),c.a.createElement(V,null)),c.a.createElement("div",{class:"col-right"},c.a.createElement("div",{class:"results-display"},c.a.createElement("div",{class:"trains-count"},c.a.createElement("span",{class:"results-option"},"\u041d\u0430\u0439\u0434\u0435\u043d\u043e"),c.a.createElement("span",null,_)),c.a.createElement("div",{class:"sort"},c.a.createElement("span",{class:"results-option"},"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),c.a.createElement("ul",{onClick:function(e){var t=e.currentTarget,a=e.target;t.classList.toggle("sort_list-open"),Array.from(t.children).forEach(function(e){return e.classList.remove("sort-by-current")}),a.classList.add("sort-by-current"),g(a.dataset.sort),N(1)},class:"sort_list"},c.a.createElement("li",{class:"sort-by","data-sort":"date"},"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e"),c.a.createElement("li",{class:"sort-by sort-by-current","data-sort":"duration"},"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"))),c.a.createElement("div",{class:"limit"},c.a.createElement("span",{class:"results-option"},"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e:"),c.a.createElement("ul",{class:"limit_list",onClick:function(e){if(e.target.classList.contains("limit-by")){var t=e.currentTarget,a=e.target;Array.from(t.children).forEach(function(e){return e.classList.remove("limit-by-current")}),a.classList.add("limit-by-current"),j(a.dataset.limit),N(1)}}},c.a.createElement("li",{class:"limit-by limit-by-current","data-limit":5},"5"),c.a.createElement("li",{class:"limit-by","data-limit":10},"10"),c.a.createElement("li",{class:"limit-by","data-limit":20},"20")))),a.length>0?a.map(function(t){return c.a.createElement(Z,{departure:t.departure,currentTrain:e.currentTrain,setCurrentTrain:e.setCurrentTrain})}):u?c.a.createElement("div",{class:"not-found-notice"},"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430."):c.a.createElement("div",{class:"loader"},c.a.createElement("div",{class:"loader_image"})),c.a.createElement(Y,{trains:a,count:_,limit:y,currentPage:D,setCurrentPage:function(e){x(y*(e-1)),N(e)}}))))},G=function(e){var t=e.info,a=Math.floor(t.duration/18e3),s=Math.floor(t.duration/18e3%1*60);return c.a.createElement("div",{class:"current-train"},c.a.createElement("div",{class:"train-icon"}),c.a.createElement("div",{class:"train-info"},c.a.createElement("h4",{class:"train-info_number"},t.train.name),c.a.createElement("div",null,c.a.createElement("div",{class:"train-info_name"},t.from.city.name),c.a.createElement("div",{class:"train-info_name"},t.to.city.name))),c.a.createElement($,{info:t,showTravelTime:!1}),c.a.createElement("div",{class:"current-train_travel-time"},c.a.createElement("div",{class:"travel-time_icon"}),c.a.createElement("div",{class:"travel-time_text"},c.a.createElement("div",{class:"hours"},a," \u0447"),c.a.createElement("div",{class:"hours"},s," \u043c\u0438\u043d"))))},K=function(e){var t=e.passengers,a=e.setAdultSeats,n=e.setChildrenSeats,r=e.setChildrenWithoutSeats,i=Object(s.useState)(t.adults+t.children),o=Object(l.a)(i,2),m=o[0],u=(o[1],function(e){var s=function(t){return"inc"===e.currentTarget.dataset.op?t+1:t-1};switch(e.currentTarget.dataset.name){case"children":m<=4&&n(s(t.children));break;case"childrenwithoutSeats":m<=4&&r(s(t.childrenWithoutSeats));break;case"adults":a(s(t.adults));break;default:return}});return c.a.createElement("div",{class:"tickets-number"},c.a.createElement("h2",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432"),c.a.createElement("form",{class:"tickets-number_boxes"},c.a.createElement("div",{class:"tickets-number_box"},c.a.createElement("div",{class:"tickets-number_count"},c.a.createElement("div",{className:"tickets-number_title"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445:"),c.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"adults",onClick:u},"\u2013"),c.a.createElement("span",{className:"tickets-number_counter"},t.adults),c.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"adults",onClick:u},"+")),c.a.createElement("div",{class:"tickets-number_hint"},4-t.adults-t.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-t.adults-t.children," \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"):"\u0412 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043a\u0430\u0437\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 4 \u0431\u0438\u043b\u0435\u0442\u043e\u0432")),c.a.createElement("div",{class:"tickets-number_box"},c.a.createElement("div",{class:"tickets-number_count"},c.a.createElement("div",{className:"tickets-number_title"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0445: "),c.a.createElement("span",{className:"tickets-number_control dec","data-op":"dec","data-name":"children",onClick:u},"\u2013"),c.a.createElement("span",{className:"tickets-number_counter"},t.children),c.a.createElement("span",{className:"tickets-number_control inc","data-op":"inc","data-name":"children",onClick:u},"+")),c.a.createElement("div",{class:"tickets-number_hint"},4-t.adults-t.children>0?"\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ".concat(4-t.adults-t.children," \u0434\u0435\u0442\u0435\u0439 \u0434\u043e 10 \u043b\u0435\u0442"):"4 \u0431\u0438\u043b\u0435\u0442\u0430 \u0443\u0436\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"))))},U=function(e){var t=e.currentType,a=e.coaches,n=e.setCurrentType,r=e.currentCoach,i=e.setCurrentCoach,o=function(e){return e===t?"car-type_item-active":""},m=function(e){return e.match(/\d/g)},u=function(e){t!==e.currentTarget.dataset.type&&n(e.currentTarget.dataset.type)},d=Object(s.useState)(a[0]),E=Object(l.a)(d,2);E[0],E[1];return Object(s.useEffect)(function(){i(a[0])},[t]),c.a.createElement("div",{class:"car-type"},c.a.createElement("h2",null,"\u0422\u0438\u043f \u0432\u0430\u0433\u043e\u043d\u0430"),c.a.createElement("ul",{class:"car-type_icons"},c.a.createElement("li",{onClick:u,"data-type":"fourth",class:"car-type_item car-type_item-fourth-class "+o("fourth")},"\u0421\u0438\u0434\u044f\u0447\u0438\u0439"),c.a.createElement("li",{onClick:u,"data-type":"third",class:"car-type_item car-type_item-third-class "+o("third")},"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442"),c.a.createElement("li",{onClick:u,"data-type":"second",class:"car-type_item car-type_item-second-class "+o("second")},"\u041a\u0443\u043f\u0435"),c.a.createElement("li",{onClick:u,"data-type":"first",class:"car-type_item car-type_item-first-class "+o("first")},"\u041b\u044e\u043a\u0441")),a.length>0&&r?c.a.createElement(s.Fragment,null,c.a.createElement("div",{class:"car-number_switch"},"\u0412\u0430\u0433\u043e\u043d\u044b:",c.a.createElement("ul",{class:"car-number_list"},a.map(function(e,t){return c.a.createElement("li",{key:t,class:e.coach.name===r.coach.name?"current-car-number":"",onClick:function(){return i(e)}},m(e.coach.name))})),c.a.createElement("span",null,"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u0433\u043e\u043d\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u043e\u043b\u043e\u0432\u044b \u043f\u043e\u0435\u0437\u0434\u0430")),c.a.createElement("div",{class:"car-main"},c.a.createElement("div",{class:"car-number"},c.a.createElement("h2",null,m(r.coach.name)),c.a.createElement("span",null,"\u0432\u0430\u0433\u043e\u043d")),c.a.createElement("div",{class:"seats-info"},c.a.createElement("div",null,c.a.createElement("span",{class:"seats-info_title"},"\u041c\u0435\u0441\u0442\u0430:"),"second"===t||"third"===t?c.a.createElement(s.Fragment,null,c.a.createElement("span",null,"\u0412\u0435\u0440\u0445\u043d\u0438\u0435"),c.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435")):"first"===t?c.a.createElement(s.Fragment,null,c.a.createElement("span",null,"\u041d\u0438\u0436\u043d\u0438\u0435"),c.a.createElement("span",null)):c.a.createElement(s.Fragment,null,c.a.createElement("span",null,"\u0421\u0438\u0434\u044f\u0447\u0438\u0435"),c.a.createElement("span",null))),c.a.createElement("div",null,c.a.createElement("span",{class:"seats-info_title"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"),"second"===t||"third"===t?c.a.createElement(s.Fragment,null,c.a.createElement("span",{class:"seats-info_price"},r.coach.top_price),c.a.createElement("span",{class:"seats-info_price"},r.coach.bottom_price)):c.a.createElement(s.Fragment,null,c.a.createElement("span",{class:"seats-info_price"},r.coach.top_price),c.a.createElement("span",null))),c.a.createElement("div",null,c.a.createElement("span",{class:"seats-info_title"},"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435"),c.a.createElement("ul",{class:"seats-info_services"},r.coach.have_air_conditioning?c.a.createElement("li",{class:"seats-info_service seats-info_service-air"},c.a.createElement("span",null)):null,r.coach.have_wifi?c.a.createElement("li",{class:"seats-info_service seats-info_service-wifi"},c.a.createElement("span",null)):null,r.coach.is_linens_included?c.a.createElement("li",{class:"seats-info_service seats-info_service-linens"},c.a.createElement("span",null)):null,c.a.createElement("li",{class:"seats-info_service seats-info_service-food"},c.a.createElement("span",null))))))):c.a.createElement("div",{class:"car-number_switch"},"\u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u0435\u0437\u0434\u0435 \u043d\u0435\u0442 \u043c\u0435\u0441\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430"))},X=function(e){var t,a,n=e.type,r=e.coach,l=e.passengers,i=e.chosen,o=e.setChosen,m=e.cancelChosen,u=e.setTotalPrice,d=e.topPrice,E=e.bottomPrice,h=e.sidePrice,_=function(e){return e%2===0?d:E};switch(n){case"first":t=ee,a=function(){return E};break;case"second":t=te,a=_;break;case"third":t=ae,a=function(e){return e>36?h:_(e)};break;case"fourth":t=se,a=function(){return E};break;default:return}Object(s.useEffect)(function(){var e=document.querySelectorAll(".scheme_seat");console.log("EFFECT"),i.length===l?e.forEach(function(e){e.classList.contains("scheme_seat-free")&&!e.classList.contains("scheme_seat-chosen")&&e.classList.add("scheme_seat-inactive")}):e.forEach(function(e){return e.classList.remove("scheme_seat-inactive")})},[i,l]);return c.a.createElement("div",{class:"car-scheme"},c.a.createElement("div",{class:"car-hint"},"second"===n||"third"===n?"\u041d\u0438\u0436\u043d\u0438\u0435 - \u043d\u0435\u0447\u0435\u0442\u043d\u044b\u0435, \u0432\u0435\u0440\u0445\u043d\u0438\u0435 - \u0447\u0435\u0442\u043d\u044b\u0435":"\u0412 \u043e\u0434\u0438\u043d \u0437\u0430\u043a\u0430\u0437 \u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 4 \u043c\u0435\u0441\u0442"),c.a.createElement("div",{class:"scheme_car-number",title:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430"},c.a.createElement("span",null,r.coach.name.match(/\d/g))),c.a.createElement("div",{class:"scheme",onClick:function(e){if(e.target.classList.contains("scheme_seat")&&e.target.classList.contains("scheme_seat-free")){var t=e.target,s=+t.textContent;console.log("CLICK"),t.classList.contains("scheme_seat-chosen")?(t.classList.remove("scheme_seat-chosen"),m(s),u(-a(s))):t.classList.contains("scheme_seat-free")&&i.length<l&&(e.target.classList.add("scheme_seat-chosen"),o(s),u(a(s)))}}},c.a.createElement(t,null)))},ee=function(){return c.a.createElement("div",{class:"scheme_train-first-class"},c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"1"),c.a.createElement("div",{class:"scheme_seat"},"2")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat"},"3"),c.a.createElement("div",{class:"scheme_seat"},"4")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat"},"5"),c.a.createElement("div",{class:"scheme_seat"},"6")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat"},"7"),c.a.createElement("div",{class:"scheme_seat"},"8")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat"},"9"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"10")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat"},"11"),c.a.createElement("div",{class:"scheme_seat"},"12")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat"},"13"),c.a.createElement("div",{class:"scheme_seat"},"14")),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"15"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"16")))},te=function(){return c.a.createElement("div",{class:"scheme_train-second-class"},c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"1"),c.a.createElement("div",{class:"scheme_seat"},"2")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"3"),c.a.createElement("div",{class:"scheme_seat"},"4"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"5"),c.a.createElement("div",{class:"scheme_seat"},"6")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"7"),c.a.createElement("div",{class:"scheme_seat"},"8"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"9"),c.a.createElement("div",{class:"scheme_seat"},"10")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"11"),c.a.createElement("div",{class:"scheme_seat"},"12"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"13"),c.a.createElement("div",{class:"scheme_seat"},"14")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"15"),c.a.createElement("div",{class:"scheme_seat"},"16"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"17"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"18")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"19"),c.a.createElement("div",{class:"scheme_seat"},"20"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"21"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"22")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"23"),c.a.createElement("div",{class:"scheme_seat"},"24"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"25"),c.a.createElement("div",{class:"scheme_seat"},"26")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"27"),c.a.createElement("div",{class:"scheme_seat"},"28"))),c.a.createElement("div",{class:"scheme_room"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"29"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"30")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"31"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"32"))))},ae=function(){return c.a.createElement("div",{class:"scheme_train-third-class"},c.a.createElement(te,null),c.a.createElement("div",{class:"scheme_train-side"},c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"33"),c.a.createElement("div",{class:"scheme_seat"},"34")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"35"),c.a.createElement("div",{class:"scheme_seat"},"36")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"37"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"38")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"39"),c.a.createElement("div",{class:"scheme_seat"},"40")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"41"),c.a.createElement("div",{class:"scheme_seat"},"42")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"43"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"44")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat"},"45"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"46")),c.a.createElement("div",null,c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"47"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"48"))))},se=function(){return c.a.createElement("div",{class:"scheme_train-fourth-class"},c.a.createElement("div",{class:"scheme_row"},c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"1"),c.a.createElement("div",{class:"scheme_seat"},"2"),c.a.createElement("div",{class:"scheme_seat"},"3"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"4"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"5"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"6"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"7"),c.a.createElement("div",{class:"scheme_seat"},"8"),c.a.createElement("div",{class:"scheme_seat"},"9"),c.a.createElement("div",{class:"scheme_seat"},"10"),c.a.createElement("div",{class:"scheme_seat"},"11"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"12"),c.a.createElement("div",{class:"scheme_seat"},"13"),c.a.createElement("div",{class:"scheme_seat"},"14"),c.a.createElement("div",{class:"scheme_seat"},"15"),c.a.createElement("div",{class:"scheme_seat"},"16"),c.a.createElement("div",{class:"scheme_seat"},"17"),c.a.createElement("div",{class:"scheme_seat"},"18"),c.a.createElement("div",{class:"scheme_seat"},"19"),c.a.createElement("div",{class:"scheme_seat"},"20"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"21"),c.a.createElement("div",{class:"scheme_seat"},"22"),c.a.createElement("div",{class:"scheme_seat"},"23"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"24"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"25"),c.a.createElement("div",{class:"scheme_seat"},"26"),c.a.createElement("div",{class:"scheme_seat"},"27"),c.a.createElement("div",{class:"scheme_seat"},"28"),c.a.createElement("div",{class:"scheme_seat"},"29"),c.a.createElement("div",{class:"scheme_seat"},"30"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"31"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"32")),c.a.createElement("div",{class:"scheme_row scheme_row-second"},c.a.createElement("div",{class:"scheme_seat"},"33"),c.a.createElement("div",{class:"scheme_seat"},"34"),c.a.createElement("div",{class:"scheme_seat"},"35"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"36"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"37"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"38"),c.a.createElement("div",{class:"scheme_seat"},"39"),c.a.createElement("div",{class:"scheme_seat"},"40"),c.a.createElement("div",{class:"scheme_seat"},"41"),c.a.createElement("div",{class:"scheme_seat"},"42"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"43"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"44"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"45"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"46"),c.a.createElement("div",{class:"scheme_seat"},"47"),c.a.createElement("div",{class:"scheme_seat"},"48"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"49"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"50"),c.a.createElement("div",{class:"scheme_seat"},"51"),c.a.createElement("div",{class:"scheme_seat"},"52"),c.a.createElement("div",{class:"scheme_seat"},"53"),c.a.createElement("div",{class:"scheme_seat"},"54"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"55"),c.a.createElement("div",{class:"scheme_seat"},"56"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"57"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"58"),c.a.createElement("div",{class:"scheme_seat"},"59"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"60"),c.a.createElement("div",{class:"scheme_seat"},"61"),c.a.createElement("div",{class:"scheme_seat scheme_seat-free"},"62")))},ce=function(e){var t=Object(s.useContext)(m),a=Object(s.useState)([]),n=Object(l.a)(a,2),r=n[0],i=n[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=(d[0],d[1]),h=Object(s.useState)([]),_=Object(l.a)(h,2),f=_[0],p=_[1],v=Object(s.useState)(0),b=Object(l.a)(v,2),g=b[0],O=b[1],k=Object(s.useState)(""),y=Object(l.a)(k,2),j=y[0],S=y[1],w=Object(s.useState)(""),C=Object(l.a)(w,2),x=C[0],T=C[1],L=Object(s.useState)(1),D=Object(l.a)(L,2),N=D[0],P=D[1],F=Object(s.useState)(0),M=Object(l.a)(F,2),J=M[0],I=M[1],B=e.currentTrain||JSON.parse(sessionStorage.currentTrain),R=B._id;return Object(s.useEffect)(function(){t.getSeats(R).then(function(e){i(e),S(e[0].coach.class_type),E(e.filter(function(t){return t.coach.class_type===e[0].coach.class_type})),T(e[0]),sessionStorage.trainId=R})},[R]),j&&r?c.a.createElement("div",{style:{margin:"auto",width:"830px"}},c.a.createElement("div",{class:"seats-choice"},c.a.createElement("div",{class:"change-train change-train-to"},c.a.createElement("span",{class:"change-train_arrow"},c.a.createElement("i",{class:"material-icons"},"arrow_forward")),c.a.createElement(o.b,{to:"/search",class:"change-train_button"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434")),c.a.createElement(G,{info:B}),c.a.createElement(K,{passengers:{adults:N,children:J},setAdultSeats:function(e){return P(e)},setChildrenSeats:function(e){return I(e)}}),c.a.createElement(U,{coaches:r.filter(function(e){return e.coach.class_type===j}),currentType:j,currentCoach:x,setCurrentType:function(e){S(e),p([]),O(0)},setCurrentCoach:function(e){return T(e)}}),x&&c.a.createElement(X,{passengers:N+J,type:j,coach:x,topPrice:x.coach.top_price,bottomPrice:x.coach.bottom_price,sidePrice:x.coach.side_price,chosen:f,setChosen:function(e){var t=f.slice();t.push(e),p(t)},cancelChosen:function(e){var t=f.slice(),a=t.findIndex(function(t){return t.index===e.index});t.splice(a,1),p(t)},setTotalPrice:function(e){return O(g+e)}}),c.a.createElement("div",{class:"total-price"},parseInt(g).toLocaleString())),c.a.createElement("div",{class:"to-order-button-container"},c.a.createElement(o.b,{to:{pathname:"/passengers",passengers:{adults:N,children:J},seats:f,price:g}},c.a.createElement("button",{class:"to-order-button",disabled:0===f.length||N+J!==f.length},"\u0414\u0430\u043b\u0435\u0435")))):c.a.createElement("div",{class:"loader"},c.a.createElement("div",{class:"loader_image"}))},ne=function(e){var t=JSON.parse(sessionStorage.currentTrain),a=new Date(sessionStorage.travelDate);return c.a.createElement("div",{class:"trip-details"},c.a.createElement("h2",null,"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"),c.a.createElement("div",{class:"trip-details_to"},c.a.createElement("div",{class:"trip-details_title"},c.a.createElement("h3",{class:"trainpicker_label trainpicker_label-to"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435")),c.a.createElement("div",{class:"trip-details_date"},a.toLocaleDateString()),c.a.createElement("div",{class:"train-details"},c.a.createElement("div",null,c.a.createElement("span",null,"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"),c.a.createElement("span",null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")),c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement("b",null,t.train.name)),c.a.createElement("br",null),c.a.createElement("span",null,c.a.createElement("b",null,t.from.city.name,c.a.createElement("br",null),t.to.city.name)))),c.a.createElement("div",{class:"time-details"},c.a.createElement("div",null,c.a.createElement("span",{class:"time-details_time"},new Date(t.from.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),c.a.createElement("span",{class:"time-details_date"},a.toLocaleDateString())),c.a.createElement("div",{class:"time-details_arrow"},"9:42"),c.a.createElement("div",null,c.a.createElement("span",{class:"time-details_time"},new Date(t.to.datetime).toLocaleTimeString("ruRu",{hour:"2-digit",minute:"2-digit"})),c.a.createElement("span",{class:"time-details_date"},a.toLocaleDateString()))),c.a.createElement("div",{class:"direction-details"},c.a.createElement("div",null,c.a.createElement("span",{class:"direction-details_city"},t.from.city.name),c.a.createElement("br",null),c.a.createElement("span",{class:"direction-details_station"},t.from.railway_station_name)),c.a.createElement("div",null,c.a.createElement("span",{class:"direction-details_city"},t.to.city.name),c.a.createElement("br",null),c.a.createElement("span",{class:"direction-details_station"},t.from.railway_station_name)))),c.a.createElement("div",{class:"trip-details_passengers"},c.a.createElement("div",{class:"trip-details_title "},c.a.createElement("h3",{class:"trainpicker_label trainpicker_label-passenger"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b")),c.a.createElement("div",{class:"train-details passengers-details "},c.a.createElement("div",null,"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445: ",c.a.createElement("b",null,e.passengers.adults)),c.a.createElement("div",null,"\u0414\u0435\u0442\u0435\u0439: ",c.a.createElement("b",null,e.passengers.children)))),c.a.createElement("div",{class:"trip-details_total"},c.a.createElement("span",null,"\u0418\u0422\u041e\u0413"),c.a.createElement("span",{class:""},parseInt(e.price).toLocaleString())))},re=a(126),le=a(127),ie=a(55),oe=a.n(ie),me=a(46),ue=a.n(me),de=a(73),Ee=a.n(de),he=Object(p.createMuiTheme)({overrides:{MuiFormControl:{root:{width:"100%",display:"block"}},MuiInput:{underline:{borderRadius:"3px","&:after":{display:"none"},"&:before":{display:"none"},"&:hover":{borderBottom:"none !important"}}},MuiInputBase:{root:{background:"#fff",borderRadius:"3px",boxSizing:"border-box"},input:{boxSizing:"border-box",fontSize:"18px",fontWeight:"100",padding:"3px 0 3px 10px",height:"30px",width:"100%",border:"1px solid #928F94",outline:"none",borderRadius:"3px","&$focused":{border:"none"}}},MuiOutlinedInput:{root:{borderRadius:"3px"},notchedOutline:{border:"none",outline:"none"}}}});function _e(e){var t=e.inputRef,a=Object(le.a)(e,["inputRef"]);return c.a.createElement(oe.a,Object.assign({},a,{ref:function(e){t(e?e.inputElement:null)},mask:e.mask,prefix:e.prefix,placeholderChar:"_",showMask:!0}))}function fe(e){var t,a=c.a.useState({textmask:"    "}),s=Object(l.a)(a,2),n=s[0],r=s[1];return c.a.createElement(p.MuiThemeProvider,{theme:he},c.a.createElement(Ee.a,null,c.a.createElement(ue.a,{value:n.textmask,onChange:(t="textmask",function(a){r(Object(re.a)({},n,Object(d.a)({},t,a.target.value))),e.onChange(a.target.value)}),id:"formatted-text-mask-input",inputComponent:_e,inputProps:{mask:e.inputmask}})))}var pe=function(e){e.location.passengers&&(sessionStorage.passengers=JSON.stringify(e.location.passengers),sessionStorage.seats=JSON.stringify(e.location.seats),sessionStorage.price=e.location.price);var t=e.location.passengers||JSON.parse(sessionStorage.passengers),a=e.location.price||JSON.parse(sessionStorage.price),n=Object(s.useState)([]),r=Object(l.a)(n,2),i=r[0],m=r[1],u=Object(s.useState)([]),d=Object(l.a)(u,2),E=d[0],h=d[1],_=function(e){var t=E.slice();t.push(e),h(t)};return c.a.createElement("div",{class:"columns"},c.a.createElement("div",{class:"col-left"},c.a.createElement(ne,{passengers:t,price:a})),c.a.createElement("div",{class:"col-right"},new Array(t.adults).fill("").map(function(e,t){return c.a.createElement(ve,{passenger:t+1,open:!(t>0),adult:!0,setValid:function(e){return m(e)},valid:i,setPassengers:function(e){return _(e)}})}),new Array(t.children).fill("").map(function(e,a){return c.a.createElement(ve,{passenger:t.adults+1+a,open:!1,child:!0,setValid:function(e){return m(e)},valid:i,setPassengers:function(e){return _(e)}})}),c.a.createElement(o.b,{to:"/payment"},c.a.createElement("button",{disabled:i.length!==t.adults+t.children,onClick:function(){return sessionStorage.passengersList=JSON.stringify(E)},class:"to-order-button"},"\u0414\u0430\u043b\u0435\u0435"))))},ve=function(e){var t=e.open,a=e.passenger,n=e.child,r=e.adult,i=e.valid,o=e.setValid,m=e.setPassengers,u=Object(s.useState)(t),d=Object(l.a)(u,2),E=d[0],h=d[1],_=Object(s.useRef)(null),f=Object(s.useState)(""),p=Object(l.a)(f,2),v=p[0],g=p[1],O=Object(s.useState)(""),k=Object(l.a)(O,2),y=k[0],j=k[1],S=Object(s.useState)(""),w=Object(l.a)(S,2),C=w[0],x=w[1],T=Object(s.useState)(null),L=Object(l.a)(T,2),D=L[0],N=L[1],P=Object(s.useState)("\u043c\u0443\u0436\u0441\u043a\u043e\u0439"),F=Object(l.a)(P,2),M=F[0],J=F[1],I=Object(s.useState)(!1),B=Object(l.a)(I,2),R=B[0],z=B[1],A=Object(s.useState)(""),W=Object(l.a)(A,2),H=W[0],q=W[1],V=Object(s.useState)(""),$=Object(l.a)(V,2),Z=$[0],Y=$[1],Q=Object(s.useState)(""),G=Object(l.a)(Q,2),K=G[0],U=G[1],X=Object(s.useState)(r),ee=Object(l.a)(X,2),te=ee[0],ae=ee[1],se=function(e){var t=e.target.value;if(!t.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451 -]/g))switch(e.target.name){case"last-name":g(t);break;case"first-name":j(t);break;case"patronymic":x(t);break;default:return}},ce=4===H.replace(/\s|_/g,"").length&&6===Z.replace(/\s|_/g,"").length,ne=12===K.replace(/\s|_/g,"").length,re=y&&v&&C&&(ce||ne)&&D;if(Object(s.useEffect)(function(){re&&(console.log("EFFECT"),m({name:v+" "+y+" "+C,gender:"\u041f\u043e\u043b "+M,dateOfBirth:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f "+D,document:te?"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424 "+H.replace(/\s/g,"")+Z.replace(/\s/g,""):"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 "+K.replace(/\s/g,""),adult:r}))},[re]),E){var le=new Date,ie=r?new Date(le.setYear(le.getFullYear()-100)):new Date(le.setYear(le.getFullYear()-10));return c.a.createElement("div",{class:"passengers-card passengers-card_open"},c.a.createElement("div",{onClick:function(){return h(!E)},class:"passengers-card_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",a),c.a.createElement("form",{ref:_,action:"",class:"passengers-card_form"},c.a.createElement("fieldset",null,c.a.createElement("div",{class:"select-container"},c.a.createElement("select",{defaultValue:r?"adult":"child",class:"passengers-card_select",name:"",id:""},c.a.createElement("option",{disabled:n,value:"adult"},"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439"),c.a.createElement("option",{disabled:r,value:"child"},"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"))),c.a.createElement("div",{class:"personal-details"},c.a.createElement("label",{for:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",c.a.createElement("input",{value:v,onChange:se,type:"text",name:"last-name",class:"passengers-card_last-name",id:""})),c.a.createElement("label",{for:"first-name"},"\u0418\u043c\u044f",c.a.createElement("input",{value:y,onChange:se,type:"text",name:"first-name",class:"passengers-card_name",id:""})),c.a.createElement("label",{for:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",c.a.createElement("input",{value:C,onChange:se,type:"text",name:"patronymic",class:"passengers-card_patronymic-name",id:""}))),c.a.createElement("div",null,c.a.createElement("label",{class:"gender_label",for:"gender"},"\u041f\u043e\u043b ",c.a.createElement("br",null),c.a.createElement("input",{onChange:function(){return J("\u043c\u0443\u0436\u0441\u043a\u043e\u0439")},defaultChecked:!0,value:"\u041c",type:"radio",class:"gender",name:"gender",id:"gender"}),c.a.createElement("input",{onChange:function(){return J("\u0436\u0435\u043d\u0441\u043a\u0438\u0439")},value:"\u0416",type:"radio",class:"gender",name:"gender",id:"gender"})),c.a.createElement("label",{class:"birth-picker"},"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",c.a.createElement(b,{minDate:ie,minDateMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",disableFuture:!0,adornment:{style:{display:"none"}},defaultDate:null,onDateSelect:function(e){return N(e.toLocaleDateString())}}))),c.a.createElement("div",{class:"disabilities-check"},c.a.createElement("input",{checked:R,onChange:function(){return z(!R)},type:"checkbox",id:"disabilities",class:"disabilities"}),c.a.createElement("label",{for:"disabilities"},"\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c"))),c.a.createElement("fieldset",null,c.a.createElement("div",null,c.a.createElement("label",{class:"select-label",for:""},"\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",c.a.createElement("select",{defaultValue:r?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",onChange:function(){return ae(!te)},name:"",id:""},c.a.createElement("option",{value:"\u043f\u0430\u0441\u043f\u043e\u0440\u0442"},"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),c.a.createElement("option",{disabled:r,value:"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"},"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"))),r?c.a.createElement(s.Fragment,null,c.a.createElement("label",{for:""},"\u0421\u0435\u0440\u0438\u044f",c.a.createElement(fe,{value:H,onChange:function(e){return q(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/]})),c.a.createElement("label",{for:""},"\u041d\u043e\u043c\u0435\u0440",c.a.createElement(fe,{value:Z,onChange:function(e){return Y(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]}))):c.a.createElement("label",{for:""},"\u041d\u043e\u043c\u0435\u0440",c.a.createElement(fe,{value:K,onChange:function(e){return U(e)},inputmask:[/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/," ",/\d/]})))),c.a.createElement("fieldset",null,y&&v&&C&&(H&&Z||K)&&D?c.a.createElement("output",{class:"error"},function(){try{!function(){if(y.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0438\u043c\u044f!");if(v.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0444\u0430\u043c\u0438\u043b\u0438\u044e");if(C.trim().match(/[ ]{2,}|[-]{2,}|[-\b]/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e")}(),function(){if(te){if(H.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 4 \u0446\u0438\u0444\u0440\u044b \u0441\u0435\u0440\u0438\u0438 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430");if(Z.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 6 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430")}else if(K.match(/_/))throw new Error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 12 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438")}()}catch(t){return c.a.createElement("span",{class:"error"},t.message)}if(!i.find(function(e){return e===a})){var e=i.slice();e.push(a),o(e)}return c.a.createElement("span",{class:"valid"},"\u0413\u043e\u0442\u043e\u0432\u043e!")}()):c.a.createElement("output",null,c.a.createElement("span",{class:"warning"},"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f \u0444\u043e\u0440\u043c\u044b!")))))}return c.a.createElement("div",{class:"passengers-card "},c.a.createElement("div",{onClick:function(){return h(!E)},class:"passengers-card_title "},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",a))},be=function(e){var t=JSON.parse(sessionStorage.passengers),a=JSON.parse(sessionStorage.price),n=Object(s.useState)(""),r=Object(l.a)(n,2),i=r[0],m=r[1],u=Object(s.useState)(""),d=Object(l.a)(u,2),E=d[0],h=d[1],_=Object(s.useState)(""),f=Object(l.a)(_,2),p=f[0],v=f[1],b=Object(s.useState)(""),g=Object(l.a)(b,2),O=g[0],k=g[1],y=Object(s.useState)(""),j=Object(l.a)(y,2),S=j[0],w=j[1],C=Object(s.useState)("credit-card"),x=Object(l.a)(C,2),T=x[0],L=x[1],D=function(e){var t=e.target.value;if(!t.match(/[^\u0410-\u042f\u0430-\u044f\u0401\u0451]/g))switch(e.target.name){case"last-name":m(t);break;case"first-name":h(t);break;case"patronymic":v(t);break;default:return}},N=function(e){L(e.currentTarget.id)},P=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(S),F=/_/.test(O),M=E&&i&&p;return c.a.createElement("div",{class:"columns"},c.a.createElement("div",{class:"col-left"},c.a.createElement(ne,{passengers:t,price:a})),c.a.createElement("div",{class:"col-right"},c.a.createElement("div",{class:"order"},c.a.createElement("form",{class:"order-details",id:"order-details"},c.a.createElement("div",{class:"order_title"},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),c.a.createElement("fieldset",{class:"order_payer"},c.a.createElement("div",{class:"personal-details"},c.a.createElement("label",{for:"last-name"},"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",c.a.createElement("input",{required:!0,value:i,onChange:D,type:"text",name:"last-name",class:"passengers-card_last-name",id:""})),c.a.createElement("label",{for:"first-name"},"\u0418\u043c\u044f",c.a.createElement("input",{required:!0,value:E,onChange:D,type:"text",name:"first-name",class:"passengers-card_name",id:""})),c.a.createElement("label",{for:"patronymic"},"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",c.a.createElement("input",{required:!0,value:p,onChange:D,type:"text",name:"patronymic",class:"passengers-card_patronymic-name",id:""}))),c.a.createElement("div",{class:"contact-details"},c.a.createElement("label",{for:""},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",c.a.createElement(fe,{value:O,onChange:function(e){return k(e)},prefix:"+7",inputmask:["+","7"," ","(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}),F?c.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 10 \u0446\u0438\u0444\u0440 \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0431\u0435\u0437 +7 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 987 654 3210"):""),c.a.createElement("label",{for:""},"Email",c.a.createElement("input",{value:S,onChange:function(e){var t=e.target.value;t.match(/[^a-zA-Z0-9,_,-,@,.]/)||w(t)},type:"email",name:"email",id:"",placeholder:"email@mail.ru"}),P?"":c.a.createElement("div",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 email@mail.ru")))),c.a.createElement("div",{class:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),c.a.createElement("fieldset",{class:"payment-methods"},c.a.createElement("div",null,c.a.createElement("input",{onChange:N,defaultChecked:!0,type:"radio",name:"payment-method",id:"credit-card"}),c.a.createElement("label",{for:"credit-card"},"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"),c.a.createElement("input",{onChange:N,type:"radio",name:"payment-method",id:"paypal"}),c.a.createElement("label",{for:"paypal"},"PayPal"),c.a.createElement("input",{onChange:N,type:"radio",name:"payment-method",id:"qiwi-wallet"}),c.a.createElement("label",{for:"qiwi-wallet"},"Visa QIWI Wallet"))))),c.a.createElement(o.b,{to:{pathname:"/confirmation",paymentMethod:T}},c.a.createElement("button",{onClick:function(){return sessionStorage.payer=JSON.stringify({first_name:E,last_name:i,patronymic:p,phone:O,email:S,payment_method:"online"})},class:"purchase-button",disabled:!(P&&!F&&M)},"\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b"))))},ge=function(e){var t=JSON.parse(sessionStorage.passengersList),a=JSON.parse(sessionStorage.passengers),s=JSON.parse(sessionStorage.price),n=JSON.parse(sessionStorage.currentTrain),r=e.location.paymentMethod;return c.a.createElement("div",{class:"columns"},c.a.createElement("div",{class:"col-left"},c.a.createElement(ne,{passengers:a,price:s})),c.a.createElement("div",{class:"col-right"},c.a.createElement("div",{class:"confirmation"},c.a.createElement("div",{class:"order_title"},"\u041f\u043e\u0435\u0437\u0434"),c.a.createElement(G,{info:n})),c.a.createElement("div",{class:"confirmation"},c.a.createElement("div",{class:"order_title"},"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"),c.a.createElement(Oe,{list:t})),c.a.createElement("div",{class:"confirmation"},c.a.createElement("div",{class:"order_title"},"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"),c.a.createElement("div",{class:"confirmation_payment"},c.a.createElement("div",{class:"confirmation_method"},function(){switch(r){case"paypal":return"PayPal";case"credit-card":return"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439";case"qiwi":return"Visa QIWI Wallet";default:return}}()),c.a.createElement("div",{class:"confirmation_price"},c.a.createElement("span",null,"\u0412\u0441\u0435\u0433\u043e:"),c.a.createElement("span",null,parseInt(s).toLocaleString())))),c.a.createElement(o.b,{to:"/success"},c.a.createElement("button",{class:"purchase-button"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))},Oe=function(e){return e.list.map(function(e,t){return c.a.createElement(ke,{key:t,info:e})})},ke=function(e){e.key;var t=e.info;return c.a.createElement("div",{class:"passenger"},c.a.createElement("div",{class:"passenger-icon"},c.a.createElement("div",{class:"passenger-icon_img"}),c.a.createElement("div",{class:"passenger-icon_title"},t.adult?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439")),c.a.createElement("div",{class:"passenger-info"},c.a.createElement("div",{class:"passenger-info_name"},t.name),c.a.createElement("div",{class:"passenger-info_other"},t.gender),c.a.createElement("div",{class:"passenger-info_other"},t.dateOfBirth),c.a.createElement("div",{class:"passenger-info_other"},t.document)))},ye=function(e){var t=Object(s.useContext)(m),a=JSON.parse(sessionStorage.payer),n=JSON.parse(sessionStorage.currentTrain),r=JSON.parse(sessionStorage.passengersList),l=JSON.parse(sessionStorage.seats),i=parseInt(sessionStorage.price),o={user:a,departure:{route_direction_id:n._id,seats:r.map(function(e,t){return{person_info:{is_adult:e.adult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:e.dateOfBirth,document_type:e.document},seat_number:l[t]}})}};return Object(s.useEffect)(function(){t.createOrder(o).then(function(e){return console.log(e)})},[]),c.a.createElement("div",{class:"success"},c.a.createElement("h1",{class:"success_title"},"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),c.a.createElement("div",{class:"success_banner"},c.a.createElement("div",{class:"success_order"},c.a.createElement("div",{class:"success_id"},"\u2116 \u0417\u0430\u043a\u0430\u0437\u0430 285\u0410\u0410"),c.a.createElement("div",{class:"success_price"},i.toLocaleString())),c.a.createElement("ul",{class:"success_icons"},c.a.createElement("li",{class:"success_item"},c.a.createElement("span",{class:"success_icon success_icon-computer"}),c.a.createElement("span",{class:"success_text"},"\u0431\u0438\u043b\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430 \u0432\u0430\u0448 e-mail")),c.a.createElement("li",{class:"success_item"},c.a.createElement("span",{class:"success_icon success_icon-tickets"}),c.a.createElement("span",{class:"success_text"},"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435 \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u043e \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438")),c.a.createElement("li",{class:"success_item"},c.a.createElement("span",{class:"success_icon success_icon-conductor"}),c.a.createElement("span",{class:"success_text"},"\u043f\u0440\u0435\u0434\u044c\u044f\u0432\u0438\u0442\u0435 \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043d\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043f\u0440\u0438 \u043f\u043e\u0441\u0430\u0434\u043a\u0435"))),c.a.createElement("div",{class:"success-info"},c.a.createElement("h2",{class:"success-info_title"},a.first_name+" "+a.patronymic+"!"),c.a.createElement("p",null,"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d. ",c.a.createElement("br",null),"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."),c.a.createElement("h3",null,"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0435 \u0438 \u0436\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f!")),c.a.createElement("div",{class:"rating"},c.a.createElement("span",{class:"rating_text"},"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441"),c.a.createElement(je,null))))},je=function(){var e=new Array(5).fill(""),t=Object(s.useState)(-1),a=Object(l.a)(t,2),n=a[0],r=a[1],i=function(e){r(e.currentTarget.dataset.id)};return c.a.createElement("div",{class:"rating_stars"},e.map(function(e,t){return c.a.createElement(Se,{index:t,rating:n,onClick:i})}))},Se=function(e){var t=e.index,a=e.rating,s=e.onClick,n=t>a?"none":"#FFFFFF";return c.a.createElement("svg",{"data-id":t,onClick:s,width:"36",height:"34",viewBox:"0 0 56 44",fill:n,xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{d:"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z",stroke:"white","stroke-width":"2"}))},we=a(21),Ce=a.n(we),xe=a(34),Te=(c.a.createContext(),new function e(){var t=this;Object(L.a)(this,e),this.fetchData=function(){var e=Object(xe.a)(Ce.a.mark(function e(t){var a,s,c=arguments;return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{method:"GET"},e.next=3,fetch("https://netology-trainbooking.herokuapp.com".concat(t),a);case 3:if((s=e.sent).ok){e.next=6;break}throw new Error("Could not fetch ".concat(t,", status - ").concat(s.status));case 6:return e.next=8,s.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getCities=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/routes/cities?name=".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getRoutes=function(){var e=Object(xe.a)(Ce.a.mark(function e(a,s,c,n){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/routes?from_city_id=".concat(a.from.id,"&to_city_id=").concat(a.to.id,"&sort=").concat(s,"&limit=").concat(c,"&offset=").concat(n,"&").concat(a.filters||"?"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,a,s,c){return e.apply(this,arguments)}}(),this.getSeats=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/routes/".concat(a,"/seats"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.createOrder=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/order",{method:"POST",body:JSON.stringify(a)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.subscribe=function(){var e=Object(xe.a)(Ce.a.mark(function e(a){return Ce.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchData("/subscribe?".concat(a),{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}),Le=function(){void 0===sessionStorage.searchParams&&void 0===sessionStorage.currentTrain&&(sessionStorage.searchParams=JSON.stringify({}),sessionStorage.currentTrain=JSON.stringify({}));var e=Object(i.e)(C),t=Object(s.useState)(JSON.parse(sessionStorage.searchParams)),a=Object(l.a)(t,2),n=a[0],r=a[1],u=Object(s.useState)(JSON.parse(sessionStorage.currentTrain)),d=Object(l.a)(u,2),E=d[0],h=d[1],_=Object(s.useState)([]),f=Object(l.a)(_,2),p=f[0],v=f[1],b=Object(s.useState)({about:700,how:1100,reviews:1700,contacts:2300}),g=Object(l.a)(b,2),O=g[0],y=g[1];return c.a.createElement(o.a,{basename:"/train"},c.a.createElement(m.Provider,{value:Te},c.a.createElement(e,{homepageRefs:O,setSearchParams:function(e){r(e),sessionStorage.searchParams=JSON.stringify(e)}}),c.a.createElement(i.c,null,c.a.createElement(i.a,{path:"/search",render:function(e){return c.a.createElement(Q,Object.assign({},e,{searchParams:n,trains:p,setTrains:function(e){return v(e)},setCurrentTrain:function(e){sessionStorage.currentTrain=JSON.stringify(e),h(e)}}))}}),c.a.createElement(i.a,{path:"/seats",render:function(e){return c.a.createElement(ce,Object.assign({},e,{currentTrain:E}))}}),c.a.createElement(i.a,{path:"/payment",component:be}),c.a.createElement(i.a,{path:"/passengers",component:pe}),c.a.createElement(i.a,{path:"/confirmation",component:ge}),c.a.createElement(i.a,{path:"/success",component:ye}),c.a.createElement(i.a,{path:"/",exact:!0,render:function(e){return c.a.createElement(k,Object.assign({},e,{setHomepageRefs:y}))}})),c.a.createElement(x,null)))};r.a.render(c.a.createElement(Le,null),document.getElementById("root"))}},[[132,1,2]]]);
//# sourceMappingURL=main.d4f0f4d1.chunk.js.map