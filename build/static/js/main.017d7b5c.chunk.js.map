{"version":3,"sources":["js/context.js","js/TypeaheadInput.js","js/Datepicker.js","js/TrainpickerForm.js","js/Homepage.js","js/ProgressSteps.js","js/Header.js","js/Footer.js","js/CustomSwitch.js","js/FiltersForm.js","js/LastTickets.js","js/TrainSchedule.js","js/TrainCard.js","js/Pagination.js","js/SearchPage.js","js/CurrentTrain.js","js/TicketsNumber.js","js/CarType.js","js/CarScheme.js","js/SeatsPage.js","js/TripDetails.js","js/MaskedInput.js","js/PassengersPage.js","js/PaymentPage.js","js/ConfirmationPage.js","js/SuccessPage.js","App.js","js/ApiService.js","index.js"],"names":["ApiServiceContext","React","createContext","TypeaheadInput","props","api","useContext","placeholder","onSelect","_useState","useState","_useState2","Object","slicedToArray","cities","setCities","_useState3","_useState4","showSuggestions","setShowSuggestions","_useState5","_useState6","hint","setHint","_useState7","value","_useState8","inputValue","setInputValue","useEffect","suggestions","handleInput","event","currentTarget","match","getCities","then","response","newHint","length","find","el","name","startsWith","current","react_default","a","createElement","className","slice","onChange","onFocus","onBlur","setTimeout","type","onKeyDown","key","Array","from","children","forEach","classList","remove","add","active","contains","textContent","id","dataset","ref","onClick","target","map","city","_id","data-id","materialTheme","createMuiTheme","overrides","defineProperty","MuiPickersCalendarHeader","daysHeader","display","MuiPickersDay","day","fontFamily","isSelected","backgroundColor","border","borderRadius","color","&:hover","background","MuiIconButton","label","root","padding","MuiFormControl","width","MuiInputBase","boxSizing","height","input","fontSize","fontWeight","outline","&$focused","MuiOutlinedInput","lineHeight","notchedOutline","adornedEnd","paddingRight","MuiSvgIcon","fill","Datepicker","defaultDate","selectedDate","handleDateChange","disablePast","disableFuture","adornment","onDateSelect","styles","theme","material_ui_pickers_esm","utils","DateFnsUtils","locale","ruLocale","style","keyboard","clearable","onlyCalendar","disableOpenOnEnter","invalidDateMessage","minDateMessage","maxDateMessage","variant","InputAdornmentProps","date","format","mask","MainSearchForm","horizontal","fromName","setFromName","fromId","setFromId","toName","setToName","toId","setToId","_useState9","Date","_useState10","setDate","_useState11","_useState12","dateBack","concat","TypeaheadInput_TypeaheadInput","Datepicker_Datepicker","sessionStorage","travelDate","e","preventDefault","disabled","react_router_dom","to","setSearchParams","toISOString","substr","location","pathname","window","scrollTo","top","document","querySelector","offsetTop","behavior","TrainpickerForm","path","TrainpickerForm_MainSearchForm","assign","class","Homepage","about","features","reviews","footer","getElementById","setHomepageRefs","onresize","react","Homepage_About","Homepage_Features","Homepage_Reviews","About","Features","Reviews","src","alt","ProgressSteps","steps","step","title","isCurrent","element","i","findIndex","Header","homepageRefs","handleClick","scrollOptions","href","nextElementSibling","toggle","TrainpickerForm_TrainpickerForm","ProgressSteps_ProgressSteps","Footer","email","setEmail","showHint","setShowHint","showThankYou","setShowThankYou","onSubmit","test","subscribe","action","visibility","CustomizedSwitches","state","checkedA","checkedB","handleChange","_this","setState","checked","_this$props","this","classes","types","FormGroup_default","row","FormControlLabel_default","justifyContent","toLowerCase","marginRight","labelPlacement","control","Switch_default","switchBase","colorSwitchBase","colorChecked","bar","colorBar","icon","Component","CustomSwitch","withStyles","& + $colorBar","opacity","&$colorChecked","position","left","marginTop","js_CustomSwitch","first","second","third","fourth","setFirst","express","wifi","setSecond","setThird","setFourth","setExpress","setWifi","FiltersForm","params","searchParams","JSON","parse","cost","setCost","departureTime","setDepartureTime","arrivalTime","setArrivalTime","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","filters","formref","handleDropdownFilter","index_es","data","grid","min","max","hide_min_max","skin","for","prettify","n","update","LastTickets","TrainSchedule","_ref","info","showTravelTime","travelTimeHours","Math","floor","duration","travelTimeMinutes","toLocaleTimeString","hour","minute","datetime","railway_station_name","TrainCard","departure","train","TrainSchedule_TrainSchedule","have_fourth_class","available_seats_info","price_info","top_price","have_third_class","have_second_class","have_first_class","have_wifi","have_air_conditioning","is_express","setCurrentTrain","Pagination","trains","count","limit","currentPage","setCurrentPage","pages","ceil","beginning","p","SearchPage","setTrains","console","log","showNotice","setShowNotice","setCount","sortBy","setSortBy","setLimit","offset","setOffset","getRoutes","stringify","items","total_count","FiltersForm_FiltersForm","LastTickets_LastTickets","list","item","sort","data-sort","data-limit","TrainCard_TrainCard","currentTrain","Pagination_Pagination","page","CurrentTrain","TicketsNumber","passengers","setAdultSeats","setChildrenSeats","setChildrenWithoutSeats","adults","totalPassengers","op","childrenWithoutSeats","data-op","data-name","CarType","currentType","coaches","setCurrentType","currentCoach","setCurrentCoach","isActive","getCoachName","handleTypeChange","data-type","coach","bottom_price","is_linens_included","CarScheme","Car","price","chosen","setChosen","cancelChosen","setTotalPrice","topPrice","bottomPrice","sidePrice","getSecondClassPrice","seat","seats","querySelectorAll","FirstClassScheme","SecondClassScheme","ThirdClassScheme","FourthClassScheme","seatId","CarScheme_SecondClassScheme","SeatsPage","setData","setCoaches","totalPrice","adultSeats","childrenSeats","getSeats","class_type","filter","trainId","CurrentTrain_CurrentTrain","TicketsNumber_TicketsNumber","CarType_CarType","CarScheme_CarScheme","side_price","chosenSeats","push","seatToCancel","index","splice","parseInt","toLocaleString","TripDetails","arrivalDate","setHours","getHours","toLocaleDateString","MuiInput","underline","&:after","&:before","borderBottom","TextMaskCustom","inputRef","other","objectWithoutProperties","reactTextMask_default","inputElement","prefix","placeholderChar","showMask","FormattedInput","_React$useState","textmask","_React$useState2","values","setValues","FormControl_default","Input_default","objectSpread","inputComponent","inputProps","inputmask","PassengersPage","valid","setValid","passengersList","setPassengersList","savePassengers","passenger","TripDetails_TripDetails","PassengersPage_PassengerCard","open","adult","setPassengers","child","PassengerCard","isOpen","setOpen","formRef","useRef","lastName","setLastName","firstName","setFirstName","patronymic","setPatronymic","dateOfBirth","setDateOfBirth","gender","setGender","disabilities","setDisabilities","_useState19","_useState20","passport1","setPassport1","_useState21","_useState22","passport2","setPassport2","_useState23","_useState24","certificate","setCertificate","_useState25","_useState26","isPassportChosen","setIsPassportChosen","isPassportComplete","replace","isCertificateComplete","isComplete","today","minDate","setYear","getFullYear","defaultValue","defaultChecked","trim","Error","isNameValid","isPassportValid","message","validated","isValid","PaymentPage","phone","setPhone","paymentMethod","setPaymentMethod","handlePayment","isEmailValid","isPhoneIncomplete","isNameComplete","required","textTransform","payer","first_name","last_name","payment_method","ConfirmationPage","ConfirmationPage_PassengersList","formatPaymentMethod","PassengersList","ConfirmationPage_PassengersListItem","PassengersListItem","SuccessPage","order","user","route_direction_id","person_info","is_adult","birthday","document_type","seat_number","createOrder","SuccessPage_Stars","Stars","starList","rating","setRating","SuccessPage_Star","Star","viewBox","xmlns","d","stroke","stroke-width","apiService","ApiService","classCallCheck","fetchData","asyncToGenerator","regenerator_default","mark","_callee","urlEntity","options","res","_args","arguments","wrap","_context","prev","next","undefined","method","fetch","sent","ok","status","json","abrupt","stop","_x","apply","_ref2","_callee2","query","_context2","_x2","_ref3","_callee3","_context3","_x3","_x4","_x5","_x6","_ref4","_callee4","_context4","_x7","_ref5","_callee5","_context5","body","_x8","_ref6","_callee6","_context6","_x9","App","HeaderComponent","withRouter","how","contacts","basename","process","Provider","react_router","render","SearchPage_SearchPage","SeatsPage_SeatsPage","component","exact","Homepage_Homepage","Footer_Footer","ReactDOM","src_App"],"mappings":"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ACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,OAGFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gCAAf,MACAH,EAAAC,EAAAC,cAAA,OA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","file":"static/js/main.017d7b5c.chunk.js","sourcesContent":["import React from 'react';\n\nconst ApiServiceContext = React.createContext()\n\nexport { ApiServiceContext }","import React, { useContext, useState, useEffect } from 'react'\nimport {ApiServiceContext} from './context';\n\n\nconst TypeaheadInput = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {placeholder, onSelect} = props;\n  const [cities, setCities] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false)\n  const [hint, setHint] = useState('');\n  const [inputValue, setInputValue] = useState(props.value);\n  \n  useEffect(() => {\n    //if (props.value !== inputValue) {\n      //setInputValue(props.value);\n    //}\n  }, [props.value, inputValue]);\n\n  const handleFocus = (event) => {\n    const value = event.currentTarget.value || 'а';\n    api.getCities(value).then(response => {\n      setHint('');\n      setShowSuggestions(true);\n      setCities(response);\n    });\n  }\n\n  const handleBlur = () => {\n    setTimeout(() => setShowSuggestions(false), 1000);\n  }\n  \n  const handleInput = event => {\n    const value = event.currentTarget.value;\n    if (value.match(/[^а-яА-я ]/)) {\n      return;\n    }\n\n    setInputValue(value);\n\n    api.getCities(value).then(response => {\n      let newHint = response.length > 0 ? response.find(el => el.name.startsWith(value)) : '';\n      setHint(newHint ? newHint.name : '');\n      setShowSuggestions(true);\n      setCities(response);\n    });\n  }\n\n  const handleSelect = event => {\n    setInputValue(event.target.textContent);\n    setHint('');\n    onSelect({\n      name: event.target.textContent, \n      id: event.target.dataset.id\n    });\n    setShowSuggestions(false);\n  }\n\n  let suggestions, current = -1;\n  const handleKeydown = event => {\n    if (!suggestions) {\n      return;\n    }\n    if (event.key === 'ArrowDown') {\n        current++;\n        Array.from(suggestions.children).forEach(el => el.classList.remove('suggestion-active'));\n        if (current > suggestions.children.length - 1) {\n          current = 0;\n        }\n        suggestions.children[current].classList.add('suggestion-active');\n    } else if (event.key === 'ArrowUp') {\n        current--;\n        Array.from(suggestions.children).forEach(el => el.classList.remove('suggestion-active')); \n        if (current < 0) {\n          current = suggestions.children.length - 1;\n        }\n        suggestions.children[current].classList.add('suggestion-active');\n    } else if (event.key === 'Enter') {\n        let active = (Array.from(suggestions.children)).find(el => el.classList.contains('suggestion-active'));\n        if (!active) {\n          return;\n        }\n        onSelect({\n          name: active.textContent,\n          id: active.dataset.id\n        });\n        setInputValue(active.textContent);\n        setHint('');\n        setShowSuggestions(false);\n      } else {\n        handleInput(event);\n      }\n    }\n\n  return (\n    <div className=\"input-with-icon\">\n      <span className=\"trainpicker__hint\">\n        <span className=\"trainpicker__hint-transparent\">{hint.slice(0, inputValue.length)}</span>{hint.slice(inputValue.length)}\n      </span>\n      <input className=\"trainpicker__input trainpicker__input-direction\" value={inputValue} onChange={handleInput} onFocus={handleFocus} onBlur={handleBlur} type=\"text\" placeholder={placeholder} onKeyDown={handleKeydown}/>\n      <i className=\"material-icons trainpicker__icon\">room</i>\n      {showSuggestions && cities.length > 0 ? \n        <ul ref={el => suggestions = el} onClick={handleSelect} className=\"suggestions\" >\n          {cities.map(city => <li key={city._id}  data-id={city['_id']}>{city.name}</li>)}\n        </ul> :\n        null\n      }\n    </div>\n  )\n}\n\nexport {TypeaheadInput}","import { InlineDatePicker,  MuiPickersUtilsProvider } from \"material-ui-pickers\";\nimport React, { useState } from \"react\";\nimport ruLocale from \"date-fns/locale/ru\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\nconst materialTheme = createMuiTheme({\n  overrides: {\n    MuiPickersCalendarHeader: {\n      daysHeader: {\n        display: 'none'\n      },\n    },\n    MuiPickersDay: {\n      day: {\n        fontFamily: 'Roboto',\n      },\n      isSelected: {\n        backgroundColor: 'rgba(255, 168, 0, 0.31)',\n        border: '2px solid #FFA800',\n        borderRadius: '5px',\n        color: 'black',\n        '&:hover': {backgroundColor: 'rgba(255, 168, 0, 0.31)'}\n      },\n    \n      current: {\n        color: 'orange',\n        background: 'inherit',\n        border: 'none'\n      },\n    },\n    MuiIconButton: {\n      label: {\n        color: 'inherit'\n      },\n      root: {\n        padding: 0,\n      }\n    },\n   MuiFormControl: {\n     root: {\n      width: '100%',\n      display: 'block'\n     }\n    }, \n    MuiInputBase: {\n      root: {\n        background: '#fff',\n        'borderRadius': '3px',\n        width: '100%',\n        boxSizing: 'border-box',\n        height: '50px'\n      },\n      /* меняем стили инпута */\n      input: {\n        fontSize: '16px',\n        fontWeight: '100',\n        padding: '0 0 0 10px',\n        width: '100%',\n        border: 0,\n        outline: 'none',\n        borderRadius: '3px',\n    \n          '&$focused': {\n            \"border\": \"none\"\n          }\n      }\n    },\n    MuiOutlinedInput: {\n      root: {\n        borderRadius: '3px',\n        lineHeight: '1em'\n      },\n      input: {\n        padding: '15.5px'\n      },\n  \n       notchedOutline: {\n        border: 'none',\n        outline: 'none'\n      },\n      adornedEnd: {\n        paddingRight: '5px',\n      }\n    },\n    MuiSvgIcon: {\n      root: {\n        fill: '#c4c4c4',\n        width: '36px',\n        height: '36px'\n      }\n    },\n    MuiIconButton: {\n      root: {\n        padding: '6px',\n        '&:hover': {\n          backgroundColor:  'rgba(0, 0, 0, 0.05)'\n        }\n      }\n    } \n  },\n});\n\n\nconst Datepicker = (props) => {\n  const [selectedDate, handleDateChange] = useState(props.defaultDate);\n  const {disablePast, disableFuture, adornment, onDateSelect} = props;\n\n  const handleSelect = date => {\n    handleDateChange(date);\n    onDateSelect(date)\n  }\n  return (\n    <MuiThemeProvider theme={materialTheme}>\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={ruLocale}>\n      <div className=\"picker\" style={props.style}>\n        <InlineDatePicker\n          keyboard\n          clearable\n          onlyCalendar\n          disableOpenOnEnter\n          disablePast={disablePast}\n          disableFuture={disableFuture}\n          placeholder=\"ДД/ММ/ГГГГ\"\n          invalidDateMessage=\"Неверный формат\"\n          minDateMessage={props.minDateMessage || \"Выберете не прошедшую дату\"}\n          maxDateMessage=\"Введите корректную дату рождения\"\n          variant=\"outlined\"\n          InputAdornmentProps={adornment}\n          value={selectedDate}\n          onChange={handleSelect}\n          format=\"dd/MM/yyyy\"\n          mask={value => value ? [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/] : []}\n        />\n      </div>\n      </MuiPickersUtilsProvider>\n      </MuiThemeProvider>\n  );\n}\n\nexport { Datepicker };\n","import React, { useContext, useState } from 'react';\nimport { TypeaheadInput } from './TypeaheadInput'\nimport { ApiServiceContext } from './context';\nimport { Link } from 'react-router-dom';\nimport { Datepicker } from './Datepicker';\n\nconst MainSearchForm = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {horizontal} = props;\n  const [fromName, setFromName] = useState('');\n  const [fromId, setFromId] = useState('');\n  const [toName, setToName] = useState('');\n  const [toId, setToId] = useState('')\n  const [date, setDate] = useState(new Date());\n  const [dateBack, setDateBack] = useState(null);\n\n  const handleSwap = () => {\n    setFromName(toName);\n    setToName(fromName);\n  }\n\n  const handleSubmit = () => {\n    props.setSearchParams({\n      from: {\n        name: fromName,\n        id: fromId\n      },\n      to: {\n        name: toName,\n        id: toId \n      },\n      date: date.toISOString().substr(0, 10),\n      dateBack: dateBack && dateBack.toISOString().substr(0, 10)\n    });\n    if (props.location.pathname !== '/') {\n      window.scrollTo({\n        top: document.querySelector('.col-right').offsetTop,\n        behavior: 'smooth'\n      })\n    }\n  }\n\n    return (\n      <form  className={`trainpicker ${horizontal ? 'trainpicker-horizontal' : ''}`}>\n        {horizontal ? null : <div><h2 className=\"trainpicker__header\">Укажите направление и дату поездки:</h2></div>}\n            <div className={`trainpicker__content ${horizontal ? 'trainpicker__content-horizontal' : ''} `}>\n              <label className=\"trainpicker_label\">Направление</label>\n              <div className=\"trainpicker__inputs\">\n                <TypeaheadInput \n                  value={fromName}\n                  placeholder=\"Откуда\"\n                  onSelect={city => {\n                  setFromName(city.name);\n                  setFromId(city.id)\n                  }}/>\n                <div onClick={handleSwap} className=\"trainpicker__reverse\" type=\"checkbox\" name=\"reverse\" id=\"reverse\">\n                  <i className=\"fas fa-exchange-alt\"></i>\n                </div>\n                <TypeaheadInput \n                value={toName}\n                  placeholder=\"Куда\"\n                  onSelect={city => {\n                  setToName(city.name);\n                  setToId(city.id)\n                  }}/>\n              </div>\n            </div>\n            <div className={`trainpicker__content ${horizontal ? 'trainpicker__content-horizontal' : ''} `}>\n              <label className=\"trainpicker_label\">Дата</label>\n              <div className=\"trainpicker__inputs\" >\n                <Datepicker \n                  style={{width: \"285px\", height: \"52px\"}} \n                  onDateSelect={date => {\n                    sessionStorage.travelDate = date;\n                    setDate(date)}}\n                  defaultDate={new Date()}\n                  />\n              </div>\n            </div>\n            \n            <button onClick={e => e.preventDefault()} type=\"submit\" disabled={!(fromName && toName)} className={`trainpicker__button ${horizontal ? 'trainpicker__button-horizontal' : ''} `}>\n              {fromName && toName ? \n                <Link to='/search'\n                  onClick={handleSubmit}>Найти билеты</Link> :\n                \"Найти билеты\" }\n            </button>\n            \n          </form>\n    )\n}\n\nconst TrainpickerForm = (props) => {\n  const path = props.location.pathname;\n  if (path === '/success') {\n    return (\n      <section className=\"main-search main-search-success\"></section>\n    )\n  }\n  if (path !== '/') {\n    return (\n      <section className=\"main-search\">\n        <MainSearchForm horizontal {...props}/>\n      </section>\n      )\n  }\n  if (path === '/') { \n    return (\n    <section className=\"main\" id=\"main\">\n      <div class=\"overlay\"></div>\n      <div className=\"main__motto\">\n        <div className=\"motto\">Вся жизнь - \n          <div className=\"motto-bold\">путешествие!</div> \n        </div>\n      </div>\n      <div className=\"main__picker\">\n        <MainSearchForm {...props}/>\n        \n      </div>\n    </section>\n  )\n  }\n  }\n\nexport {TrainpickerForm}\n\n","import React, { Fragment, useEffect } from 'react';\nimport { TrainpickerForm } from './TrainpickerForm';\n\nconst Homepage = (props) => {\n  let about, features, reviews, footer;\n  useEffect(() => {\n    about = document.getElementById('about');\n    features = document.getElementById('features');\n    reviews = document.getElementById('reviews');\n    footer = document.getElementById('footer');\n    props.setHomepageRefs({\n      about: about.offsetTop,\n      features: features.offsetTop,\n      reviews: reviews.offsetTop,\n      footer: footer.offsetTop\n    });\n  }, [about]);\n\n  window.onresize = () => {\n    about = document.getElementById('about');\n    features = document.getElementById('features');\n    reviews = document.getElementById('reviews');\n    footer = document.getElementById('footer');\n    props.setHomepageRefs({\n      about: about.offsetTop,\n      features: features.offsetTop,\n      reviews: reviews.offsetTop,\n      footer: footer.offsetTop\n    })\n  }\n\n   return (\n     <Fragment>\n      <About />\n      <Features />\n      <Reviews />\n    </Fragment>\n   )\n}\n\n\nconst About = () => (\n  <section className=\"about\" id=\"about\">\n      <div className=\"about__title\"><h2>О нас</h2></div>\n      <div className=\"about__text\">\n        <div className=\"about__deco\"></div>\n        <div className=\"about__items\">\n          <p className=\"about__item\">Мы рады видеть вас! Мы работаем для Вас с 2003 года. 15 лет мы наблюдаем, как с каждым днем все больше людей заказывают жд билеты через интернет.</p>\n          <p className=\"about__item\">Сегодня можно заказать железнодорожные билеты онлайн всего в 2 клика, но стоит ли это делать? Мы расскажем о преимуществах заказа через интернет.</p>\n          <p className=\"about__item about__item-bold\">Покупать жд билеты дешево можно за 90 суток до отправления поезда. Благодаря динамическому ценообразованию цена на билеты в это время самая низкая.</p>\n        </div>\n      </div>\n    </section>\n)\n\nconst Features = () => (\n  <section className=\"features\" id=\"features\">\n      <div className=\"description\">\n        <h2 className=\"description__title\">Как это работает</h2>\n        <button className=\"description__button\">Узнать больше</button>\n      </div>\n      <div className=\"features__items\">\n        <div className=\"features__item features__item-monitor\">Удобный заказ на сайте</div>\n        <div className=\"features__item features__item-office\">Нет необходимости ехать в офис</div>\n        <div className=\"features__item features__item-globe\">Огромный выбор направлений</div>\n      </div>\n    </section>\n  )\n\nconst Reviews = () => (\n  <section className=\"reviews\" id=\"reviews\">\n      <h2 className=\"reviews__title\">Отзывы</h2>\n      <div className=\"reviews__slide\">\n          <div className=\"review\">\n          <img className=\"review__avatar\" src=\"https://i.ibb.co/Z1RgQdZ/av-1.png\" alt=\"av\"/>\n          <div className=\"review__content\">\n            <h4 className=\"review__author\">Екатерина Вальнова</h4>\n            <p className=\"review__text\">\n              Доброжелательные подсказки на всех этапах помогут правильно заполнить поля и без затруднений купить авиа или ж/д билет, даже если вы заказываете онлайн билет впервые.</p>\n          </div>\n      </div>\n        <div className=\"review\">\n            <img className=\"review__avatar\" src=\"https://i.ibb.co/47wFWkj/av-2.png\" alt=\"av\"/>\n            <div className=\"review__content\">\n              <h4 className=\"review__author\">Евгений Стрыкало</h4>\n              <p className=\"review__text\">\n                СМС-сопровождение до посадки. Сразу после оплаты ж/д билетов и за 3 часа до отправления мы пришлем вам СМС-напоминание о поездке.</p>\n            </div>\n        </div>\n      </div>\n      \n      <div className=\"carousel\">\n        <div className=\"carousel__controls\">\n          <span className=\"carousel__item carousel__item-active\"></span>\n          <span className=\"carousel__item\"></span>\n          <span className=\"carousel__item\"></span>\n          <span className=\"carousel__item\"></span>\n          <span className=\"carousel__item\"></span>\n        </div>\n        </div>\n    </section>\n)\n\nexport {Homepage}","import React from 'react';\n\nconst ProgressSteps = (props) => {\n  const current = props.location.pathname;\n  const steps = [\n    {\n      step: \"/search/seats\",\n      title: \"Билеты\"\n    },\n    {\n      step: \"/passengers\",\n      title: \"Пассажиры\"\n    },\n    {\n      step: \"/payment\",\n      title: \"Оплата\"\n    },\n    {\n      step: \"/confirmation\",\n      title: \"Проверка\"\n    }\n  ];\n\n  const isCurrent = (element, i) => {\n    return element.step.match(current) || i <= steps.findIndex(el => el.step === current)\n  }\n\n  return (\n    <section className=\"progress\">\n      {steps.map((el, i) => (<div className={`progress__step ${isCurrent(el, i) ? \"progress__step-current\" : \"\"}`}>\n       <span className=\"number\">{i+1}</span>\n       <span className=\"progress__text\">{el.title}</span>\n       {i === 3 ? null : <div className={`progress__arrow ${isCurrent(el, i) ? \"progress__arrow-current\" : \"\"}`}></div>}\n     </div>)\n     )}\n   </section>\n  )\n}\n\nexport {ProgressSteps}\n\n","import React, { Fragment } from 'react';\nimport { TrainpickerForm } from './TrainpickerForm';\nimport { ProgressSteps } from './ProgressSteps';\nimport { Link } from 'react-router-dom';\n\n\nconst Header = (props) => {\n  const {homepageRefs} = props;\n  const handleClick = event => {\n    const top = homepageRefs[event.currentTarget.dataset.id];\n    const scrollOptions = {\n      top: top,\n      behavior: 'smooth'\n    }\n\n    if (props.location.pathname === '/') {\n      event.preventDefault();\n    }\n\n    window.scrollTo(scrollOptions);\n  }\n    \n  const handleDropdownMenu = event => {\n    event.currentTarget.nextElementSibling.classList.toggle('hidden');\n    (Array.from(event.currentTarget.children)).forEach( el => el.classList.toggle('hidden'));\n  }\n\n  return (\n    <Fragment>\n      <section className=\"header\">\n        <div className=\"logo\"><Link className=\"logo__link\" to=\"/\"><h1>TrainBooking</h1></Link></div>\n        <nav  className=\"menu\">\n          <ul className=\"nav\">\n            <li  className=\"nav__item\"><Link onClick={handleClick} className=\"nav__link\" data-id=\"about\" to='/'>О нас</Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"features\" className=\"nav__link\" >Как это работает</Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"reviews\" className=\"nav__link\" >Отзывы</Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"footer\" className=\"nav__link\" href=\"#footer\">Контакты</Link></li>\n          </ul>\n        </nav>\n\n        <nav className=\"menu-dropdown\">\n          <div onClick={handleDropdownMenu} className=\"menu-burger\">\n            <i className=\"fas fa-bars\"></i>\n            <i className=\"far fa-window-close hidden\"></i>\n          </div>\n          <ul className=\"nav hidden\">\n            <li></li>\n            <li  className=\"nav__item\"><Link onClick={handleClick} className=\"nav__link\" data-id=\"about\" to='/'>О нас</Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"features\" className=\"nav__link\" >Как это работает</Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"reviews\" className=\"nav__link\" >Отзывы</Link></li>\n            <li  className=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"footer\" className=\"nav__link\" href=\"#footer\">Контакты</Link></li>\n          </ul>\n        </nav>\n\n      </section>\n      <TrainpickerForm {...props}/>\n        {(props.location.pathname === '/' ||  props.location.pathname === '/success') ? null : <ProgressSteps {...props}/>}\n    </Fragment>\n  )\n}\n\n\nexport {Header}","import React, { useContext, useState } from 'react';\nimport {ApiServiceContext} from './context';\nimport { Link } from 'react-router-dom';\n\n\nconst Footer = () => {\n  const api = useContext(ApiServiceContext);\n  const [email, setEmail] = useState('');\n  const [showHint, setShowHint] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  \n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\\.)+[a-z]{2,6}$/.test(email)) {\n      api.subscribe(email);\n      setShowHint(false);\n      setShowThankYou(true);\n      setEmail('');\n    } else {\n      setShowHint(true);\n    }\n  }\n\n\n\n  return (\n  <footer className=\"footer\" id=\"footer\">\n      <div className=\"footer footer-main\">\n      <div className=\"contacts\">\n        <h3 className=\"footer__title\">Свяжитесь с нами</h3>\n        <ul className=\"contacts__list\">\n          <li className=\"contacts__item contacts__item-phone\">8 (800) 000 00 00</li>\n          <li className=\"contacts__item contacts__item-email\">inbox@mail.ru</li>\n          <li className=\"contacts__item contacts__item-skype\">tu.train.tickets</li>\n          <li className=\"contacts__item contacts__item-address\"> г. Москва <br/> ул. Московская 27-35 <br/>  555 555</li>\n        </ul>\n      </div>\n      <div className=\"subscription\">\n        <h3 className=\"footer__title\">Подписка</h3>\n        <form onSubmit={handleSubmit} action=\"\" className=\"subscription-form\">\n          <label className=\"subscription-form__label\">Будьте в курсе событий</label>\n            <div><input value={email} onChange={handleInput} className=\"subscription-form__input\" type=\"email\" name=\"subscription\" placeholder=\"e-mail\"/>\n            <div style={{visibility: showHint ? \"visible\" : \"hidden\" }} className=\"subscription_hint\">Введите корректный email в формате email@mail.ru</div></div>\n          <button className=\"subscription-form__button\"  type=\"submit\">Отправить</button>\n            <div style={{visibility: showThankYou ? \"visible\" : \"hidden\"}} className=\"subscription_thankyou\">Спасибо за подписку!</div>\n        </form>\n        <h3 className=\"footer__title\">Подписывайтесь на нас</h3>\n        <ul className=\"social\">\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-youtube\">\n            <i className=\"fab fa-youtube\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-linkedIn\">\n            <i className=\"fab fa-linkedin-in\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-googlePlus\">\n            <i className=\"fab fa-google-plus-g\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-facebook\">\n            <i className=\"fab fa-facebook-f\"></i>\n              </a></li>\n          <li className=\"social__item\">\n            <a href=\"\" className=\"social__link social__link-twitter\">\n            <i className=\"fab fa-twitter\"></i>\n              </a></li>\n        </ul>\n      </div>\n    </div>\n      <div className=\"footer-additional\">\n          <div className=\"footer__logo\"><Link className=\"logo__link\" to='/'>TrainBooking</Link></div>\n          <div className=\"footer__home-arrow\" onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}></div>\n          <div className=\"footer__copyright\">2019 WEB</div>\n      </div>\n    </footer>\n)\n  }\n\nexport {Footer};","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst styles = theme => ({\n  colorSwitchBase: {\n    color: \"#c4c4c4\",\n    \"& + $colorBar\": {\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #3E3C41\",\n      opacity: 1,\n      width: \"100%\",\n    },\n    \"&$colorChecked\": {\n      color: \"#FFA800\",\n      position: \"relative\",\n      left: \"30px\",\n      \"& + $colorBar\": {\n        backgroundColor: \"#FCDC90\",\n        opacity: 1,\n      }\n    }\n  },\n  icon: {\n    marginTop: '2px',\n  },\n  colorBar: {},\n  colorChecked: {},\n  label: {\n    color: \"#fff\"\n  }\n});\n\nclass CustomizedSwitches extends React.Component {\n\n  state = {\n    checkedA: true,\n    checkedB: true\n  };\n\n  handleChange = name => event => {\n    this.props.onChange();\n    this.setState({ [name]: event.target.checked });\n  };\n\n  render() {\n    const { classes, label } = this.props;\n    \n    const types = [\n      {\n        name: 'second-class',\n        value: 'купе'\n      },\n      {\n        name: 'third-class',\n        value: 'плацкарт'\n      },\n      {\n        name: 'first-class',\n        value: 'люкс'\n      },\n      {\n        name: 'fourth-class',\n        value: 'сидячий'\n      },\n      {\n        name: 'express',\n        value: 'экспресс'\n      },\n      {\n        name: 'wi-fi',\n        value: 'wi-fi'\n      },\n    ];\n    const getSeatType = (type) => {\n      const res = types.find(el => el.value === type.toLowerCase()).name;\n      return res;\n    }\n\n\n\n\n    return (\n      <div>\n        <FormGroup row >\n        <FormControlLabel\n            style={{width: '80%', \"justifyContent\": \"space-between\", \"color\": \"#ffffff\"}}\n            classes={{label: label}}\n            label={<label className={\"switches_label \" + getSeatType(label)} style={{color: \"#fff\", marginRight: '1rem'}}>{label}</label>}\n            labelPlacement=\"start\"\n            control={\n              <Switch\n                checked={this.props.checked}\n                onChange={this.handleChange(\"checkedA\")}\n                value=\"checkedA\"\n                classes={{\n                  switchBase: classes.colorSwitchBase,\n                  checked: classes.colorChecked,\n                  bar: classes.colorBar,\n                  icon: classes.icon\n                }}\n              />\n            }\n          />\n        </FormGroup>\n      </div>\n\n    );\n  }\n}\n\nCustomizedSwitches.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nconst CustomSwitch =  withStyles(styles)(CustomizedSwitches);\n\nexport default (props) => {\n  const { first, second, third, fourth, setFirst, express, wifi, setSecond, setThird, setFourth, setExpress, setWifi } = props;\n  return (\n    <div>\n    <CustomSwitch checked={second} onChange={setSecond} label=\"Купе\"/>\n    <CustomSwitch checked={third} onChange={setThird} label=\"Плацкарт\"/>\n    <CustomSwitch checked={fourth} onChange={setFourth} label=\"Сидячий\"/>\n    <CustomSwitch checked={first} onChange={setFirst} label=\"Люкс\"/>\n    <CustomSwitch checked={express} onChange={setExpress} label=\"Экспресс\"/>\n    <CustomSwitch checked={wifi} onChange={setWifi} label=\"Wi-Fi\"/>\n    </div>\n  )\n}\n\n","import React, { useEffect, useRef, useState, useContext } from 'react';\nimport RangeSlider from 'react-ion-slider';\nimport Switches from './CustomSwitch';\nimport {ApiServiceContext} from './context';\nimport { Datepicker } from './Datepicker';\n\n\nconst FiltersForm = (props) => {\n  const api = useContext(ApiServiceContext);\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n  \n  const [cost, setCost] = useState({from: 500, to: 7000});\n  const [departureTime, setDepartureTime] = useState({from: 0, to: 24});\n  const [arrivalTime, setArrivalTime] = useState({from: 0, to: 24});\n  const [first, setFirst] = useState(false);\n  const [second, setSecond] = useState(true);\n  const [third, setThird] = useState(false);\n  const [fourth, setFourth] = useState(false);\n  const [express, setExpress] = useState(false);\n  const [wifi, setWifi] = useState(true);\n\n  params.filters = `price_from=${cost.from}&price_to=${cost.to}${first ? '&have_first_className=true' : ''}${second ? '&have_second_className=true' : ''}${third ? '&have_third_className=true' : ''}${fourth ? '&have_fourth_className=true' : ''}${wifi ? '&have_wifi=true' : ''}${express ? '&have_express=true' : ''}`;\n\n  const addFilters = event => {\n    event.preventDefault();\n    props.update(params.filters)\n  }\n\n  const resetFilters = event => {\n    event.preventDefault();\n\n    setCost({from: 500, to: 7000});\n    setDepartureTime({from: 0, to: 24});\n    setArrivalTime({from: 0, to: 24});\n    params.filters = '';\n    window.location.href = '/search';\n  }\nlet formref;\n  const handleDropdownFilter = () => {\n    formref.classList.toggle('minimized');\n  }\n\n  return (\n    <div className=\"filters-container\">\n      <div onClick={handleDropdownFilter} className=\"filter-cog\">\n            <i className=\"fas fa-cog\"></i>\n            <i className=\"far fa-window-close hidden\"></i>\n          </div>\n    <form ref={el => formref = el} action=\"\" className=\"search-form minimized\">\n         <fieldset onClick={handleDropdownFilter} className=\"search-form__set\" >\n\n         <h2>Фильтр</h2>\n\n         </fieldset>\n         <fieldset className=\"seat-types\">\n           <Switches \n            first={first}\n            second={second}\n            third={third}\n            fourth={fourth}\n            express={express}\n            wifi={wifi}\n            setFirst={() => setFirst(!first)}\n            setSecond={() => setSecond(!second)}\n            setThird={() => setThird(!third)}\n            setFourth={() => setFourth(!fourth)}\n            setExpress={() => setExpress(!express)}\n            setWifi={() => setWifi(!wifi)}\n          />\n         </fieldset>\n         <fieldset className=\"cost-picker\" >\n           <label className=\"trainpicker_label\">Стоимость</label>\n           <RangeSlider \n              onChange={data => setCost({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={cost.from}\n              to={cost.to}\n              min={500}\n              max={7000}\n              hide_min_max={true}\n              skin=\"material\"/>\n         </fieldset>\n         <fieldset className=\"time-picker\">\n            <label className=\"trainpicker_label\">Время</label>\n            <label className=\"range-picker_label\" for=\"\">Время отправления</label>\n            <RangeSlider \n              onChange={data => setDepartureTime({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={departureTime.from}\n              to={departureTime.to}\n              min={0}\n              max={24}\n              hide_min_max={ false}\n              skin=\"material\"\n              prettify={n => n + ':00'}/>\n\n            <label className=\"range-picker_label\" for=\"\">Время прибытия</label>\n            <RangeSlider \n              onChange={data => setArrivalTime({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={arrivalTime.from}\n              to={arrivalTime.to}\n              min={0}\n              max={24}\n              hide_min_max={ false}\n              skin=\"material\"\n              prettify={n => n + ':00'}/>\n\n         </fieldset>\n         <fieldset className=\"filters__buttons\">\n            <button onClick={addFilters} className=\"filters__button\">Применить</button>\n            <button onClick={resetFilters} className=\"filters__button\">Сбросить</button>\n         </fieldset>\n       </form>\n      </div>\n  )\n}\n\nexport {FiltersForm}","import React from 'react';\n\nconst LastTickets = () => {\n  return (\n    <div className=\"last-tickets\">\n         <h2 className=\"last-tickets_title\">Последние билеты</h2>\n         <div className=\"last-tickets_card\">\n           <div className=\"last-tickets_directions\">\n           <div className=\"last-tickets_from\">\n             <div className=\"train-schedule_city\">Самара</div>\n             <div className=\"train-schedule_station\">Курский вокзал</div>\n           </div>\n           <div className=\"last-tickets_to\">\n              <div className=\"train-schedule_city\">Москва</div>\n              <div className=\"train-schedule_station\">Рижский вокзал</div>\n            </div>\n          </div>\n          <div className=\"last-tickets_info\">\n            <div className=\"last-tickets_labels\">\n              <span className=\"switches_label wi-fi\"></span>\n              <span className=\"switches_label express\"></span>\n              <span className=\"switches_label breakfast\"></span>\n            </div>\n            <div className=\"last-tickets_price\">\n              <span>3 500</span>\n            </div>\n          </div>\n         </div>\n       </div>\n  )\n}\n\nexport {LastTickets}","import React from 'react'\n\n\nconst TrainSchedule = ({info, showTravelTime}) => {\n  const travelTimeHours = Math.floor(info.duration  / 60 / 60);\n  const travelTime = new Date(info.duration * 1000).toLocaleTimeString('ruRu', {hour: 'numeric', minute: 'numeric'});\n  const travelTimeMinutes = Math.floor((info.duration / 60) % 60);\n  \n  return (\n    <div className=\"train-schedule\">\n        <div className=\"train-schedule_way\">\n          <div className=\"train-schedule_from\">\n            <h4 className=\"train-schedule_time\">{(new Date(info.from.datetime * 1000)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</h4>\n            <div className=\"train-schedule_city\">{info.from.city.name}</div>\n            <div className=\"train-schedule_station\">{info.from.railway_station_name}</div>\n          </div>\n          <div className=\"train-schedule_travel-arrow\">\n            {showTravelTime ? <span>{travelTimeHours} ч {travelTimeMinutes} мин</span> : null}\n            <i className=\"material-icons\">arrow_forward</i>\n          </div>\n          <div className=\"train-schedule_to\">\n            <h4 className=\"train-schedule_time\">{(new Date(info.to.datetime * 1000)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</h4>\n            <div className=\"train-schedule_city\">{info.to.city.name}</div>\n            <div className=\"train-schedule_station\">{info.to.railway_station_name}</div>\n          </div>\n        </div>\n      </div>\n\n  )\n}\n\nexport {TrainSchedule}","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport { TrainSchedule } from './TrainSchedule';\n\n\nconst TrainCard = (props) => {\n  const {departure} = props;\n\n  return (\n    <div className=\"train\">\n      <div className=\"train-info\">\n        <div className=\"train-icon\"></div>\n        <h4 className=\"train-info_number\">{departure.train.name}</h4>\n        <div className=\"train-info_destination\">\n          <div className=\"train-info_name\">{departure.from.city.name}</div>\n          <div className=\"train-info_name\">{departure.to.city.name}</div>\n        </div>\n      </div>\n\n      <TrainSchedule info={departure} showTravelTime />\n\n         <div className=\"train-seats\">\n            <ul className=\"train-seats_list\">\n              {departure.have_fourth_class ?  \n                <li >\n                  <span className=\"train-seats_type\">Сидячий</span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.fourth}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.fourth.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_third_class ?  \n                <li >\n                  <span className=\"train-seats_type\">Плацкарт</span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.third}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.third.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_second_class ?  \n                <li >\n                  <span className=\"train-seats_type\">Купе</span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.second}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.second.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_first_class ?  \n                <li >\n                  <span className=\"train-seats_type\">Люкс</span>\n                  <span className=\"train-seats_amount\">{departure.available_seats_info.first}</span>\n                  <span className=\"train-seats_price\">{departure.price_info.first.top_price}</span>\n                </li> :\n                null\n              }\n              </ul>\n\n            <div>\n              <div className=\"train-seats_icons\">\n                {departure.have_wifi ? <span title=\"Есть wi-fi\"><i className=\"fas fa-wifi\"></i></span> : null}\n                {departure.have_air_conditioning ? <span title=\"Есть кондиционер\"><i className=\"far fa-snowflake\"></i></span> : null}\n                {departure.is_express ? <span title=\"Экспресс\"><span className=\"rocket\"></span></span> : null}\n              </div>\n              <div className=\"train-seats_button-container\">\n                <Link className=\"train-seats_button\" to='/seats'  onClick={() => props.setCurrentTrain(departure)}>\n                  Выбрать места</Link>\n              </div>\n            </div>\n       </div>\n      </div>\n  )\n}\n\nexport {TrainCard}","import React from 'react';\n\nconst Pagination = (props) => {\n  const {trains, count, limit, currentPage, setCurrentPage} = props;\n  const pages = new Array(Math.ceil(count / limit)).fill('');\n\n  const handleClick = event => {\n    if (!event.target.classList.contains('page')) {\n      return;\n    }\n\n    if (event.target.classList.contains('page-previous') && currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    } else if (event.target.classList.contains('page-next') && currentPage < pages.length) {\n      setCurrentPage(currentPage + 1);\n    } else if ((currentPage === 1 || currentPage === pages.length) && (event.target.classList.contains('page-previous') || event.target.classList.contains('page-next'))) {\n      return;\n    } else {\n      setCurrentPage(+event.target.textContent)\n    }\n\n    const beginning = document.querySelector('.col-right').offsetTop;\n    window.scrollTo({\n      top: beginning,\n      behavior: 'smooth'\n    })\n  }\n  \n  return count > 0 && trains.length > 0 ? (\n    <div className=\"pagination\" onClick={handleClick}>\n      {count > 1 && <i className=\"fas fa-chevron-left page page-previous\"></i>}\n      <ul>\n        {pages.map((p, i) => <li  className={currentPage === i + 1 ? \"page page-current\" : \"page\"}>{i + 1}</li>)}\n      </ul>\n      {count > 1 && <i className=\"fas fa-chevron-right page page-next\"></i>}\n    </div>\n  ) : null;\n}\n\nexport {Pagination}","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport {TrainpickerForm} from './TrainpickerForm'\nimport {ProgressSteps} from './ProgressSteps'\nimport { FiltersForm } from './FiltersForm';\nimport { LastTickets } from './LastTickets'\nimport { TrainCard } from './TrainCard';\nimport { Pagination } from './Pagination'; \n\nimport {ApiServiceContext} from './context';\n\n\n\nconst SearchPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {trains, setTrains} = props;\nconsole.log(trains);\n\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n\n  const [showNotice, setShowNotice] = useState(false);\n  const [count, setCount] = useState(0);\n  const [sortBy, setSortBy] = useState('duration');\n  const [limit, setLimit] = useState(5);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const update = (filters) => {\n    params.filters = filters; \n    api.getRoutes(params, sortBy, limit, offset)\n    .then(response => {\n        sessionStorage.trains = JSON.stringify(response.items);\n        const count = response.items.length === 0 ? 0 : response.total_count;\n        setCount(count);\n        setTrains(response.items);\n        if (response.items.length === 0) {\n          setShowNotice(true);\n        } \n      }\n    );\n  }\n\n  useEffect(() => {\n    update();\n  }, [params.from.name, params.to.name, sortBy, limit, offset]);\n\n  const handleSortBy = event => {\n    const list = event.currentTarget;\n    const item = event.target;\n    list.classList.toggle('sort_list-open');\n    Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    item.classList.add('sort-by-current');\n    setSortBy(item.dataset.sort);\n    setCurrentPage(1);\n  }\n  \n  const handleLimit = event => {\n    if (!event.target.classList.contains('limit-by')) {\n      return;\n    }\n    const list = event.currentTarget;\n    const item = event.target;\n    Array.from(list.children).forEach(el => el.classList.remove('limit-by-current'));\n    item.classList.add('limit-by-current');\n    setLimit(item.dataset.limit);\n    setCurrentPage(1);\n  }\n\n  const setPage = (page) => {\n    setOffset(limit * (page - 1));\n    setCurrentPage(page);\n  }\n\n  return  (\n    <Fragment>\n      <section className=\"columns\">\n        <div className=\"col-left\">\n          <FiltersForm {...props} update={update} />\n          <LastTickets />\n        </div>\n        <div className=\"col-right\">\n          <div className=\"results-display\">\n            <div className=\"trains-count\">\n              <span className=\"results-option\">Найдено</span>\n              <span>{count}</span>\n            </div>\n            <div className=\"sort\">\n              <span className=\"results-option\">сортировать по:</span>\n              <ul onClick={handleSortBy} className=\"sort_list\">\n                <li className=\"sort-by\" data-sort=\"date\">отправлению</li>\n                <li className=\"sort-by sort-by-current\" data-sort=\"duration\">длительности</li>\n              </ul>\n            </div>\n            <div className=\"limit\">\n              <span className=\"results-option\">показывать по:</span>\n              <ul className=\"limit_list\" onClick={handleLimit}>\n                <li className=\"limit-by limit-by-current\" data-limit={5}>5</li>\n                <li className=\"limit-by\" data-limit={10}>10</li>\n                <li className=\"limit-by\" data-limit={20}>20</li>\n              </ul>\n            </div>\n          </div>\n          {trains.length > 0 ? \n            trains.map(train => <TrainCard \n                                departure={train.departure} \n                                currentTrain={props.currentTrain} \n                                setCurrentTrain={props.setCurrentTrain}/>) :\n            showNotice ? <div className=\"not-found-notice\">К сожалению, ничего не найдено. Попробуйте изменить параметры поиска.</div> : <div className=\"loader\"><div className=\"loader_image\"></div></div>\n          }\n\n          <Pagination \n              trains={trains}\n              count={count} \n              limit={limit} \n              currentPage={currentPage}\n              setCurrentPage={setPage}/> \n        </div>\n      </section>\n    </Fragment>\n  )\n  \n}\n\nexport {SearchPage}\n","import React from 'react';\nimport { TrainSchedule } from './TrainSchedule';\n\nconst CurrentTrain = ({info}) => {\n  const travelTimeHours = Math.floor(info.duration / 18000);\n  const travelTimeMinutes = Math.floor((info.duration / 18000) % 1 * 60);\n\n  return (\n    <div className=\"current-train\">\n      <div className=\"train-icon\"></div>\n      <div className=\"train-info\">\n        <h4 className=\"train-info_number\">{info.train.name}</h4>\n        <div>\n          <div className=\"train-info_name\">{info.from.city.name}</div>\n          <div className=\"train-info_name\">{info.to.city.name}</div>\n        </div>\n        </div>\n\n      <TrainSchedule info={info} showTravelTime={false}/>\n      \n     <div className=\"current-train_travel-time\">\n        <div className=\"travel-time_icon\"></div>\n        <div className=\"travel-time_text\">\n          <div className=\"hours\">{travelTimeHours} ч</div>\n          <div className=\"hours\">{travelTimeMinutes} мин</div>\n        </div>\n     </div>\n    </div>\n  )\n}\n\nexport {CurrentTrain};","import React, { useState } from 'react'\n\nconst TicketsNumber = ({passengers, setAdultSeats, setChildrenSeats, setChildrenWithoutSeats}) => {\n  const [totalPassengers, setTotalPassengers] = useState(passengers.adults + passengers.children);\n  const handleChange = event => {\n    const type = event.currentTarget.dataset.name;\n\n    const op = (value) => {\n      if (event.currentTarget.dataset.op === \"inc\") {\n        return value + 1;\n      }\n      return value - 1;\n    } \n\n    switch (type) {\n      case \"children\":\n        if (totalPassengers <= 4) {\n          setChildrenSeats(op(passengers.children));\n        }\n        break;\n      case \"childrenwithoutSeats\":\n          if (totalPassengers <= 4) {\n        setChildrenWithoutSeats(op(passengers.childrenWithoutSeats));\n          }\n        break;\n      case \"adults\":\n        setAdultSeats(op(passengers.adults));\n        break;\n      default:\n        return;\n    }\n  }\n  return (\n    <div className=\"tickets-number\">\n      <h2>Количество билетов</h2>\n      <form className=\"tickets-number_boxes\">\n        <div className=\"tickets-number_box\">\n          <div className=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">Взрослых:</div> \n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"adults\" onClick={handleChange}>–</span>\n            <span className=\"tickets-number_counter\">{passengers.adults}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"adults\" onClick={handleChange}>+</span>\n          </div>\n          <div className=\"tickets-number_hint\">\n            {4 - passengers.adults - passengers.children > 0 ? \n            `Можно добавить еще ${4 - passengers.adults - passengers.children} пассажиров` :\n            \"В одном заказе можно оформить не больше 4 билетов\"\n            }\n            </div>\n        </div>\n\n        <div className=\"tickets-number_box\">\n          <div className=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">Детских: </div>\n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"children\" onClick={handleChange}>–</span>\n            <span className=\"tickets-number_counter\">{passengers.children}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"children\" onClick={handleChange}>+</span>\n          </div>\n          <div className=\"tickets-number_hint\">\n            {4 - passengers.adults - passengers.children > 0 ? \n              `Можно добавить еще ${4 - passengers.adults - passengers.children} детей до 10 лет` :\n              \"4 билета уже выбрано\"\n            }\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport {TicketsNumber}","import React, { Fragment, useEffect, useState } from 'react';\n\nconst CarType = (props) => {\n  const {currentType, coaches, setCurrentType, currentCoach, setCurrentCoach} = props;\n\n  const isActive = item => item === currentType ? \"car-type_item-active\" : '';\n  const getCoachName = (name) => {\n    return name.match(/\\d/g);\n  }\n  const handleTypeChange = event => {\n    if (currentType !== event.currentTarget.dataset.type) {\n      setCurrentType(event.currentTarget.dataset.type);\n    }\n  }\n\n  const [activeCoach, setActiveCoach] = useState(coaches[0]);\n\n  useEffect(() => {\n    setCurrentCoach(coaches[0]);\n  }, [currentType]);\n\n  return (\n    <div className=\"car-type\">\n      <h2>Выберите тип вагона</h2>\n      <ul className=\"car-type_icons\">\n        {<li onClick={handleTypeChange} data-type=\"fourth\" className={\"car-type_item car-type_item-fourth-class \" + isActive('fourth') }>Сидячий</li>}\n        <li onClick={handleTypeChange} data-type=\"third\" className={\"car-type_item car-type_item-third-class \" + isActive('third')}>Плацкарт</li>\n        <li onClick={handleTypeChange} data-type=\"second\" className={\"car-type_item car-type_item-second-class \" + isActive('second')}>Купе</li>\n        <li onClick={handleTypeChange} data-type=\"first\" className={\"car-type_item car-type_item-first-class \" + isActive('first')}>Люкс</li>\n      </ul>\n\n      {coaches.length > 0 && currentCoach ? ( \n        <Fragment>\n          <div className=\"car-number_switch\">\n            Вагоны: \n            <ul className=\"car-number_list\">\n              {coaches.map((el, i) => (\n                <li key={i} \n                  className={el.coach.name === currentCoach.coach.name ? \"current-car-number\" : \"\"} \n                  onClick={() => setCurrentCoach(el)}>\n                    {getCoachName(el.coach.name)}\n                  </li>)\n              )}\n            </ul>\n            <span>Нумерация вагонов начинается с головы поезда</span>\n          </div>\n\n          <div className=\"car-main\">\n            <div className=\"car-number\">\n              <h2>{getCoachName(currentCoach.coach.name)}</h2>\n              <span>вагон</span>\n            </div>\n            <div className=\"seats-info\">\n              <div>\n                <span className=\"seats-info_title\">Выберите места:</span>\n                {currentType === \"second\" || currentType === \"third\" ? \n                <Fragment>\n                  <span>Верхние</span>\n                  <span>Нижние</span> \n                </Fragment> :\n                currentType === \"first\" ? \n                  <Fragment>\n                    <span>Нижние</span>\n                    <span></span> \n                  </Fragment> : \n                  <Fragment>\n                    <span>Сидячие</span>\n                    <span></span> \n                  </Fragment>\n                }\n              </div>\n              <div>\n                <span className=\"seats-info_title\">Стоимость</span>\n                {currentType === \"second\" || currentType === \"third\" ? \n                <Fragment>\n                  <span className=\"seats-info_price\">{currentCoach.coach.top_price}</span>\n                  <span className=\"seats-info_price\">{currentCoach.coach.bottom_price}</span>\n                </Fragment> :\n                <Fragment>\n                  <span className=\"seats-info_price\">{currentCoach.coach.top_price}</span>\n                  <span></span>\n                </Fragment>\n                }\n              </div>\n              <div>\n                <span className=\"seats-info_title\">Обслуживание</span>\n                <ul className=\"seats-info_services\">\n                  {currentCoach.coach.have_air_conditioning ? <li className=\"seats-info_service seats-info_service-air\"><span></span></li> : null}\n                  {currentCoach.coach.have_wifi ? <li className=\"seats-info_service seats-info_service-wifi\"><span></span></li> : null}\n                  {currentCoach.coach.is_linens_included ? <li className=\"seats-info_service seats-info_service-linens\"><span></span></li> : null}\n                  <li className=\"seats-info_service seats-info_service-food\"><span></span></li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </Fragment>) : \n        <div className=\"car-number_switch\">В этом поезде нет мест выбранного типа</div>}\n    </div>\n  )\n}\n\nexport {CarType}","import React, { useEffect } from 'react';\n\nconst CarScheme = (props) => {\n  let Car, price;\n  const {type, coach, passengers, chosen, setChosen, cancelChosen, setTotalPrice, topPrice, bottomPrice, sidePrice} = props;\n\n  const getFirstClassPrice = () => bottomPrice;\n  const getSecondClassPrice = seat => seat % 2 === 0 ? topPrice : bottomPrice;\n  const getThirdClassPrice = seat => seat > 36 ? sidePrice : getSecondClassPrice(seat);\n  const getFourthClassPrice = () => bottomPrice;\n  \n  useEffect(() => {\n    const seats = document.querySelectorAll('.scheme_seat');\n    if (chosen.length === passengers) {\n      seats.forEach(el => {\n        if (el.classList.contains('scheme_seat-free') && !el.classList.contains('scheme_seat-chosen')) {\n          el.classList.add('scheme_seat-inactive') \n        }\n      });\n    } else {\n      seats.forEach(el => el.classList.remove('scheme_seat-inactive'))\n    }\n  }, [chosen, passengers]);\n\n  switch (type) {\n    case \"first\":\n      Car = FirstClassScheme;\n      price = getFirstClassPrice;\n      break;\n    case \"second\":\n      Car = SecondClassScheme;\n      price = getSecondClassPrice; \n      break;\n    case \"third\":\n      Car = ThirdClassScheme;\n      price = getThirdClassPrice;\n      break;\n    case \"fourth\":\n      Car = FourthClassScheme;\n      price = getFourthClassPrice;\n      break;\n    default:\n      return;\n  }\n\n\n\n  const handleClick = event => {\n    if (!event.target.classList.contains('scheme_seat') || !event.target.classList.contains('scheme_seat-free')) {\n      return;\n    }\n\n    const seat = event.target;\n    const seatId = +seat.textContent;\n\n    if (seat.classList.contains('scheme_seat-chosen')) {\n      seat.classList.remove('scheme_seat-chosen');\n      cancelChosen(seatId);\n      setTotalPrice(-price(seatId));\n    } else if (seat.classList.contains('scheme_seat-free') && chosen.length < passengers) {\n        event.target.classList.add('scheme_seat-chosen');\n        setChosen(seatId);\n        setTotalPrice(price(seatId));\n    }\n  }\n\n  const getCoachNumber = (name) => {\n    return name.match(/\\d/g);\n  }\n\n  return (\n    <div className=\"car-scheme\">\n      <div className=\"car-hint\">{type === \"second\" || type === \"third\" ? \"Нижние - нечетные, верхние - четные\" : \"В один заказ можно добавить не более 4 мест\"}</div>\n      <div className=\"scheme_car-number\" title=\"Номер вагона\">\n        <span>{getCoachNumber(coach.coach.name)}</span>\n      </div>\n      <div className=\"scheme\" onClick={handleClick}>\n        <Car />\n      </div>\n    </div>\n  )\n}\n\nexport {CarScheme};\n\n\nconst FirstClassScheme = () => {\n  return (\n    <div className=\"scheme_train-first-class\" >\n      <div className=\"scheme_room\"> \n        <div className=\"scheme_seat scheme_seat-free\">1</div>\n        <div className=\"scheme_seat\">2</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">3</div>\n        <div className=\"scheme_seat\">4</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">5</div>\n        <div className=\"scheme_seat\">6</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">7</div>\n        <div className=\"scheme_seat\">8</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">9</div>\n        <div className=\"scheme_seat scheme_seat-free\">10</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">11</div>\n        <div className=\"scheme_seat\">12</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat\">13</div>\n        <div className=\"scheme_seat\">14</div>\n      </div>\n      <div className=\"scheme_room\">\n        <div className=\"scheme_seat scheme_seat-free\">15</div>\n        <div className=\"scheme_seat scheme_seat-free\">16</div>\n      </div> \n    </div>\n  )\n}\n\nconst SecondClassScheme = () => {\n  return (\n    <div className=\"scheme_train-second-class\" > \n      <div className=\"scheme_room\"> \n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">1</div>\n          <div className=\"scheme_seat\">2</div>\n        </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">3</div>\n        <div className=\"scheme_seat\">4</div>\n      </div>\n      </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">5</div>\n        <div className=\"scheme_seat\">6</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat\">7</div>\n        <div className=\"scheme_seat\">8</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">9</div>\n        <div className=\"scheme_seat\">10</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">11</div>\n        <div className=\"scheme_seat\">12</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\"> \n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">13</div>\n        <div className=\"scheme_seat\">14</div>\n      </div>\n      <div>\n          <div className=\"scheme_seat scheme_seat-free\">15</div>\n        <div className=\"scheme_seat\">16</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">17</div>\n        <div className=\"scheme_seat scheme_seat-free\">18</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">19</div>\n        <div className=\"scheme_seat\">20</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n        <div>\n            <div className=\"scheme_seat\">21</div>\n            <div className=\"scheme_seat scheme_seat-free\">22</div>\n          </div>\n          <div>\n            <div className=\"scheme_seat scheme_seat-free\">23</div>\n            <div className=\"scheme_seat\">24</div>\n          </div>\n      </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">25</div>\n        <div className=\"scheme_seat\">26</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">27</div>\n        <div className=\"scheme_seat\">28</div>\n      </div>\n    </div>\n    <div className=\"scheme_room\">\n      <div>\n        <div className=\"scheme_seat\">29</div>\n        <div className=\"scheme_seat scheme_seat-free\">30</div>\n      </div>\n      <div>\n        <div className=\"scheme_seat scheme_seat-free\">31</div>\n        <div className=\"scheme_seat scheme_seat-free\">32</div>\n      </div>\n    </div>\n    </div>\n  )\n}\n\nconst ThirdClassScheme = () => {\n  return (\n    <div className=\"scheme_train-third-class\">\n      <SecondClassScheme />\n      <div className=\"scheme_train-side\">\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">33</div>\n          <div className=\"scheme_seat\">34</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">35</div>\n          <div className=\"scheme_seat\">36</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">37</div>\n          <div className=\"scheme_seat scheme_seat-free\">38</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">39</div>\n          <div className=\"scheme_seat\">40</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">41</div>\n          <div className=\"scheme_seat\">42</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">43</div>\n          <div className=\"scheme_seat scheme_seat-free\">44</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat\">45</div>\n          <div className=\"scheme_seat scheme_seat-free\">46</div>\n        </div>\n        <div>\n          <div className=\"scheme_seat scheme_seat-free\">47</div>\n          <div className=\"scheme_seat scheme_seat-free\">48</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst FourthClassScheme = () => {\n  return (\n    <div className=\"scheme_train-fourth-class\" >\n      <div className=\"scheme_row\">\n        <div className=\"scheme_seat scheme_seat-free\">1</div>\n        <div className=\"scheme_seat\">2</div>\n        <div className=\"scheme_seat\">3</div>\n        <div className=\"scheme_seat scheme_seat-free\">4</div>\n        <div className=\"scheme_seat scheme_seat-free\">5</div>\n        <div className=\"scheme_seat scheme_seat-free\">6</div>\n        <div className=\"scheme_seat scheme_seat-free\">7</div>\n        <div className=\"scheme_seat\">8</div>\n        <div className=\"scheme_seat\">9</div>\n        <div className=\"scheme_seat\">10</div>\n        <div className=\"scheme_seat\">11</div>\n        <div className=\"scheme_seat scheme_seat-free\">12</div>\n        <div className=\"scheme_seat\">13</div>\n        <div className=\"scheme_seat\">14</div>\n        <div className=\"scheme_seat\">15</div>\n        <div className=\"scheme_seat\">16</div>\n        <div className=\"scheme_seat\">17</div>\n        <div className=\"scheme_seat\">18</div>\n        <div className=\"scheme_seat\">19</div>\n        <div className=\"scheme_seat\">20</div>\n        <div className=\"scheme_seat scheme_seat-free\">21</div>\n        <div className=\"scheme_seat\">22</div>\n        <div className=\"scheme_seat\">23</div>\n        <div className=\"scheme_seat scheme_seat-free\">24</div>\n        <div className=\"scheme_seat scheme_seat-free\">25</div>\n        <div className=\"scheme_seat\">26</div>\n        <div className=\"scheme_seat\">27</div>\n        <div className=\"scheme_seat\">28</div>\n        <div className=\"scheme_seat\">29</div>\n        <div className=\"scheme_seat\">30</div>\n        <div className=\"scheme_seat scheme_seat-free\">31</div>\n        <div className=\"scheme_seat scheme_seat-free\">32</div>\n      </div>\n\n      <div className=\"scheme_row scheme_row-second\">\n        <div className=\"scheme_seat\">33</div>\n        <div className=\"scheme_seat\">34</div>\n        <div className=\"scheme_seat\">35</div>\n        <div className=\"scheme_seat scheme_seat-free\">36</div>\n        <div className=\"scheme_seat scheme_seat-free\">37</div>\n        <div className=\"scheme_seat scheme_seat-free\">38</div>\n        <div className=\"scheme_seat\">39</div>\n        <div className=\"scheme_seat\">40</div>\n        <div className=\"scheme_seat\">41</div>\n        <div className=\"scheme_seat\">42</div>\n        <div className=\"scheme_seat scheme_seat-free\">43</div>\n        <div className=\"scheme_seat scheme_seat-free\">44</div>\n        <div className=\"scheme_seat scheme_seat-free\">45</div>\n        <div className=\"scheme_seat scheme_seat-free\">46</div>\n        <div className=\"scheme_seat\">47</div>\n        <div className=\"scheme_seat\">48</div>\n        <div className=\"scheme_seat scheme_seat-free\">49</div>\n        <div className=\"scheme_seat scheme_seat-free\">50</div>\n        <div className=\"scheme_seat\">51</div>\n        <div className=\"scheme_seat\">52</div>\n        <div className=\"scheme_seat\">53</div>\n        <div className=\"scheme_seat\">54</div>\n        <div className=\"scheme_seat scheme_seat-free\">55</div>\n        <div className=\"scheme_seat\">56</div>\n        <div className=\"scheme_seat scheme_seat-free\">57</div>\n        <div className=\"scheme_seat scheme_seat-free\">58</div>\n        <div className=\"scheme_seat\">59</div>\n        <div className=\"scheme_seat scheme_seat-free\">60</div>\n        <div className=\"scheme_seat\">61</div>\n        <div className=\"scheme_seat scheme_seat-free\">62</div>\n      </div>\n    </div>\n  )\n}","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { CurrentTrain } from './CurrentTrain';\nimport { TicketsNumber } from './TicketsNumber'\nimport { CarType } from './CarType';\nimport { CarScheme } from './CarScheme';\nimport {ApiServiceContext} from './context'\n\nconst SeatsPage = (props) => {\n  /* console.log(props); */\n  const api = useContext(ApiServiceContext);\n  const [data, setData] = useState([]);\n  const [coaches, setCoaches] = useState([]);\n  const [chosen, setChosen] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [currentType, setCurrentType] = useState('');\n  const [currentCoach, setCurrentCoach] = useState('');\n  const [adultSeats, setAdultSeats] = useState(1);\n  const [childrenSeats, setChildrenSeats] = useState(0);\n\n  const currentTrain = props.currentTrain || JSON.parse(sessionStorage.currentTrain);\n  const id = currentTrain['_id'];\n  \n  useEffect(() => {\n      api.getSeats(id)\n        .then(response => {\n          setData(response);\n          setCurrentType(response[0].coach.class_type);\n          setCoaches(response.filter(el => el.coach.class_type === response[0].coach.class_type));\n          setCurrentCoach(response[0])\n          sessionStorage.trainId = id;\n        })\n    \n  }, [id]);\n\n  return currentType &&  data ? (\n    <div>\n      <div className=\"seats-choice\" >\n        <div className=\"change-train change-train-to\">\n          <span className=\"change-train_arrow\">\n              <i className=\"material-icons\">arrow_forward</i>\n          </span>\n          <Link to=\"/search\" className=\"change-train_button\">Выбрать другой поезд</Link>\n        </div>\n\n        <CurrentTrain info={currentTrain} />\n        <TicketsNumber \n          passengers={{adults: adultSeats, children: childrenSeats}}\n          setAdultSeats={seats => setAdultSeats(seats)}\n          setChildrenSeats={seats => setChildrenSeats(seats)}\n          />\n        <CarType \n          coaches={data.filter(el => el.coach.class_type === currentType)} \n          currentType={currentType} \n          currentCoach={currentCoach}\n          setCurrentType={type => {\n            setCurrentType(type);\n            setChosen([]);\n            setTotalPrice(0);\n          }}\n          setCurrentCoach={coach => setCurrentCoach(coach)}/>\n        {currentCoach && <CarScheme \n          passengers={adultSeats + childrenSeats}\n          type={currentType} \n          coach={currentCoach}\n          topPrice={currentCoach.coach.top_price}\n          bottomPrice={currentCoach.coach.bottom_price}\n          sidePrice={currentCoach.coach.side_price}\n          chosen={chosen}\n          setChosen={seat => {\n            const chosenSeats = chosen.slice();\n            chosenSeats.push(seat);\n            setChosen(chosenSeats);\n          }}\n          cancelChosen={seat => {\n            const chosenSeats = chosen.slice();\n            const seatToCancel = chosenSeats.findIndex(el => el.index === seat.index);\n            chosenSeats.splice(seatToCancel, 1);\n            setChosen(chosenSeats);\n          }}\n          setTotalPrice={price => setTotalPrice(totalPrice + price)}\n          />}\n        <div className=\"total-price\">{parseInt(totalPrice).toLocaleString()}</div>\n      </div>\n\n      <div className=\"to-order-button-container\">\n        <Link to={{\n          pathname: '/passengers', \n          passengers: {adults: adultSeats, children: childrenSeats},\n          seats: chosen,\n          price: totalPrice\n          }}>\n            <button className=\"to-order-button\" \n              disabled={chosen.length === 0 || adultSeats + childrenSeats !== chosen.length}>Далее</button>\n        </Link>\n      </div>\n    </div>\n    ) : <div className=\"loader\"><div className=\"loader_image\"></div></div>\n  \n}\n\nexport {SeatsPage}","import React from 'react';\nimport { CurrentTrain } from './CurrentTrain';\n\nconst TripDetails = (props) => {\n  const data = JSON.parse(sessionStorage.currentTrain);\n  const travelDate = new Date(JSON.parse(sessionStorage.searchParams).date);\n  const arrivalDate = new Date(travelDate);\n  arrivalDate.setHours(arrivalDate.getHours() + (new Date(data.duration * 1000)).getHours());\n\n  return (\n    <div className=\"trip-details\">\n      <h2>Детали поездки</h2>\n      <div className=\"trip-details_to\">\n\n      <div className=\"trip-details_title\">\n          <h3  className=\"trainpicker_label trainpicker_label-to\">Отправление</h3>\n      </div>\n      <div className=\"trip-details_date\"></div>\n\n      <div className=\"train-details\">\n        <div>\n          <span>Дата</span>\n          <span>№ Поезда</span>\n          <span>Маршрут</span>\n        </div>\n        <div>\n          <span>{travelDate.toLocaleDateString()}</span>\n          <span><b>{data.train.name}</b></span>\n          <span><b>{data.from.city.name}<br/>{data.to.city.name}</b></span>\n        </div>\n      </div>\n            \n      <div className=\"time-details\">\n        <div>\n          <span className=\"time-details_time\">{(new Date(data.from.datetime * 1000)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</span>\n          <span className=\"time-details_date\">{travelDate.toLocaleDateString()}</span>\n        </div>\n        <div className=\"time-details_arrow\">{Math.floor(data.duration  / 60 / 60) + \":\" +  Math.floor((data.duration / 60) % 60) }</div>\n        <div>\n          <span className=\"time-details_time\">{(new Date(data.to.datetime * 1000)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</span>\n          <span className=\"time-details_date\">{arrivalDate.toLocaleDateString()}</span>\n        </div>\n      </div>\n      <div className=\"direction-details\">\n        <div>\n          <span className=\"direction-details_city\">{data.from.city.name}</span>\n          <br/>\n          <span className=\"direction-details_station\">{data.from.railway_station_name}</span>\n        </div>\n        <div>\n          <span className=\"direction-details_city\">{data.to.city.name}</span>\n          <br/>\n          <span className=\"direction-details_station\">{data.to.railway_station_name}</span>\n        </div>\n      </div>\n  </div>\n  \n    <div className=\"trip-details_passengers\">\n      <div className=\"trip-details_title \">\n        <h3  className=\"trainpicker_label trainpicker_label-passenger\">Пассажиры</h3>\n      </div>\n      <div className=\"train-details passengers-details \">\n        <div>{\"Взрослых: \"}<b>{props.passengers.adults}</b></div>\n        <div>{\"Детей: \"}<b>{props.passengers.children}</b></div>\n        </div>\n    </div>\n\n      <div className=\"trip-details_total\">\n        <span>ИТОГ</span>\n        <span className=\"\">{parseInt(props.price).toLocaleString()}</span>\n      </div>\n    </div> \n  )\n}\n\nexport {TripDetails}","import React from 'react'\nimport MaskedInput from 'react-text-mask';\nimport Input from '@material-ui/core/Input';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\nconst materialTheme = createMuiTheme({\n  overrides: {\n    MuiFormControl: {\n      root: {\n       width: '100%',\n       display: 'block'\n      }\n     }, \n     MuiInput: {\n      underline: {\n        borderRadius: '3px',\n        '&:after': {\n          display: 'none'\n        },\n        '&:before': {\n          display: 'none'\n        },\n        '&:hover': {\n          borderBottom: 'none !important'\n        }\n    \n      }\n     },\n    MuiInputBase: {\n      root: {\n        background: '#fff',\n        'borderRadius': '3px',\n        boxSizing: 'border-box',\n      },\n      /* меняем стили инпута */\n      input: {\n        boxSizing: 'border-box',\n        fontSize: '18px',\n        fontWeight: '100',\n        padding: '3px 0 3px 10px',\n        height: '30px',\n        width: '100%',\n        border: '1px solid #928F94',\n        outline: 'none',\n        borderRadius: '3px',\n          '&$focused': {\n            \"border\": \"none\"\n          }\n      }\n    },\n    MuiOutlinedInput: {\n      root: {\n        'borderRadius': '3px'\n      },\n       notchedOutline: {\n        border: 'none',\n        outline: 'none'\n      }\n    } \n  },\n});\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n  return (\n    <MaskedInput\n      {...other}\n      ref={ref => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      mask={props.mask}\n      prefix={props.prefix}\n      placeholderChar={'_'}\n      showMask\n    />\n  );\n}\n\nexport default function FormattedInput(props) {\n\n  const [values, setValues] = React.useState({\n    textmask: '    '\n  });\n\n  const handleChange = name => event => {\n    setValues({\n      ...values,\n      [name]: event.target.value,\n    });\n    props.onChange(event.target.value)\n  };\n\n  return (\n    <MuiThemeProvider theme={materialTheme}>\n      <FormControl>\n        <Input\n          value={values.textmask}\n          onChange={handleChange('textmask')}\n          id=\"formatted-text-mask-input\"\n          inputComponent={TextMaskCustom}\n          inputProps={{\n            mask: props.inputmask\n          }}\n        />\n      </FormControl>\n      </MuiThemeProvider>\n  );\n}","import React, { useRef, useState, Fragment, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport {Datepicker} from './Datepicker';\n\nconst PassengersPage = (props) => {\n  if (props.location.passengers) {\n    sessionStorage.passengers = JSON.stringify(props.location.passengers);\n    sessionStorage.seats = JSON.stringify(props.location.seats);\n    sessionStorage.price = props.location.price;\n  }\n\n  const passengers = props.location.passengers || JSON.parse(sessionStorage.passengers);\n  const price = props.location.price || JSON.parse(sessionStorage.price);\n  \n  const [valid, setValid] = useState([]);\n  const [passengersList, setPassengersList] = useState([])\n\n  const savePassengers = passenger => {\n    const passengers = passengersList.slice();\n    passengers.push(passenger);\n    setPassengersList(passengers);\n  }\n  \n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails passengers={passengers} price={price}/>\n      </div>\n      <div className=\"col-right\">\n        {(new Array(passengers.adults))\n            .fill('')\n            .map((p, i) => <PassengerCard \n                              passenger={i + 1} \n                              open={i > 0 ? false : true} \n                              adult \n                              setValid={(i) => setValid(i)} \n                              valid={valid}\n                              setPassengers={(passenger) => savePassengers(passenger)}/>)}\n\n        {(new Array(passengers.children))\n              .fill('')\n              .map((p, i) => <PassengerCard \n                              passenger={passengers.adults + 1 + i} \n                              open={false} \n                              child \n                              setValid={(i) => setValid(i)} \n                              valid={valid}\n                              setPassengers={(passenger) => savePassengers(passenger)}/>)}\n\n        <Link to='/payment' >\n          <button disabled={valid.length !== passengers.adults + passengers.children}  onClick={() => sessionStorage.passengersList = JSON.stringify(passengersList)} className=\"to-order-button\">Далее</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\n\nconst PassengerCard = ({open, passenger, child, adult, valid, setValid, setPassengers}) => {\n  const [isOpen, setOpen] = useState(open);\n  let formRef = useRef(null);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [dateOfBirth, setDateOfBirth] = useState(null);\n  const [gender, setGender] = useState('мужской');\n  const [disabilities, setDisabilities] = useState(false);\n  const [passport1, setPassport1] = useState('');\n  const [passport2, setPassport2] = useState('');\n  const [certificate, setCertificate] = useState('');\n  const [isPassportChosen, setIsPassportChosen] = useState(adult);\n \n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^А-Яа-яЁё -]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const isNameValid = () => {\n    if (firstName.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"Введите корректное имя!\")\n    }\n    if (lastName.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"Введите корректную фамилию\")\n    }\n    if (patronymic.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"Введите корректное отчество\")\n    }\n  }\n\n  const isPassportValid = () => {\n    if (isPassportChosen) {\n      if (passport1.match(/_/)) {\n        throw new Error (\"Введите 4 цифры серии паспорта\")\n      }\n      if (passport2.match(/_/)) {\n        throw new Error (\"Введите 6 цифр номера паспорта\")\n      }\n    } else {\n      if (certificate.match(/_/)) {\n        throw new Error (\"Введите 12 цифр номера свидетельства о рождении\")\n      }\n    }\n  }\n\n  const isValid = () => {\n    try {\n      isNameValid();\n      isPassportValid();\n    } catch (e) {\n      return <span className=\"error\">{e.message}</span>;\n    }\n    if (!valid.find(el => el === passenger)) {\n      const validated = valid.slice();\n      validated.push(passenger);\n      setValid(validated);\n    }\n    return <span className=\"valid\">Готово!</span>;\n  }\n\n  const isPassportComplete = passport1.replace(/\\s|_/g, '').length === 4 && passport2.replace(/\\s|_/g, '').length === 6;\n  const isCertificateComplete = certificate.replace(/\\s|_/g, '').length === 12;\n  const isComplete = firstName && lastName && patronymic && (isPassportComplete || isCertificateComplete) && dateOfBirth;\n\n  useEffect(() => {\n    if (isComplete) {\n      setPassengers({\n      name: lastName + \" \" + firstName + \" \" + patronymic,\n      gender: \"Пол \" + gender,\n      dateOfBirth: \"Дата рождения \" + dateOfBirth,\n      document: isPassportChosen ? \n                \"Паспорт РФ \" + passport1.replace(/\\s/g, \"\") + passport2.replace(/\\s/g, \"\") : \n                \"Свидетельство о рождении \" + certificate.replace(/\\s/g, \"\"),\n      adult: adult\n    })\n  }\n  },  [isComplete]);\n \n  if (isOpen) {\n    const today = new Date();\n    const minDate = adult ? new Date(today.setYear(today.getFullYear() - 100)) : new Date(today.setYear(today.getFullYear() - 10));\n    \n    return (\n      <div className=\"passengers-card passengers-card_open\">\n        <div onClick={() => setOpen(!isOpen)} className=\"passengers-card_title\">Пассажир {passenger}</div>\n        <form ref={formRef} action=\"\" className=\"passengers-card_form\">\n        <fieldset>\n          <div className=\"select-container\">\n            <select defaultValue={adult ? \"adult\" : \"child\"} className=\"passengers-card_select\" name=\"\" id=\"\">\n              <option disabled={child} value=\"adult\">Взрослый</option>\n              <option disabled={adult} value=\"child\">Детский</option>\n            </select>\n          </div>\n          <div className=\"personal-details\">\n            <label for=\"last-name\">Фамилия\n              <input value={lastName} onChange={handleInput}  type=\"text\" name=\"last-name\" className=\"passengers-card_last-name\" id=\"\"/>\n            </label>\n            <label for=\"first-name\">Имя\n              <input value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" className=\"passengers-card_name\" id=\"\"/>\n            </label>\n            <label for=\"patronymic\">Отчество\n              <input value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" className=\"passengers-card_patronymic-name\" id=\"\"/>\n            </label>\n          </div>\n          <div className=\"personal-details\">\n            <label className=\"gender_label\" for=\"gender\">Пол <br/>\n              <input onChange={() => setGender(\"мужской\")} defaultChecked value=\"М\" type=\"radio\" className=\"gender\" name=\"gender\" id=\"gender\"/>\n              <input onChange={() => setGender(\"женский\")} value=\"Ж\" type=\"radio\" className=\"gender\" name=\"gender\" id=\"gender\"/>\n            </label>\n            <label className=\"birth-picker\">\n              Дата рождения \n              <Datepicker\n                minDate={minDate}\n                minDateMessage=\"Введите корректную дату рождения\"\n                disableFuture\n                adornment={{style: {display: \"none\"}}} \n                defaultDate={null}\n                onDateSelect={(date) => setDateOfBirth(date.toLocaleDateString())}/>\n            </label>\n          </div>\n          <div className=\"disabilities-check\">\n            <input checked={disabilities} onChange={() => setDisabilities(!disabilities)} type=\"checkbox\" id=\"disabilities\" className=\"disabilities\"/>\n            <label for=\"disabilities\">ограниченная подвижность</label>\n          </div>\n        </fieldset>\n\n        <fieldset>\n          <div>\n            <label className=\"select-label\" for=\"\">\n              Тип документа\n              <select defaultValue={adult ? \"паспорт\" : \"свидетельство\"} onChange={() => setIsPassportChosen(!isPassportChosen)}  name=\"\" id=\"\">\n                <option value=\"паспорт\">Паспорт</option>\n                <option disabled={adult} value=\"свидетельство\">Свидетельство о рождении</option>\n              </select>\n            </label>\n            {adult  ? \n              <Fragment>\n                <label for=\"\">\n                Серия\n                <MaskedInput value={passport1} onChange={value => setPassport1(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n                </label>\n              <label for=\"\">\n                Номер\n                <MaskedInput value={passport2} onChange={value => setPassport2(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n                </label>\n              </Fragment> :\n              <label for=\"\">\n              Номер\n              <MaskedInput value={certificate} onChange={value => setCertificate(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n              </label>\n            }\n          </div>\n        </fieldset>\n\n        <fieldset>\n          {firstName && lastName && patronymic && ((passport1 && passport2) || certificate) && dateOfBirth ? <output className=\"error\">{isValid()}</output> : <output><span className=\"warning\">Пожалуйста, заполните все поля формы!</span></output>}\n          \n        </fieldset>\n      </form>\n      </div>\n    )\n  } else {\n    return (\n      <div className=\"passengers-card \">\n        <div onClick={() => setOpen(!isOpen)}  className=\"passengers-card_title \">Пассажир {passenger}</div>\n      </div>\n    )\n  }\n}\n\nexport {PassengersPage}","import React, { useState } from 'react';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport { Link } from 'react-router-dom';\n\nconst PaymentPage = (props) => {\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.price);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('credit-card');\n\n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^А-Яа-яЁё]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const handleEmail = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handlePayment = event => {\n    setPaymentMethod(event.currentTarget.id);\n  }\n\n  \n  const isEmailValid = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,10}$/i.test(email);\n  const isPhoneIncomplete = /_/.test(phone);\n  const isNameComplete = firstName && lastName && patronymic;\n  \n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails passengers={passengers} price={price}/>\n      </div>\n      <div className=\"col-right\">\n      <div className=\"order\">\n        <form className=\"order-details\" id=\"order-details\">\n          <div className=\"order_title\">Персональные данные плательщика</div>\n            <fieldset className=\"order_payer\">\n              <div className=\"personal-details\">\n                  <label for=\"last-name\">Фамилия\n                    <input required value={lastName} onChange={handleInput} type=\"text\" name=\"last-name\" className=\"passengers-card_last-name\" id=\"\"/>\n                  </label>\n                  <label for=\"first-name\">Имя\n                    <input required value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" className=\"passengers-card_name\" id=\"\"/>\n                  </label>\n                  <label for=\"patronymic\">Отчество\n                    <input required value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" className=\"passengers-card_patronymic-name\" id=\"\"/>\n                  </label>\n              </div>\n              <div className=\"contact-details\">\n                  <label for=\"\">Контактный телефон\n                    <MaskedInput  value={phone} onChange={value => setPhone(value)} prefix=\"+7\" inputmask={['+', '7', ' ', '(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}/>\n                    {isPhoneIncomplete ? <div style={{color: \"red\"}}>Введите 10 цифр номера телефона без +7 и пробелов в формате 987 654 3210</div> : \"\"}\n                  </label>\n                  <label for=\"\">Email\n                    <input value={email} onChange={handleEmail} type=\"email\" name=\"email\" placeholder=\"email@mail.ru\" className=\"passengers-card_email\" style={{textTransform: \"none\"}}/>\n                    {isEmailValid ? \"\" : <div style={{color: \"red\"}}>Введите корректный email в формате email@mail.ru</div>}\n                  </label>\n              </div>\n            </fieldset>\n \n            <div className=\"order_title\">Способ оплаты</div>\n            \n            <fieldset className=\"payment-methods\">\n              <div>\n                <input onChange={handlePayment} defaultChecked type=\"radio\" name=\"payment-method\" id=\"credit-card\"/>\n                <label for=\"credit-card\">Банковской картой\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"paypal\"/>\n                <label for=\"paypal\">PayPal\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"qiwi-wallet\"/>\n                <label for=\"qiwi-wallet\">Visa QIWI Wallet\n                </label>\n              </div>\n            </fieldset>\n        </form>\n\n      </div>\n        <Link to={{ pathname: '/confirmation', paymentMethod: paymentMethod}}>\n          <button onClick={() => sessionStorage.payer = JSON.stringify({\n            first_name: firstName,\n            last_name: lastName,\n            patronymic: patronymic,\n            phone: phone,\n            email: email,\n            payment_method: \"online\"\n            })} className=\"purchase-button\" disabled={!(isEmailValid && !isPhoneIncomplete && isNameComplete)}>Купить билеты</button>\n        </Link>\n      </div>\n    </div>\n    \n  )\n}\n\nexport {PaymentPage}","import React from 'react';\nimport { TripDetails } from './TripDetails';\nimport { CurrentTrain } from './CurrentTrain';\nimport {Link} from 'react-router-dom';\n\nconst ConfirmationPage = (props) => {\n  const passengersList = JSON.parse(sessionStorage.passengersList);\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.price);\n  const train = JSON.parse(sessionStorage.currentTrain);\n  \n  const {paymentMethod} = props.location;\n\n  const formatPaymentMethod = () => {\n    switch (paymentMethod) {\n      case \"paypal\": \n        return \"PayPal\";\n      case \"credit-card\":\n        return \"Банковской картой\";\n      case \"qiwi-wallet\":\n        return \"Visa QIWI Wallet\";\n      default:\n        return;\n    }\n  }\n\n  return (\n    <div className=\"columns\">\n      <div className=\"col-left\">\n        <TripDetails passengers={passengers} price={price}/>\n      </div>\n\n      <div className=\"col-right\">\n        <div className=\"confirmation\">\n          <div className=\"order_title\">Поезд</div>\n          <CurrentTrain info={train}/>\n        </div>\n\n        <div className=\"confirmation\">\n          <div className=\"order_title\">Пассажиры</div>\n          <PassengersList list={passengersList} />\n        </div>\n\n        <div className=\"confirmation\">\n          <div className=\"order_title\">Способ оплаты</div>\n          <div className=\"confirmation_payment\">\n            <div className=\"confirmation_method\">{formatPaymentMethod()}</div>\n            <div className=\"confirmation_price\">\n              <span>Всего:</span>\n              <span>{parseInt(price).toLocaleString()}</span>\n            </div>\n          </div>\n        </div>\n\n        <Link to='/success' >\n          <button className=\"purchase-button\">Подтвердить</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport {ConfirmationPage}\n\n\nconst PassengersList = (props) => {\n  const {list} = props;\n  return list.map((el, i) => <PassengersListItem key={i} info={el}/>)\n}\n\nconst PassengersListItem = ({key, info}) => {\n  return (\n    <div className=\"passenger\">\n      <div className=\"passenger-icon\">\n        <div className=\"passenger-icon_img\"></div>\n        <div className=\"passenger-icon_title\">{info.adult ? \"Взрослый\" : \"Детский\"}</div>\n      </div>\n      <div className=\"passenger-info\">\n        <div className=\"passenger-info_name\">{info.name}</div>\n        <div className=\"passenger-info_other\">{info.gender}</div>\n        <div className=\"passenger-info_other\">{info.dateOfBirth}</div>\n        <div className=\"passenger-info_other\">{info.document}</div>\n      </div>\n    </div>\n  )\n}\n\n","import React, { useEffect, useContext, useState } from 'react';\nimport {ApiServiceContext} from './context';\n\n\nconst SuccessPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const payer = JSON.parse(sessionStorage.payer);\n  const train = JSON.parse(sessionStorage.currentTrain);\n  const passengersList = JSON.parse(sessionStorage.passengersList);\n  const seats = JSON.parse(sessionStorage.seats);\n  const price = parseInt(sessionStorage.price);\n  \n  const order = {\n    user: payer,\n    departure: {\n      route_direction_id: train[\"_id\"],\n      seats: passengersList.map((el, i) => { \n        return {\n          person_info: {\n            is_adult: el.adult,\n            first_name: el.firstName,\n            last_name: el.lastName,\n            patronymic: el.patronymic,\n            gender: el.gender,\n            birthday: el.dateOfBirth,\n            document_type: el.document\n          },\n          seat_number: seats[i]\n        }\n        })\n    }\n  }\n  useEffect(() => {\n    api.createOrder(order)\n      .then(response => console.log(response))\n  }, []);\n\n  return (\n    <div className=\"success\">\n      <h1 className=\"success_title\">Благодарим Вас за заказ!</h1>\n      <div className=\"success_banner\">\n        <div className=\"success_order\">\n          <div className=\"success_id\">№ Заказа 285АА</div>\n          <div className=\"success_price\">{price.toLocaleString()}</div>\n        </div>\n\n        <ul className=\"success_icons\">\n          <li className=\"success_item\">\n            <span className=\"success_icon success_icon-computer\"></span>\n            <span className=\"success_text\">билеты будут отправлены на ваш e-mail</span>\n          </li>\n          <li className=\"success_item\">\n            <span className=\"success_icon success_icon-tickets\"></span>\n            <span className=\"success_text\">распечатайте и сохраняйте билеты до даты поездки</span>\n          </li>\n          <li className=\"success_item\">\n            <span className=\"success_icon success_icon-conductor\"></span>\n            <span className=\"success_text\">предьявите распечатанные билеты при посадке</span>\n          </li>\n        </ul>\n\n        <div className=\"success-info\">\n          <h2 className=\"success-info_title\">{payer.first_name + \" \" + payer.patronymic + \"!\"}</h2>\n          <p>\n            Ваш заказ успешно оформлен. <br/>\n            В ближайшее время с вами свяжется наш оператор для подтверждения.\n          </p>\n          <h3>Благодарим за оказанное доверие и желаем приятного путешествия!</h3>\n        </div>\n\n        <div className=\"rating\">\n          <span className=\"rating_text\">Оценить сервис</span>\n          <Stars />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport { SuccessPage }\n\n\nconst Stars = () => {\n  const starList = (new Array(5)).fill('');\n  const [rating, setRating] = useState(-1);\n  const handleClick = event => {\n    setRating(event.currentTarget.dataset.id);\n  };\n  return (\n    <div className=\"rating_stars\">\n      {starList.map((el, i) => <Star index={i} rating={rating} onClick={handleClick}/>)}\n    </div>\n  )\n}\n\nconst Star = ({index, rating, onClick}) => {\n  const fill = index > rating ? \"none\" : \"#FFFFFF\";\n  return (\n    <svg data-id={index} onClick={onClick} width=\"36\" height=\"34\" viewBox=\"0 0 56 44\" fill={fill} xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z\" stroke=\"white\" stroke-width=\"2\"/>\n    </svg>\n  )\n}","import React, { useState } from 'react';\nimport {BrowserRouter, Switch, Route, withRouter} from 'react-router-dom'\n\nimport {Homepage} from './js/Homepage';\nimport {Header } from './js/Header';\nimport {Footer} from './js/Footer';\nimport {SearchPage} from './js/SearchPage';\nimport { SeatsPage } from './js/SeatsPage';\nimport { PassengersPage } from './js/PassengersPage';\nimport { PaymentPage } from './js/PaymentPage';\nimport { ConfirmationPage } from './js/ConfirmationPage';\nimport { SuccessPage } from './js/SuccessPage';\n\nimport { ApiService } from './js/ApiService';\nimport { ApiServiceContext } from './js/context'\n\nconst apiService = new ApiService();\n\nconst App = () => {\n  if (sessionStorage.searchParams === undefined && sessionStorage.currentTrain === undefined) {\n    sessionStorage.searchParams = JSON.stringify({});\n    sessionStorage.currentTrain = JSON.stringify({});\n  }\n\n  const HeaderComponent = withRouter(Header);\n\n  const [searchParams, setSearchParams] = useState(JSON.parse(sessionStorage.searchParams));\n  const [currentTrain, setCurrentTrain] = useState(JSON.parse(sessionStorage.currentTrain));\n  const [trains, setTrains] = useState([]);\n  const [homepageRefs, setHomepageRefs] = useState({\n    about: 700,\n    how: 1100,\n    reviews: 1700,\n    contacts: 2300\n  });\n\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL+'/'}>\n    <ApiServiceContext.Provider value={apiService}>\n      <HeaderComponent \n        homepageRefs={homepageRefs}\n        setSearchParams={params => {\n          setSearchParams(params);\n          sessionStorage.searchParams = JSON.stringify(params);\n        }}/>\n      <Switch>\n        <Route path='/search' \n                render={props => <SearchPage \n                                  {...props}  \n                                  searchParams={searchParams} \n                                  trains={trains}\n                                  setTrains={trains => setTrains(trains)}\n                                  setCurrentTrain={train => {\n                                    sessionStorage.currentTrain = JSON.stringify(train);\n                                    setCurrentTrain(train);\n                                  }} />}\n                                  />\n        <Route path='/seats' \n                render={props => <SeatsPage \n                                  {...props} \n                                  currentTrain={currentTrain}/>}\n                                />\n        <Route path='/payment' component={PaymentPage}/>\n        <Route path='/passengers' component={PassengersPage}/>\n        <Route path='/confirmation' component={ConfirmationPage}/>\n        <Route path='/success' component={SuccessPage}/>\n        <Route path='/' exact render={props => <Homepage {...props} setHomepageRefs={setHomepageRefs}/>} />\n      </Switch>\n      <Footer/>\n      </ApiServiceContext.Provider>\n    </BrowserRouter>\n  )\n\n}\n\nexport default App;\n\n","import React from 'react';\n\nexport const ApiContext = React.createContext();\n\nexport class ApiService {\n  fetchData = async (urlEntity, options = {method: 'GET'}) => {\n    const res = await fetch(`https://netology-trainbooking.herokuapp.com${urlEntity}`, options);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${urlEntity}, status - ${res.status}`)\n    } \n    return await res.json()\n  }\n\n  getCities = async (query) => {\n    return await this.fetchData(`/routes/cities?name=${query}`)\n  }\n\n  getRoutes = async (params, sortBy, limit, offset) => {\n    return await this.fetchData(`/routes?from_city_id=${params.from.id}&to_city_id=${params.to.id}&sort=${sortBy}&limit=${limit}&offset=${offset}&${params.filters || \"?\"}`)\n  }\n\n  getSeats = async (id) => {\n    return await this.fetchData(`/routes/${id}/seats`)\n  }\n\n  createOrder = async (order) => {\n    return await this.fetchData(`/order`, {\n      method: 'POST',\n      body: JSON.stringify(order)\n    })\n  }\n\n  subscribe = async (email) => {\n    return await this.fetchData(`/subscribe?${email}`, {\n      method: 'POST'\n    })\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport SwitchGroup from './js/CustomSwitch';\nimport {Datepicker } from './js/Datepicker';\nimport MaskedInput from './js/MaskedInput'\n//import CustomSlider from './CustomSlider';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}