{"version":3,"sources":["js/context.js","js/TypeaheadInput.js","js/Datepicker.js","js/TrainpickerForm.js","js/Homepage.js","js/ProgressSteps.js","js/Header.js","js/Footer.js","js/CustomSwitch.js","js/FiltersForm.js","js/LastTickets.js","js/TrainSchedule.js","js/TrainCard.js","js/Pagination.js","js/SearchPage.js","js/CurrentTrain.js","js/TicketsNumber.js","js/CarType.js","js/CarScheme.js","js/SeatsPage.js","js/TripDetails.js","js/MaskedInput.js","js/PassengersPage.js","js/PaymentPage.js","js/ConfirmationPage.js","js/SuccessPage.js","App.js","js/ApiService.js","index.js"],"names":["ApiServiceContext","React","createContext","TypeaheadInput","props","api","useContext","placeholder","onSelect","_useState","useState","_useState2","Object","slicedToArray","cities","setCities","_useState3","_useState4","hint","setHint","_useState5","value","_useState6","inputValue","setInputValue","useEffect","react_default","a","createElement","class","className","slice","length","onChange","event","currentTarget","match","getCities","then","response","newHint","find","el","name","startsWith","type","onClick","target","textContent","id","dataset","map","city","key","_id","data-id","materialTheme","createMuiTheme","overrides","defineProperty","MuiPickersCalendarHeader","daysHeader","display","MuiPickersDay","day","fontFamily","isSelected","backgroundColor","border","borderRadius","color","&:hover","current","background","MuiIconButton","label","root","padding","MuiFormControl","width","MuiInputBase","boxSizing","input","fontSize","fontWeight","outline","&$focused","MuiOutlinedInput","lineHeight","notchedOutline","adornedEnd","paddingRight","MuiSvgIcon","fill","height","Datepicker","defaultDate","selectedDate","handleDateChange","disablePast","disableFuture","adornment","onDateSelect","styles","theme","material_ui_pickers_esm","utils","DateFnsUtils","locale","ruLocale","style","keyboard","clearable","onlyCalendar","disableOpenOnEnter","invalidDateMessage","minDateMessage","maxDateMessage","variant","InputAdornmentProps","date","format","mask","MainSearchForm","horizontal","fromName","setFromName","fromId","setFromId","toName","setToName","_useState7","_useState8","toId","setToId","_useState9","Date","_useState10","setDate","_useState11","_useState12","dateBack","concat","TypeaheadInput_TypeaheadInput","Datepicker_Datepicker","sessionStorage","travelDate","e","preventDefault","disabled","react_router_dom","to","setSearchParams","from","toISOString","substr","TrainpickerForm","path","location","pathname","TrainpickerForm_MainSearchForm","assign","Homepage","about","how","reviews","contacts","document","getElementById","window","onresize","console","log","setHomepageRefs","offsetTop","react","Homepage_About","Homepage_Features","Homepage_Reviews","About","Features","Reviews","src","alt","ProgressSteps","steps","step","title","isCurrent","element","i","findIndex","Header","homepageRefs","handleClick","scrollOptions","top","behavior","scrollTo","href","TrainpickerForm_TrainpickerForm","ProgressSteps_ProgressSteps","Footer","email","setEmail","showHint","setShowHint","showThankYou","setShowThankYou","onSubmit","test","subscribe","action","visibility","CustomizedSwitches","state","checkedA","checkedB","handleChange","_this","setState","checked","_this$props","this","classes","types","FormGroup_default","row","FormControlLabel_default","justifyContent","toLowerCase","marginRight","labelPlacement","control","Switch_default","switchBase","colorSwitchBase","colorChecked","bar","colorBar","icon","Component","CustomSwitch","withStyles","& + $colorBar","opacity","&$colorChecked","position","left","marginTop","js_CustomSwitch","first","second","third","fourth","setFirst","express","wifi","setSecond","setThird","setFourth","setExpress","setWifi","FiltersForm","params","searchParams","JSON","parse","cost","setCost","departureTime","setDepartureTime","arrivalTime","setArrivalTime","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","filters","index_es","data","grid","min","max","hide_min_max","skin","for","prettify","n","update","LastTickets","TrainSchedule","_ref","info","showTravelTime","travelTimeHours","Math","floor","duration","travelTimeMinutes","toLocaleTimeString","hour","minute","datetime","railway_station_name","TrainCard","departure","train","TrainSchedule_TrainSchedule","have_fourth_class","available_seats_info","price_info","top_price","have_third_class","have_second_class","have_first_class","have_wifi","have_air_conditioning","is_express","setCurrentTrain","Pagination","trains","count","limit","currentPage","setCurrentPage","pages","Array","ceil","classList","contains","p","SearchPage","setTrains","showNotice","setShowNotice","setCount","sortBy","setSortBy","setLimit","offset","setOffset","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","getRoutes","stringify","items","total_count","FiltersForm_FiltersForm","LastTickets_LastTickets","list","item","toggle","children","forEach","remove","add","sort","data-sort","data-limit","TrainCard_TrainCard","currentTrain","Pagination_Pagination","page","CurrentTrain","TicketsNumber","passengers","setAdultSeats","setChildrenSeats","setChildrenWithoutSeats","adults","totalPassengers","op","childrenWithoutSeats","data-op","data-name","CarType","currentType","coaches","setCurrentType","currentCoach","setCurrentCoach","isActive","getCoachName","handleTypeChange","data-type","coach","bottom_price","is_linens_included","CarScheme","Car","price","chosen","setChosen","cancelChosen","setTotalPrice","topPrice","bottomPrice","sidePrice","getSecondClassPrice","seat","FirstClassScheme","SecondClassScheme","ThirdClassScheme","FourthClassScheme","seats","querySelectorAll","seatId","CarScheme_SecondClassScheme","SeatsPage","setData","setCoaches","totalPrice","adultSeats","childrenSeats","getSeats","class_type","filter","trainId","margin","CurrentTrain_CurrentTrain","TicketsNumber_TicketsNumber","CarType_CarType","CarScheme_CarScheme","side_price","chosenSeats","push","seatToCancel","index","splice","parseInt","toLocaleString","TripDetails","toLocaleDateString","MuiInput","underline","&:after","&:before","borderBottom","TextMaskCustom","inputRef","other","objectWithoutProperties","reactTextMask_default","ref","inputElement","prefix","placeholderChar","showMask","FormattedInput","_React$useState","textmask","_React$useState2","values","setValues","FormControl_default","Input_default","objectSpread","inputComponent","inputProps","inputmask","PassengersPage","valid","setValid","passengersList","setPassengersList","savePassengers","passenger","TripDetails_TripDetails","PassengersPage_PassengerCard","open","adult","setPassengers","child","PassengerCard","isOpen","setOpen","formRef","useRef","lastName","setLastName","firstName","setFirstName","patronymic","setPatronymic","dateOfBirth","setDateOfBirth","gender","setGender","disabilities","setDisabilities","passport1","setPassport1","passport2","setPassport2","certificate","setCertificate","isPassportChosen","setIsPassportChosen","handleInput","isPassportComplete","replace","isCertificateComplete","isComplete","today","minDate","setYear","getFullYear","defaultValue","defaultChecked","trim","Error","isNameValid","isPassportValid","message","validated","isValid","PaymentPage","phone","setPhone","paymentMethod","setPaymentMethod","handlePayment","isEmailValid","isPhoneIncomplete","isNameComplete","required","payer","first_name","last_name","payment_method","ConfirmationPage","ConfirmationPage_PassengersList","formatPaymentMethod","PassengersList","ConfirmationPage_PassengersListItem","PassengersListItem","SuccessPage","order","user","route_direction_id","person_info","is_adult","birthday","document_type","seat_number","createOrder","SuccessPage_Stars","Stars","starList","rating","setRating","SuccessPage_Star","Star","viewBox","xmlns","d","stroke","stroke-width","apiService","ApiService","classCallCheck","fetchData","asyncToGenerator","regenerator_default","mark","_callee","urlEntity","options","res","_args","arguments","wrap","_context","prev","next","undefined","method","fetch","sent","ok","status","json","abrupt","stop","_x","apply","_ref2","_callee2","query","_context2","_x2","_ref3","_callee3","_context3","_x3","_x4","_x5","_x6","_ref4","_callee4","_context4","_x7","_ref5","_callee5","_context5","body","_x8","_ref6","_callee6","_context6","_x9","App","HeaderComponent","withRouter","homapageRefs","basename","process","Provider","react_router","render","SearchPage_SearchPage","SeatsPage_SeatsPage","component","exact","Homepage_Homepage","Footer_Footer","ReactDOM","src_App"],"mappings":"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","file":"static/js/main.97689668.chunk.js","sourcesContent":["import React from 'react';\n\nconst ApiServiceContext = React.createContext()\n\nexport { ApiServiceContext }","import React, { useContext, useState, useEffect } from 'react'\nimport {ApiServiceContext} from './context';\n\n\nconst TypeaheadInput = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {placeholder, onSelect} = props;\n  const [cities, setCities] = useState([]);\n  const [hint, setHint] = useState('');\n  const [inputValue, setInputValue] = useState(props.value);\n  \n  useEffect(() => {\n    if (props.value !== inputValue) {\n      setInputValue(props.value);\n      setHint(props.value);\n    }\n  }, [props.value]);\n  const handleInput = event => {\n    const value = event.currentTarget.value;\n    \n    if (value.match(/[^а-яА-я ]/)) {\n      return;\n    }\n\n    setInputValue(value);\n\n    api.getCities(value).then(response => {\n      let newHint = response.length > 0 ? response.find(el => el.name.startsWith(value)) : '';\n      setHint(newHint ? newHint.name : '');\n      setCities(response);\n    });\n  }\n\n  const handleSelect = event => {\n    setInputValue(event.target.textContent);\n    setHint(event.target.textContent)\n    setCities([]);\n    onSelect({\n      name: event.target.textContent, \n      id: event.target.dataset.id\n    });\n  }\n\n  return (\n    \n    <div class=\"input-with-icon\">\n      <span className=\"trainpicker__hint\">\n        <span className=\"trainpicker__hint-transparent\">{hint.slice(0, inputValue.length)}</span>{hint.slice(inputValue.length)}\n      </span>\n      <input className=\"trainpicker__input trainpicker__input-direction\" value={inputValue} onChange={handleInput} type=\"text\" placeholder={placeholder} />\n      <i class=\"material-icons trainpicker__icon\">room</i>\n      {cities.length > 0 ? \n        <ul class=\"suggestions\" onClick={handleSelect}>\n          {cities.map(city => <li key={city._id} data-id={city['_id']}>{city.name}</li>)}\n        </ul> :\n        null\n      }\n    </div>\n  )\n}\n\nexport {TypeaheadInput}","import { InlineDatePicker,  MuiPickersUtilsProvider } from \"material-ui-pickers\";\nimport React, { useState } from \"react\";\nimport ruLocale from \"date-fns/locale/ru\";\nimport DateFnsUtils from '@date-io/date-fns';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\n\n\nconst materialTheme = createMuiTheme({\n  overrides: {\n    MuiPickersCalendarHeader: {\n      daysHeader: {\n        display: 'none'\n      },\n    },\n    MuiPickersDay: {\n      day: {\n        fontFamily: 'Roboto',\n      },\n      isSelected: {\n        backgroundColor: 'rgba(255, 168, 0, 0.31)',\n        border: '2px solid #FFA800',\n        borderRadius: '5px',\n        color: 'black',\n        '&:hover': {backgroundColor: 'rgba(255, 168, 0, 0.31)'}\n      },\n    \n      current: {\n        color: 'orange',\n        background: 'inherit',\n        border: 'none'\n      },\n    },\n    MuiIconButton: {\n      label: {\n        color: 'inherit'\n      },\n      root: {\n        padding: 0,\n      }\n    },\n   MuiFormControl: {\n     root: {\n      width: '100%',\n      display: 'block'\n     }\n    }, \n    MuiInputBase: {\n      root: {\n        background: '#fff',\n        'borderRadius': '3px',\n        width: '100%',\n        boxSizing: 'border-box',\n      },\n      /* меняем стили инпута */\n      input: {\n       /*  boxSizing: 'border-box', */\n        fontSize: '16px',\n        fontWeight: '100',\n        /* padding: '3px 0 3px 10px', */\n        padding: '0 0 0 10px',\n        /* height: '30px', */\n        width: '100%',\n        border: 0,\n        outline: 'none',\n        borderRadius: '3px',\n    \n          '&$focused': {\n            \"border\": \"none\"\n          }\n      }\n    },\n    MuiOutlinedInput: {\n      root: {\n        borderRadius: '3px',\n        lineHeight: '1em'\n      },\n      input: {\n        padding: '15.5px'\n      },\n  \n       notchedOutline: {\n        border: 'none',\n        outline: 'none'\n      },\n      adornedEnd: {\n        paddingRight: '5px',\n      }\n    },\n    MuiSvgIcon: {\n      root: {\n        fill: '#c4c4c4',\n        width: '36px',\n        height: '36px'\n      }\n    },\n    MuiIconButton: {\n      root: {\n        padding: '6px',\n        '&:hover': {\n          backgroundColor:  'rgba(0, 0, 0, 0.05)'\n        }\n      }\n    } \n  },\n});\n\n\nconst Datepicker = (props) => {\n  const [selectedDate, handleDateChange] = useState(props.defaultDate);\n  const {disablePast, disableFuture, adornment, onDateSelect} = props;\n\n  const handleSelect = date => {\n    handleDateChange(date);\n    onDateSelect(date)\n  }\n  return (\n    <MuiThemeProvider theme={materialTheme}>\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={ruLocale}>\n      <div className=\"picker\" style={props.style}>\n        <InlineDatePicker\n          keyboard\n          \n          clearable\n          onlyCalendar\n          disableOpenOnEnter\n          disablePast={disablePast}\n          disableFuture={disableFuture}\n          placeholder=\"ДД/ММ/ГГГГ\"\n          invalidDateMessage=\"Неверный формат\"\n          minDateMessage={props.minDateMessage || \"Выберете не прошедшую дату\"}\n          maxDateMessage=\"Введите корректную дату рождения\"\n          variant=\"outlined\"\n          InputAdornmentProps={adornment}\n          /* VALUE тут! */\n          value={selectedDate}\n          onChange={handleSelect}\n          format=\"dd/MM/yyyy\"\n          mask={value => value ? [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/] : []}\n        />\n      </div>\n      </MuiPickersUtilsProvider>\n      </MuiThemeProvider>\n  );\n}\n\nexport { Datepicker };\n","import React, { useContext, useState } from 'react';\nimport {TypeaheadInput} from './TypeaheadInput'\nimport {ApiServiceContext} from './context';\nimport { Link } from 'react-router-dom';\nimport { Datepicker } from './Datepicker';\n\n\n\nconst MainSearchForm = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {horizontal} = props;\n  const [fromName, setFromName] = useState('');\n  const [fromId, setFromId] = useState('');\n  const [toName, setToName] = useState('');\n  const [toId, setToId] = useState('')\n  const [date, setDate] = useState(new Date());\n  const [dateBack, setDateBack] = useState(null);\n\n  const handleSwap = () => {\n    setFromName(toName);\n    setToName(fromName);\n  }\n\n    return (\n      <form  class={`trainpicker ${horizontal ? 'trainpicker-horizontal' : ''}`}>\n            <div class={`trainpicker__content ${horizontal ? 'trainpicker__content-horizontal' : ''} `}>\n              <label class=\"trainpicker_label\">Направление</label>\n              <div class=\"trainpicker__inputs\">\n                <TypeaheadInput \n                  value={fromName}\n                  placeholder=\"Откуда\"\n                  onSelect={city => {\n                  setFromName(city.name);\n                  setFromId(city.id)\n                  }}/>\n                <div onClick={handleSwap} class=\"trainpicker__reverse\" type=\"checkbox\" name=\"reverse\" id=\"reverse\">\n                  <i class=\"fas fa-exchange-alt\"></i>\n                </div>\n                <TypeaheadInput \n                value={toName}\n                  placeholder=\"Куда\"\n                  onSelect={city => {\n                  setToName(city.name);\n                  setToId(city.id)\n                  }}/>\n              </div>\n            </div>\n            <div class={`trainpicker__content ${horizontal ? 'trainpicker__content-horizontal' : ''} `}>\n              <label class=\"trainpicker_label\">Дата</label>\n              <div class=\"trainpicker__inputs\" >\n                <Datepicker \n                  style={{width: \"285px\", height: \"50px\"}} \n                  onDateSelect={date => {\n                    sessionStorage.travelDate = date;\n                    setDate(date)}}\n                  defaultDate={new Date()}\n                  />\n              </div>\n            </div>\n            \n            {/* <button onClick={e => e.preventDefault()} type=\"submit\"> */}\n              <button onClick={e => e.preventDefault()} type=\"submit\" disabled={!(fromName && toName)} className={`trainpicker__button ${horizontal ? 'trainpicker__button-horizontal' : ''} `}>\n                {fromName && toName ? \n                  <Link to='/search'\n                    onClick={() => {\n                      props.setSearchParams({\n                        from: {\n                          name: fromName,\n                          id: fromId\n                        },\n                        to: {\n                          name: toName,\n                          id: toId \n                        },\n                        date: date.toISOString().substr(0, 10),\n                        dateBack: dateBack && dateBack.toISOString().substr(0, 10)\n                      })\n                    }}>Найти билеты</Link> :\n                  \"Найти билеты\" }\n              </button>\n            \n             \n          </form>\n    )\n}\n\nconst TrainpickerForm = (props) => {\n  const path = props.location.pathname;\n  if (path === '/success') {\n    return (\n      <section class=\"main-search main-search-success\"></section>\n    )\n  }\n  if (path !== '/') {\n    return (\n      <section class=\"main-search\">\n        <MainSearchForm horizontal {...props}/>\n      </section>\n      )\n  }\n  if (path === '/') { \n    return (\n    <section class=\"main\" id=\"main\">\n      <div class=\"main__motto\">\n        <div class=\"motto\">Вся жизнь - \n          <div class=\"motto-bold\">путешествие!</div> \n        </div>\n      </div>\n      <div class=\"main__picker\">\n        <MainSearchForm {...props}/>\n        \n      </div>\n    </section>\n  )\n  }\n  }\n\nexport {TrainpickerForm}\n\n","import React, { Fragment, useEffect } from 'react';\nimport { TrainpickerForm } from './TrainpickerForm';\n\nconst Homepage = (props) => {\n  let about, how, reviews, contacts;\n  useEffect(() => {\n    about = document.getElementById('about');\n    how = document.getElementById('features');\n    reviews = document.getElementById('reviews');\n    contacts = document.getElementById('footer');\n  });\n  window.onresize = () => {\n    console.log(about);\n    props.setHomepageRefs({\n      about: about.offsetTop,\n      how: how.offsetTop,\n      reviews: reviews.offsetTop,\n      contacts: contacts.offsetTop\n    })\n  }\n   return (\n     <Fragment>\n      <About />\n      <Features />\n      <Reviews />\n    </Fragment>\n   )\n}\n\n\nconst About = () => (\n  <section class=\"about\" id=\"about\">\n      <h2 class=\"about__title\">О нас</h2>\n      <div class=\"about__text\">\n        <p class=\"about__item\">Мы рады видеть вас! Мы рботаем для Вас с 2003 года. 14 лет мы наблюдаем, как с каждым днем все больше людей заказывают жд билеты через интернет.</p>\n        <p class=\"about__item\">Сегодня можно заказать железнодорожные билеты онлайн всего в 2 клика, но стоит ли это делать? Мы расскажем о преимуществах заказа через интернет.</p>\n        <p class=\"about__item about__item-bold\">Покупать жд билеты дешево можно за 90 суток до отправления поезда. Благодаря динамическому ценообразованию цена на билеты в это время самая низкая.</p>\n      </div>\n    </section>\n)\n\nconst Features = () => (\n  <section class=\"features\" id=\"features\">\n      <div class=\"description\">\n        <h2 class=\"description__title\">Как это работает</h2>\n        <button class=\"description__button\">Узнать больше</button>\n      </div>\n      <div class=\"features__items\">\n        <div class=\"features__item features__item-monitor\">Удобный заказ на сайте</div>\n        <div class=\"features__item features__item-office\">Нет необходимости ехать в офис</div>\n        <div class=\"features__item features__item-globe\">Огромный выбор направлений</div>\n      </div>\n    </section>\n  )\n\nconst Reviews = () => (\n  <section class=\"reviews\" id=\"reviews\">\n      <h2 class=\"reviews__title\">Отзывы</h2>\n      <div class=\"reviews__slide\">\n          <div class=\"review\">\n          <img class=\"review__avatar\" src=\"https://i.ibb.co/Z1RgQdZ/av-1.png\" alt=\"av\"/>\n          <div class=\"review__content\">\n            <h4 class=\"review__author\">Екатерина Вальнова</h4>\n            <p class=\"review__text\">\n              Доброжелательные подсказки на всех этапах помогут правильно заполнить поля и без затруднений купить авиа или ж/д билет, даже если вы заказываете онлайн билет впервые.</p>\n          </div>\n      </div>\n        <div class=\"review\">\n            <img class=\"review__avatar\" src=\"https://i.ibb.co/47wFWkj/av-2.png\" alt=\"av\"/>\n            <div class=\"review__content\">\n              <h4 class=\"review__author\">Евгений Стрыкало</h4>\n              <p class=\"review__text\">\n                СМС-сопровождение до посадки. Сразу после оплаты ж/д билетов и за 3 часа до отправления мы пришлем вам СМС-напоминание о поездке.</p>\n            </div>\n        </div>\n      </div>\n      \n      <div class=\"carousel\">\n        <div class=\"carousel__controls\">\n          <span class=\"carousel__item carousel__item-active\"></span>\n          <span class=\"carousel__item\"></span>\n          <span class=\"carousel__item\"></span>\n          <span class=\"carousel__item\"></span>\n          <span class=\"carousel__item\"></span>\n        </div>\n        </div>\n    </section>\n)\n\nexport {Homepage}","import React from 'react';\n\nconst ProgressSteps = (props) => {\n  const current = props.location.pathname;\n  const steps = [\n    {\n      step: \"/search/seats\",\n      title: \"Билеты\"\n    },\n    {\n      step: \"/passengers\",\n      title: \"Пассажиры\"\n    },\n    {\n      step: \"/payment\",\n      title: \"Оплата\"\n    },\n    {\n      step: \"/confirmation\",\n      title: \"Проверка\"\n    }\n  ];\n\n  const isCurrent = (element, i) => {\n    return element.step.match(current) || i <= steps.findIndex(el => el.step === current)\n  }\n\n  return (\n    <section class=\"progress\">\n      {steps.map((el, i) => (<div class={`progress__step ${isCurrent(el, i) ? \"progress__step-current\" : \"\"}`}>\n       <span class=\"number\">{i+1}</span>\n       <span class=\"progress__text\">{el.title}</span>\n       {i === 3 ? null : <div class={`progress__arrow ${isCurrent(el, i) ? \"progress__arrow-current\" : \"\"}`}></div>}\n     </div>)\n     )}\n   </section>\n  )\n}\n\nexport {ProgressSteps}\n\n","import React, { Fragment, useContext, useRef } from 'react';\nimport { TrainpickerForm } from './TrainpickerForm';\nimport { ProgressSteps } from './ProgressSteps';\nimport { Link } from 'react-router-dom';\n\n\nconst Header = (props) => {\n  const {homepageRefs} = props;\n\n  const handleClick = event => {\n    const top = homepageRefs[event.currentTarget.dataset.id];\n    const scrollOptions = {\n      top: top,\n      behavior: 'smooth'\n    }\n    if (props.location.pathname === '/') {\n      event.preventDefault();\n    }\n    window.scrollTo(scrollOptions);\n  }\n\n  return (\n    <Fragment>\n      <section class=\"header\">\n        <div class=\"logo\"><Link class=\"logo__link\" to=\"/\">TrainBooking</Link></div>\n        <nav>\n          <ul class=\"nav\">\n            <li  class=\"nav__item\"><Link onClick={handleClick} class=\"nav__link\" data-id=\"about\" to='/'>О нас</Link></li>\n            <li  class=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"how\" class=\"nav__link\" >Как это работает</Link></li>\n            <li  class=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"reviews\" class=\"nav__link\" >Отзывы</Link></li>\n            <li  class=\"nav__item\"><Link to='/' onClick={handleClick} data-id=\"contacts\" class=\"nav__link\" href=\"#footer\">Контакты</Link></li>\n          </ul>\n        </nav>\n      </section>\n      <TrainpickerForm {...props}/>\n        {(props.location.pathname === '/' ||  props.location.pathname === '/success') ? null : <ProgressSteps {...props}/>}\n    </Fragment>\n  )\n}\n\n\nexport {Header}","import React, { useContext, useState } from 'react';\nimport {ApiServiceContext} from './context';\n\n\nconst Footer = () => {\n  const api = useContext(ApiServiceContext);\n  const [email, setEmail] = useState('');\n  const [showHint, setShowHint] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  \n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (/^[-._a-z0-9]+@(?:[a-z0-9][-a-z0-9]+\\.)+[a-z]{2,6}$/.test(email)) {\n      api.subscribe(email);\n      setShowHint(false);\n      setShowThankYou(true);\n      setEmail('');\n    } else {\n      setShowHint(true);\n      //setShowThankYou(false);\n    }\n  }\n\n\n\n  return (\n  <footer class=\"footer\" id=\"footer\">\n      <div class=\"footer footer-main\">\n      <div class=\"contacts\">\n        <h3 class=\"footer__title\">Свяжитесь с нами</h3>\n        <ul class=\"contacts__list\">\n          <li class=\"contacts__item contacts__item-phone\">8 (800) 000 00 00</li>\n          <li class=\"contacts__item contacts__item-email\">inbox@mail.ru</li>\n          <li class=\"contacts__item contacts__item-skype\">tu.train.tickets</li>\n          <li class=\"contacts__item contacts__item-address\"> г. Москва <br/> ул. Московская 27-35 <br/>  555 555</li>\n        </ul>\n      </div>\n      <div class=\"subscription\">\n        <h3 class=\"footer__title\">Подписка</h3>\n        <form onSubmit={handleSubmit} action=\"\" class=\"subscription-form\">\n          <label class=\"subscription-form__label\">Будьте в курсе событий</label>\n            <input value={email} onChange={handleInput} class=\"subscription-form__input\" type=\"email\" name=\"subscription\" placeholder=\"e-mail\"/>\n          <button class=\"subscription-form__button\"  type=\"submit\">Отправить</button>\n            <div style={{visibility: showHint ? \"visible\" : \"hidden\" }} class=\"subscription_hint\">Введите корректный email в формате email@mail.ru</div>\n            <div style={{visibility: showThankYou ? \"visible\" : \"hidden\"}} class=\"subscription_thankyou\">Спасибо за подписку!</div>\n        </form>\n        <h3 class=\"footer__title\">Подписывайтесь на нас</h3>\n        <ul class=\"social\">\n          <li class=\"social__item\">\n            <a href=\"\" class=\"social__link social__link-youtube\">\n              </a></li>\n          <li class=\"social__item\">\n            <a href=\"\" class=\"social__link social__link-linkedIn\">\n              </a></li>\n          <li class=\"social__item\">\n            <a href=\"\" class=\"social__link social__link-googlePlus\">\n              </a></li>\n          <li class=\"social__item\">\n            <a href=\"\" class=\"social__link social__link-facebook\">\n              </a></li>\n          <li class=\"social__item\">\n            <a href=\"\" class=\"social__link social__link-twitter\">\n              </a></li>\n        </ul>\n      </div>\n    </div>\n      <div class=\"footer-additional\">\n          <div class=\"footer__logo\"><a class=\"logo__link\" href=\"#\">TrainBooking</a></div>\n          <div class=\"footer__home-arrow\" onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}></div>\n          <div class=\"footer__copyright\">2018 WEB</div>\n      </div>\n    </footer>\n)\n  }\n\nexport {Footer};","\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nconst styles = theme => ({\n  colorSwitchBase: {\n    color: \"#c4c4c4\",\n    \"& + $colorBar\": {\n      backgroundColor: \"#ffffff\",\n      border: \"1px solid #3E3C41\",\n      opacity: 1,\n      width: \"100%\",\n    },\n    \"&$colorChecked\": {\n      color: \"#FFA800\",\n      position: \"relative\",\n      left: \"30px\",\n      \"& + $colorBar\": {\n        backgroundColor: \"#FCDC90\",\n        opacity: 1,\n      }\n    }\n  },\n  icon: {\n    marginTop: '2px',\n  },\n  colorBar: {},\n  colorChecked: {},\n  label: {\n    color: \"#fff\"\n  }\n});\n\nclass CustomizedSwitches extends React.Component {\n\n  state = {\n    checkedA: true,\n    checkedB: true\n  };\n\n  handleChange = name => event => {\n    this.props.onChange();\n    this.setState({ [name]: event.target.checked });\n  };\n\n  render() {\n    const { classes, label } = this.props;\n    \n    const types = [\n      {\n        name: 'second-class',\n        value: 'купе'\n      },\n      {\n        name: 'third-class',\n        value: 'плацкарт'\n      },\n      {\n        name: 'first-class',\n        value: 'люкс'\n      },\n      {\n        name: 'fourth-class',\n        value: 'сидячий'\n      },\n      {\n        name: 'express',\n        value: 'экспресс'\n      },\n      {\n        name: 'wi-fi',\n        value: 'wi-fi'\n      },\n    ];\n    const getSeatType = (type) => {\n      const res = types.find(el => el.value === type.toLowerCase()).name;\n      return res;\n    }\n\n\n\n\n    return (\n      <div  >\n      \n      <FormGroup row >\n      <FormControlLabel\n          style={{width: '80%', \"justifyContent\": \"space-between\", \"color\": \"#ffffff\"}}\n          classes={{label: label}}\n          label={<label className={\"switches_label \" + getSeatType(label)} style={{color: \"#fff\", marginRight: '1rem'}}>{label}</label>}\n          labelPlacement=\"start\"\n          control={\n            <Switch\n              checked={this.props.checked}\n              onChange={this.handleChange(\"checkedA\")}\n              value=\"checkedA\"\n              classes={{\n                switchBase: classes.colorSwitchBase,\n                checked: classes.colorChecked,\n                bar: classes.colorBar,\n                icon: classes.icon\n              }}\n            />\n          }\n        />\n      </FormGroup>\n            </div>\n\n    );\n  }\n}\n\nCustomizedSwitches.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nconst CustomSwitch =  withStyles(styles)(CustomizedSwitches);\n\nexport default (props) => {\n  const { first, second, third, fourth, setFirst, express, wifi, setSecond, setThird, setFourth, setExpress, setWifi } = props;\n  return (\n    <div>\n    <CustomSwitch checked={second} onChange={setSecond} label=\"Купе\"/>\n    <CustomSwitch checked={third} onChange={setThird} label=\"Плацкарт\"/>\n    <CustomSwitch checked={fourth} onChange={setFourth} label=\"Сидячий\"/>\n    <CustomSwitch checked={first} onChange={setFirst} label=\"Люкс\"/>\n    <CustomSwitch checked={express} onChange={setExpress} label=\"Экспресс\"/>\n    <CustomSwitch checked={wifi} onChange={setWifi} label=\"Wi-Fi\"/>\n    </div>\n  )\n}\n\n","import React, { useEffect, useRef, useState, useContext } from 'react';\nimport RangeSlider from 'react-ion-slider';\nimport Switches from './CustomSwitch';\nimport {ApiServiceContext} from './context';\nimport { Datepicker } from './Datepicker';\n\n\nconst FiltersForm = (props) => {\n  const api = useContext(ApiServiceContext);\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n  \n  const [cost, setCost] = useState({from: 500, to: 7000});\n  const [departureTime, setDepartureTime] = useState({from: 0, to: 24});\n  const [arrivalTime, setArrivalTime] = useState({from: 0, to: 24});\n  const [first, setFirst] = useState(false);\n  const [second, setSecond] = useState(true);\n  const [third, setThird] = useState(false);\n  const [fourth, setFourth] = useState(false);\n  const [express, setExpress] = useState(false);\n  const [wifi, setWifi] = useState(true);\n  //const [filters, setFilters] = useState('');\n\n  \n//&start_departure_hour_from=${departureTime.from}&start_departure_hour_to=${departureTime.to}&start_arrival_hour_from=${arrivalTime.from}&start_arrival_hour_to=${arrivalTime.to}\n\n    params.filters = `price_from=${cost.from}&price_to=${cost.to}${first ? '&have_first_class=true' : ''}${second ? '&have_second_class=true' : ''}${third ? '&have_third_class=true' : ''}${fourth ? '&have_fourth_class=true' : ''}${wifi ? '&have_wifi=true' : ''}${express ? '&have_express=true' : ''}`;\n\n\n /*  useEffect(() => {\n    props.update(params.filters);\n  }, [params.filters]); */\n\n  const addFilters = event => {\n    event.preventDefault();\n    props.update(params.filters)\n  }\n\n  const resetFilters = event => {\n    event.preventDefault();\n\n    setCost({from: 500, to: 7000});\n    setDepartureTime({from: 0, to: 24});\n    setArrivalTime({from: 0, to: 24});\n    params.filters = '';\n    window.location.href = '/search';\n    /* api.getRoutes(params)\n      .then(response => props.setTrains(response.items)) */;\n  }\n\n  console.log(params.filters);\n  return (\n    <form action=\"\" class=\"search-form \">\n         <fieldset class=\"search-form__set\" >\n           <div class=\"date-filter\" >\n              <label class=\"trainpicker_label\">Дата поездки</label>\n              <Datepicker \n                  style={{width: \"240px\", height: \"50px\"}} \n                  onDateSelect={date => {\n                    sessionStorage.travelDate = date;\n                  }}\n                  defaultDate={new Date()}\n                  />\n              \n           </div>\n         </fieldset>\n         <fieldset class=\"seat-types\">\n           <Switches \n            first={first}\n            second={second}\n            third={third}\n            fourth={fourth}\n            express={express}\n            wifi={wifi}\n            setFirst={() => setFirst(!first)}\n            setSecond={() => setSecond(!second)}\n            setThird={() => setThird(!third)}\n            setFourth={() => setFourth(!fourth)}\n            setExpress={() => setExpress(!express)}\n            setWifi={() => setWifi(!wifi)}\n          />\n         </fieldset>\n         <fieldset class=\"cost-picker\" >\n           <label class=\"trainpicker_label\">Стоимость</label>\n           <RangeSlider \n              onChange={data => setCost({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={cost.from}\n              to={cost.to}\n              min={500}\n              max={7000}\n              hide_min_max={true}\n              skin=\"material\"/>\n         </fieldset>\n         <fieldset class=\"time-picker\">\n            <label class=\"trainpicker_label\">Время</label>\n            <label class=\"range-picker_label\" for=\"\">Время отправления</label>\n            <RangeSlider \n              onChange={data => {\n                setDepartureTime({from: data.from, to: data.to});\n                //props.handleTime({from: data.from, to: data.to}, arrivalTime)\n              }}\n              type=\"double\"\n              grid={false}\n              from={departureTime.from}\n              to={departureTime.to}\n              min={0}\n              max={24}\n              hide_min_max={ false}\n              skin=\"material\"\n              prettify={n => n + ':00'}/>\n\n            <label class=\"range-picker_label\" for=\"\">Время прибытия</label>\n            <RangeSlider \n              onChange={data => setArrivalTime({from: data.from, to: data.to})}\n              type=\"double\"\n              grid={false}\n              from={arrivalTime.from}\n              to={arrivalTime.to}\n              min={0}\n              max={24}\n              hide_min_max={ false}\n              skin=\"material\"\n              prettify={n => n + ':00'}/>\n\n         </fieldset>\n        <button onClick={addFilters} class=\"filters__button\">Применить</button>\n        <button onClick={resetFilters} class=\"filters__button\">Сбросить</button>\n       </form>\n  )\n}\n\nexport {FiltersForm}","import React from 'react';\n\nconst LastTickets = () => {\n  return (\n    <div class=\"last-tickets\">\n         <h2 class=\"last-tickets_title\">Последние билеты</h2>\n         <div class=\"last-tickets_card\">\n           <div class=\"last-tickets_directions\">\n           <div class=\"last-tickets_from\">\n             <div class=\"train-schedule_city\">Самара</div>\n             <div class=\"train-schedule_station\">Курский вокзал</div>\n           </div>\n           <div class=\"last-tickets_to\">\n              <div class=\"train-schedule_city\">Москва</div>\n              <div class=\"train-schedule_station\">Рижский вокзал</div>\n            </div>\n          </div>\n          <div class=\"last-tickets_info\">\n            <div class=\"last-tickets_labels\">\n              <span class=\"switches_label wi-fi\"></span>\n              <span class=\"switches_label express\"></span>\n              <span class=\"switches_label breakfast\"></span>\n            </div>\n            <div class=\"last-tickets_price\">\n              <span>3 500</span>\n            </div>\n          </div>\n         </div>\n       </div>\n  )\n}\n\nexport {LastTickets}","import React from 'react'\n\n\nconst TrainSchedule = ({info, showTravelTime}) => {\n  const travelTimeHours = Math.floor(info.duration  / 60 / 60);\n  const travelTime = new Date(info.duration * 1000).toLocaleTimeString('ruRu', {hour: 'numeric', minute: 'numeric'});\n  //const travelTimeHours = travelTime.substring(0, travelTime.indexOf(':'));\n  //const travelTimeMinutes = travelTime.substring(travelTime.indexOf(':') + 1);\n  const travelTimeMinutes = Math.floor((info.duration / 60) % 60);\n  //new Date(25794 * 1000).toISOString().substr(11, 5);\n  \n  return (\n\n        <div class=\"train-schedule\">\n            <div class=\"train-schedule_way\">\n              <div class=\"train-schedule_from\">\n                <h4 class=\"train-schedule_time\">{(new Date(info.from.datetime * 1000)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</h4>\n                <div class=\"train-schedule_city\">{info.from.city.name}</div>\n                <div class=\"train-schedule_station\">{info.from.railway_station_name}</div>\n              </div>\n              <div class=\"train-schedule_travel-arrow\">\n                {showTravelTime ? <span>{travelTimeHours} ч {travelTimeMinutes} мин</span> : null}\n                <i class=\"material-icons\">arrow_forward</i>\n              </div>\n              <div class=\"train-schedule_to\">\n                <h4 class=\"train-schedule_time\">{(new Date(info.to.datetime * 1000)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</h4>\n                <div class=\"train-schedule_city\">{info.to.city.name}</div>\n                <div class=\"train-schedule_station\">{info.to.railway_station_name}</div>\n              </div>\n            </div>\n         </div>\n\n  )\n}\n\nexport {TrainSchedule}","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport { isNull } from 'util';\nimport { TrainSchedule } from './TrainSchedule';\n\n\nconst TrainCard = (props) => {\n  /* console.log('TRAIN CARD PROPS: ', props); */\n  const {departure} = props;\n          \n  return (\n    <div class=\"train\">\n         <div class=\"train-info\">\n           <div class=\"train-icon\"></div>\n           <h4 class=\"train-info_number\">{departure.train.name}</h4>\n           <div class=\"train-info_destination\">\n             <div class=\"train-info_name\">{departure.from.city.name}</div>\n             <div class=\"train-info_name\">{departure.to.city.name}</div>\n           </div>\n         </div>\n\n        <TrainSchedule info={departure} showTravelTime />\n\n         <div class=\"train-seats\">\n            <ul class=\"train-seats_list\">\n              {departure.have_fourth_class ?  \n                <li >\n                  <span class=\"train-seats_type\">Сидячий</span>\n                  <span class=\"train-seats_amount\">{departure.available_seats_info.fourth}</span>\n                  <span class=\"train-seats_price\">{departure.price_info.fourth.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_third_class ?  \n                <li >\n                  <span class=\"train-seats_type\">Плацкарт</span>\n                  <span class=\"train-seats_amount\">{departure.available_seats_info.third}</span>\n                  <span class=\"train-seats_price\">{departure.price_info.third.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_second_class ?  \n                <li >\n                  <span class=\"train-seats_type\">Купе</span>\n                  <span class=\"train-seats_amount\">{departure.available_seats_info.second}</span>\n                  <span class=\"train-seats_price\">{departure.price_info.second.top_price}</span>\n                </li> :\n                null\n              }\n              {departure.have_first_class ?  \n                <li >\n                  <span class=\"train-seats_type\">Люкс</span>\n                  <span class=\"train-seats_amount\">{departure.available_seats_info.first}</span>\n                  <span class=\"train-seats_price\">{departure.price_info.first.top_price}</span>\n                </li> :\n                null\n              }\n              </ul>\n\n            <div>\n              <div class=\"train-seats_icons\">\n                {departure.have_wifi ? <span title=\"Есть wi-fi\"><i class=\"fas fa-wifi\"></i></span> : null}\n                {departure.have_air_conditioning ? <span title=\"Есть кондиционер\"><i class=\"far fa-snowflake\"></i></span> : null}\n               {/*  <span><i class=\"material-icons\">free_breakfast</i></span> */}\n                {departure.is_express ? <span title=\"Экспресс\"><span class=\"rocket\"></span></span> : null}\n              </div>\n              <div class=\"train-seats_button-container\">\n                <Link className=\"train-seats_button\" to='/seats'  onClick={() => props.setCurrentTrain(departure)}>\n                  Выбрать места</Link>\n              </div>\n            </div>\n       </div>\n      </div>\n  )\n}\n\nexport {TrainCard}","import React from 'react';\n\nconst Pagination = (props) => {\n  const {trains, count, limit, currentPage, setCurrentPage} = props;\n  const pages = new Array(Math.ceil(count / limit)).fill('');\n\n  const handleClick = event => {\n    if (!event.target.classList.contains('page')) {\n      return;\n    }\n    if (event.target.classList.contains('page-previous') && currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    } else if (event.target.classList.contains('page-next') && currentPage < pages.length) {\n      setCurrentPage(currentPage + 1);\n    } else if ((currentPage === 1 || currentPage === pages.length) && (event.target.classList.contains('page-previous') || event.target.classList.contains('page-next'))) {\n      return;\n    } else {\n      setCurrentPage(+event.target.textContent)\n    }\n  }\n  return count > 0 && trains.length > 0 ? (\n    <div class=\"pagination\" onClick={handleClick}>\n      {count > 1 && <i class=\"fas fa-chevron-left page page-previous\"></i>}\n      <ul>\n        {pages.map((p, i) => <li  class={currentPage === i + 1 ? \"page page-current\" : \"page\"}>{i + 1}</li>)}\n      </ul>\n      {count > 1 && <i class=\"fas fa-chevron-right page page-next\"></i>}\n    </div>\n  ) : null;\n}\n\nexport {Pagination}","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport {TrainpickerForm} from './TrainpickerForm'\nimport {ProgressSteps} from './ProgressSteps'\nimport { FiltersForm } from './FiltersForm';\nimport { LastTickets } from './LastTickets'\nimport { TrainCard } from './TrainCard';\nimport { Pagination } from './Pagination'; \n\nimport {ApiServiceContext} from './context';\n\n\n\nconst SearchPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const {trains, setTrains} = props;\nconsole.log(trains);\n\n  const params = props.searchParams || JSON.parse(sessionStorage.searchParams);\n\n  const [showNotice, setShowNotice] = useState(false);\n  const [count, setCount] = useState(0);\n  const [sortBy, setSortBy] = useState('duration');\n  const [limit, setLimit] = useState(5);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const [cost, setCost] = useState({from: 500, to: 7000});\n  const [departureTime, setDepartureTime] = useState({from: 0, to: 24});\n  const [arrivalTime, setArrivalTime] = useState({from: 0, to: 24});\n  const [first, setFirst] = useState(false);\n  const [second, setSecond] = useState(false);\n  const [third, setThird] = useState(false);\n  const [fourth, setFourth] = useState(false);\n  const [express, setExpress] = useState(false);\n  const [wifi, setWifi] = useState(false);\n\n  const update = (filters) => {\n    params.filters = filters; \n\n    api.getRoutes(params, sortBy, limit, offset)\n    .then(response => {\n        sessionStorage.trains = JSON.stringify(response.items);\n        const count = response.items.length === 0 ? 0 : response.total_count;\n        setCount(count);\n        setTrains(response.items);\n        if (response.items.length === 0) {\n          setShowNotice(true);\n        } \n      }\n    );\n\n  }\n\n/*   const handleTime = (departureTime, arrivalTime) => {\n    console.log(trains);\n\n    const isInTimeRange = train => {\n      const trainDeparture = (new Date(train.departure.from.datetime * 1000)).getHours();\n      const trainArrival = (new Date(train.departure.to.datetime * 1000)).getHours();\n      \n      console.log(trainDeparture, trainArrival);\n      return trainDeparture >= departureTime.from && trainDeparture <= departureTime.to;\n    }\n    //isInTimeRange(trains[0]);\n    let sortedTrains = trains.filter(isInTimeRange);\n    \n    console.log(sortedTrains)\n    //setTrains(sortedTrains);\n  } */\n\n  useEffect(() => {\n    update();\n  }, [params.from.name, params.to.name, sortBy, limit, offset]);\n\n  const handleSortBy = event => {\n    const list = event.currentTarget;\n    const item = event.target;\n    list.classList.toggle('sort_list-open');\n    Array.from(list.children).forEach(el => el.classList.remove('sort-by-current'));\n    item.classList.add('sort-by-current');\n    setSortBy(item.dataset.sort);\n    setCurrentPage(1);\n  }\n  \n  const handleLimit = event => {\n    if (!event.target.classList.contains('limit-by')) {\n      return;\n    }\n    const list = event.currentTarget;\n    const item = event.target;\n    Array.from(list.children).forEach(el => el.classList.remove('limit-by-current'));\n    item.classList.add('limit-by-current');\n    setLimit(item.dataset.limit);\n    setCurrentPage(1);\n  }\n\n  const setPage = (page) => {\n    setOffset(limit * (page - 1));\n    setCurrentPage(page);\n  }\n\n  return  (\n    <Fragment>\n      <section class=\"columns\">\n        <div class=\"col-left\">\n          <FiltersForm {...props}\n            /* handleTime={handleTime} */\n            update={update}\n            />\n          <LastTickets />\n        </div>\n        <div class=\"col-right\">\n          <div class=\"results-display\">\n            <div class=\"trains-count\">\n              <span class=\"results-option\">Найдено</span>\n              <span>{count}</span>\n            </div>\n            <div class=\"sort\">\n              <span class=\"results-option\">сортировать по:</span>\n              <ul onClick={handleSortBy} class=\"sort_list\">\n                <li class=\"sort-by\" data-sort=\"date\">отправлению</li>\n                <li class=\"sort-by sort-by-current\" data-sort=\"duration\">длительности</li>\n              </ul>\n            </div>\n            <div class=\"limit\">\n              <span class=\"results-option\">показывать по:</span>\n              <ul class=\"limit_list\" onClick={handleLimit}>\n                <li class=\"limit-by limit-by-current\" data-limit={5}>5</li>\n                <li class=\"limit-by\" data-limit={10}>10</li>\n                <li class=\"limit-by\" data-limit={20}>20</li>\n              </ul>\n            </div>\n          </div>\n          {trains.length > 0 ? \n            trains.map(train => <TrainCard \n                                departure={train.departure} \n                                currentTrain={props.currentTrain} \n                                setCurrentTrain={props.setCurrentTrain}/>) :\n            showNotice ? <div class=\"not-found-notice\">К сожалению, ничего не найдено. Попробуйте изменить параметры поиска.</div> : <div class=\"loader\"><div class=\"loader_image\"></div></div>\n          }\n\n          <Pagination \n              trains={trains}\n              count={count} \n              limit={limit} \n              currentPage={currentPage}\n              setCurrentPage={setPage}/> \n        </div>\n      </section>\n    </Fragment>\n  )\n  \n}\n\nexport {SearchPage}\n","import React from 'react';\nimport { TrainSchedule } from './TrainSchedule';\n\nconst CurrentTrain = ({info}) => {\n  const travelTimeHours = Math.floor(info.duration / 18000);\n  const travelTimeMinutes = Math.floor((info.duration / 18000) % 1 * 60);\n\n  return (\n    <div class=\"current-train\">\n        <div class=\"train-icon\"></div>\n        <div class=\"train-info\">\n          <h4 class=\"train-info_number\">{info.train.name}</h4>\n          <div>\n            <div class=\"train-info_name\">{info.from.city.name}</div>\n            <div class=\"train-info_name\">{info.to.city.name}</div>\n          </div>\n          </div>\n      \n      <TrainSchedule info={info} showTravelTime={false}/>\n      \n     <div class=\"current-train_travel-time\">\n        <div class=\"travel-time_icon\"></div>\n        <div class=\"travel-time_text\">\n          <div class=\"hours\">{travelTimeHours} ч</div>\n          <div class=\"hours\">{travelTimeMinutes} мин</div>\n        </div>\n     </div>\n    </div>\n  )\n}\n\n\nexport {CurrentTrain};","import React, { useState } from 'react'\n\nconst TicketsNumber = ({passengers, setAdultSeats, setChildrenSeats, setChildrenWithoutSeats}) => {\n  const [totalPassengers, setTotalPassengers] = useState(passengers.adults + passengers.children);\n  const handleChange = event => {\n    const type = event.currentTarget.dataset.name;\n\n    const op = (value) => {\n      if (event.currentTarget.dataset.op === \"inc\") {\n        return value + 1;\n      }\n      return value - 1;\n    } \n\n    switch (type) {\n      case \"children\":\n        if (totalPassengers <= 4) {\n          setChildrenSeats(op(passengers.children));\n        }\n        break;\n      case \"childrenwithoutSeats\":\n          if (totalPassengers <= 4) {\n        setChildrenWithoutSeats(op(passengers.childrenWithoutSeats));\n          }\n        break;\n      case \"adults\":\n        setAdultSeats(op(passengers.adults));\n        break;\n      default:\n        return;\n    }\n  }\n  return (\n    <div class=\"tickets-number\">\n      <h2>Количество билетов</h2>\n      <form class=\"tickets-number_boxes\">\n        <div class=\"tickets-number_box\">\n          <div class=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">Взрослых:</div> \n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"adults\" onClick={handleChange}>–</span>\n            <span className=\"tickets-number_counter\">{passengers.adults}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"adults\" onClick={handleChange}>+</span>\n          </div>\n          <div class=\"tickets-number_hint\">\n            {4 - passengers.adults - passengers.children > 0 ? \n            `Можно добавить еще ${4 - passengers.adults - passengers.children} пассажиров` :\n            \"В одном заказе можно оформить не больше 4 билетов\"\n            }\n            </div>\n        </div>\n\n        <div class=\"tickets-number_box\">\n          <div class=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">Детских: </div>\n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"children\" onClick={handleChange}>–</span>\n            <span className=\"tickets-number_counter\">{passengers.children}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"children\" onClick={handleChange}>+</span>\n          </div>\n          <div class=\"tickets-number_hint\">\n            {4 - passengers.adults - passengers.children > 0 ? \n              `Можно добавить еще ${4 - passengers.adults - passengers.children} детей до 10 лет` :\n              \"4 билета уже выбрано\"\n            }\n          </div>\n        </div>\n\n        {/* <div class=\"tickets-number_box\">\n          <div class=\"tickets-number_count\">\n            <div className=\"tickets-number_title\">Детских без места: </div>\n            <span className=\"tickets-number_control dec\" data-op=\"dec\" data-name=\"childrenWithoutSeats\" onClick={handleChange}>–</span>\n            <span className=\"tickets-number_counter\">{passengers.childrenWithoutSeats}</span>\n            <span className=\"tickets-number_control inc\" data-op=\"inc\" data-name=\"childrenWithoutSeats\" onClick={handleChange}>+</span>\n          </div>\n          <div class=\"tickets-number_hint\">С одним взрослым пассажиром может поехать только один ребенок без места\n          Ребенок едет на одном месте со взрослым, зато бесплатно </div>\n        </div> */}\n      </form>\n    </div>\n  )\n}\n\nexport {TicketsNumber}","import React, { Fragment, useEffect, useState } from 'react';\nimport { is } from 'date-fns/esm/locale';\n\nconst CarType = (props) => {\n  const {currentType, coaches, setCurrentType, currentCoach, setCurrentCoach} = props;\n\n  const isActive = item => item === currentType ? \"car-type_item-active\" : '';\n  const getCoachName = (name) => {\n    return name.match(/\\d/g);\n  }\n  const handleTypeChange = event => {\n    if (currentType !== event.currentTarget.dataset.type) {\n      setCurrentType(event.currentTarget.dataset.type);\n    }\n    //setCurrentCoach(coaches[0]);\n  }\n\n  const [activeCoach, setActiveCoach] = useState(coaches[0]);\n\n  useEffect(() => {\n    setCurrentCoach(coaches[0]);\n  }, [currentType]);\n\n  return (\n    <div class=\"car-type\">\n      <h2>Тип вагона</h2>\n      <ul class=\"car-type_icons\">\n        {<li onClick={handleTypeChange} data-type=\"fourth\" class={\"car-type_item car-type_item-fourth-class \" + isActive('fourth') }>Сидячий</li>}\n        <li onClick={handleTypeChange} data-type=\"third\" class={\"car-type_item car-type_item-third-class \" + isActive('third')}>Плацкарт</li>\n        <li onClick={handleTypeChange} data-type=\"second\" class={\"car-type_item car-type_item-second-class \" + isActive('second')}>Купе</li>\n        <li onClick={handleTypeChange} data-type=\"first\" class={\"car-type_item car-type_item-first-class \" + isActive('first')}>Люкс</li>\n      </ul>\n\n  {coaches.length > 0 && currentCoach ? ( \n    <Fragment>\n        <div class=\"car-number_switch\">\n    Вагоны: \n    <ul class=\"car-number_list\">\n      {coaches.map((el, i) => (\n        <li \n          key={i} \n          class={el.coach.name === currentCoach.coach.name ? \"current-car-number\" : \"\"} \n          onClick={() => setCurrentCoach(el)}>\n            {getCoachName(el.coach.name)}\n          </li>)\n      )}\n    </ul>\n    <span>Нумерация вагонов начинается с головы поезда</span>\n  </div>\n\n      <div class=\"car-main\">\n        <div class=\"car-number\">\n          <h2>{getCoachName(currentCoach.coach.name)}</h2>\n          <span>вагон</span>\n        </div>\n        <div class=\"seats-info\">\n          <div>\n            <span class=\"seats-info_title\">Места:</span>\n            {currentType === \"second\" || currentType === \"third\" ? \n            <Fragment>\n              <span>Верхние</span>\n              <span>Нижние</span> \n            </Fragment> :\n            currentType === \"first\" ? \n              <Fragment>\n                <span>Нижние</span>\n                <span></span> \n              </Fragment> : \n              <Fragment>\n                <span>Сидячие</span>\n                <span></span> \n              </Fragment>\n            }\n          </div>\n          <div>\n            <span class=\"seats-info_title\">Стоимость</span>\n            {currentType === \"second\" || currentType === \"third\" ? \n            <Fragment>\n              <span class=\"seats-info_price\">{currentCoach.coach.top_price}</span>\n              <span class=\"seats-info_price\">{currentCoach.coach.bottom_price}</span>\n            </Fragment> :\n            <Fragment>\n              <span class=\"seats-info_price\">{currentCoach.coach.top_price}</span>\n              <span></span>\n            </Fragment>\n            }\n          </div>\n          <div>\n            <span class=\"seats-info_title\">Обслуживание</span>\n            <ul class=\"seats-info_services\">\n              {currentCoach.coach.have_air_conditioning ? <li class=\"seats-info_service seats-info_service-air\"><span></span></li> : null}\n              {currentCoach.coach.have_wifi ? <li class=\"seats-info_service seats-info_service-wifi\"><span></span></li> : null}\n              {currentCoach.coach.is_linens_included ? <li class=\"seats-info_service seats-info_service-linens\"><span></span></li> : null}\n              <li class=\"seats-info_service seats-info_service-food\"><span></span></li>\n            </ul>\n          </div>\n        </div>\n</div>\n</Fragment>) : <div class=\"car-number_switch\">В этом поезде нет мест выбранного типа</div>}\n</div>\n  )\n}\n\nexport {CarType}","import React, { useEffect } from 'react';\n\nconst CarScheme = (props) => {\n  let Car;\n/*   console.log('CAR SCHEME props: ', props); */\n  const {type, coach, passengers, chosen, setChosen, cancelChosen, setTotalPrice, topPrice, bottomPrice, sidePrice} = props;\n\n  let price; \n  const getFirstClassPrice = () => bottomPrice;\n  const getSecondClassPrice = seat => seat % 2 === 0 ? topPrice : bottomPrice;\n  const getThirdClassPrice = seat => seat > 36 ? sidePrice : getSecondClassPrice(seat);\n  const getFourthClassPrice = () => bottomPrice;\n\n  switch (type) {\n    case \"first\":\n      Car = FirstClassScheme;\n      price = getFirstClassPrice;\n      break;\n    case \"second\":\n      Car = SecondClassScheme;\n      price = getSecondClassPrice; \n      break;\n    case \"third\":\n      Car = ThirdClassScheme;\n      price = getThirdClassPrice;\n      break;\n    case \"fourth\":\n      Car = FourthClassScheme;\n      price = getFourthClassPrice;\n      break;\n    default:\n      return;\n  }\n\n  useEffect(() => {\n    const seats = document.querySelectorAll('.scheme_seat');\n    console.log('EFFECT');\n    if (chosen.length === passengers) {\n      seats.forEach(el => {\n        if (el.classList.contains('scheme_seat-free') && !el.classList.contains('scheme_seat-chosen')) {\n          el.classList.add('scheme_seat-inactive') \n        }\n      });\n    } else {\n      seats.forEach(el => el.classList.remove('scheme_seat-inactive'))\n    }\n  }, [chosen, passengers]);\n\n\n  const handleClick = event => {\n    if (!event.target.classList.contains('scheme_seat') || !event.target.classList.contains('scheme_seat-free')) {\n      return;\n    }\n    const seat = event.target;\n    const seatId = +seat.textContent;\n    console.log('CLICK');\n    if (seat.classList.contains('scheme_seat-chosen')) {\n      seat.classList.remove('scheme_seat-chosen');\n      cancelChosen(seatId);\n      setTotalPrice(-price(seatId));\n    } else if (seat.classList.contains('scheme_seat-free') && chosen.length < passengers) {\n        event.target.classList.add('scheme_seat-chosen');\n        setChosen(seatId);\n        setTotalPrice(price(seatId));\n    }\n  }\n\n  const getCoachName = (name) => {\n    return name.match(/\\d/g);\n  }\n\n  return (\n    <div class=\"car-scheme\">\n      <div class=\"car-hint\">{type === \"second\" || type === \"third\" ? \"Нижние - нечетные, верхние - четные\" : \"В один заказ можно добавить не более 4 мест\"}</div>\n      <div class=\"scheme_car-number\" title=\"Номер вагона\">\n        <span>{getCoachName(coach.coach.name)}</span>\n      </div>\n      <div class=\"scheme\" onClick={handleClick}>\n        <Car />\n      </div>\n      \n    </div>\n  )\n}\n\nexport {CarScheme};\n\n\nconst FirstClassScheme = () => {\n//const {availableSeats, coachId} = props;\n/*   const totalSections = (new Array(8)).fill('');\n  const getRandom = () => {\n    let random = Math.random()*100;\n    if (random > 16) {\n      return Math.round(random / 10);\n    } else if (random === 0) {\n      return getRandom();\n    }\n    return Math.round(random);\n  }\n  const free = [];\n  useEffect(() => {\n    while (free.length < availableSeats) {\n      const seat = getRandom();\n      if (!free.find(el => el === seat)) {\n        free.push(seat);\n      }\n    }\n  }, [availableSeats, coachId]); */\n  \n  //let i = 1;\n\n  return (\n    <div class=\"scheme_train-first-class\" >\n      <div class=\"scheme_room\"> \n        <div class=\"scheme_seat scheme_seat-free\">1</div>\n        <div class=\"scheme_seat\">2</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat\">3</div>\n        <div class=\"scheme_seat\">4</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat\">5</div>\n        <div class=\"scheme_seat\">6</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat\">7</div>\n        <div class=\"scheme_seat\">8</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat\">9</div>\n        <div class=\"scheme_seat scheme_seat-free\">10</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat\">11</div>\n        <div class=\"scheme_seat\">12</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat\">13</div>\n        <div class=\"scheme_seat\">14</div>\n      </div>\n      <div class=\"scheme_room\">\n        <div class=\"scheme_seat scheme_seat-free\">15</div>\n        <div class=\"scheme_seat scheme_seat-free\">16</div>\n      </div> \n    </div>\n  )\n}\n\nconst SecondClassScheme = () => {\n  return (\n    <div class=\"scheme_train-second-class\" > \n      <div class=\"scheme_room\"> \n        <div>\n          <div class=\"scheme_seat scheme_seat-free\">1</div>\n          <div class=\"scheme_seat\">2</div>\n        </div>\n      <div>\n        <div class=\"scheme_seat scheme_seat-free\">3</div>\n        <div class=\"scheme_seat\">4</div>\n      </div>\n      </div>\n    <div class=\"scheme_room\">\n      <div>\n        <div class=\"scheme_seat\">5</div>\n        <div class=\"scheme_seat\">6</div>\n      </div>\n      <div>\n        <div class=\"scheme_seat\">7</div>\n        <div class=\"scheme_seat\">8</div>\n      </div>\n    </div>\n    <div class=\"scheme_room\">\n      <div>\n        <div class=\"scheme_seat\">9</div>\n        <div class=\"scheme_seat\">10</div>\n      </div>\n      <div>\n        <div class=\"scheme_seat scheme_seat-free\">11</div>\n        <div class=\"scheme_seat\">12</div>\n      </div>\n    </div>\n    <div class=\"scheme_room\"> \n      <div>\n        <div class=\"scheme_seat scheme_seat-free\">13</div>\n        <div class=\"scheme_seat\">14</div>\n      </div>\n      <div>\n          <div class=\"scheme_seat scheme_seat-free\">15</div>\n        <div class=\"scheme_seat\">16</div>\n      </div>\n    </div>\n    <div class=\"scheme_room\">\n      <div>\n        <div class=\"scheme_seat\">17</div>\n        <div class=\"scheme_seat scheme_seat-free\">18</div>\n      </div>\n      <div>\n        <div class=\"scheme_seat scheme_seat-free\">19</div>\n        <div class=\"scheme_seat\">20</div>\n      </div>\n    </div>\n    <div class=\"scheme_room\">\n        <div>\n            <div class=\"scheme_seat\">21</div>\n            <div class=\"scheme_seat scheme_seat-free\">22</div>\n          </div>\n          <div>\n            <div class=\"scheme_seat scheme_seat-free\">23</div>\n            <div class=\"scheme_seat\">24</div>\n          </div>\n      </div>\n    <div class=\"scheme_room\">\n      <div>\n        <div class=\"scheme_seat\">25</div>\n        <div class=\"scheme_seat\">26</div>\n      </div>\n      <div>\n        <div class=\"scheme_seat scheme_seat-free\">27</div>\n        <div class=\"scheme_seat\">28</div>\n      </div>\n    </div>\n    <div class=\"scheme_room\">\n      <div>\n        <div class=\"scheme_seat\">29</div>\n        <div class=\"scheme_seat scheme_seat-free\">30</div>\n      </div>\n      <div>\n        <div class=\"scheme_seat scheme_seat-free\">31</div>\n        <div class=\"scheme_seat scheme_seat-free\">32</div>\n      </div>\n    </div>\n    </div>\n  )\n}\n\nconst ThirdClassScheme = () => {\n  return (\n    <div class=\"scheme_train-third-class\">\n      <SecondClassScheme />\n      <div class=\"scheme_train-side\">\n        <div>\n          <div class=\"scheme_seat scheme_seat-free\">33</div>\n          <div class=\"scheme_seat\">34</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat\">35</div>\n          <div class=\"scheme_seat\">36</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat scheme_seat-free\">37</div>\n          <div class=\"scheme_seat scheme_seat-free\">38</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat scheme_seat-free\">39</div>\n          <div class=\"scheme_seat\">40</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat\">41</div>\n          <div class=\"scheme_seat\">42</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat\">43</div>\n          <div class=\"scheme_seat scheme_seat-free\">44</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat\">45</div>\n          <div class=\"scheme_seat scheme_seat-free\">46</div>\n        </div>\n        <div>\n          <div class=\"scheme_seat scheme_seat-free\">47</div>\n          <div class=\"scheme_seat scheme_seat-free\">48</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst FourthClassScheme = () => {\n  return (\n    <div class=\"scheme_train-fourth-class\" >\n      <div class=\"scheme_row\">\n        <div class=\"scheme_seat scheme_seat-free\">1</div>\n        <div class=\"scheme_seat\">2</div>\n        <div class=\"scheme_seat\">3</div>\n        <div class=\"scheme_seat scheme_seat-free\">4</div>\n        <div class=\"scheme_seat scheme_seat-free\">5</div>\n        <div class=\"scheme_seat scheme_seat-free\">6</div>\n        <div class=\"scheme_seat scheme_seat-free\">7</div>\n        <div class=\"scheme_seat\">8</div>\n        <div class=\"scheme_seat\">9</div>\n        <div class=\"scheme_seat\">10</div>\n        <div class=\"scheme_seat\">11</div>\n        <div class=\"scheme_seat scheme_seat-free\">12</div>\n        <div class=\"scheme_seat\">13</div>\n        <div class=\"scheme_seat\">14</div>\n        <div class=\"scheme_seat\">15</div>\n        <div class=\"scheme_seat\">16</div>\n        <div class=\"scheme_seat\">17</div>\n        <div class=\"scheme_seat\">18</div>\n        <div class=\"scheme_seat\">19</div>\n        <div class=\"scheme_seat\">20</div>\n        <div class=\"scheme_seat scheme_seat-free\">21</div>\n        <div class=\"scheme_seat\">22</div>\n        <div class=\"scheme_seat\">23</div>\n        <div class=\"scheme_seat scheme_seat-free\">24</div>\n        <div class=\"scheme_seat scheme_seat-free\">25</div>\n        <div class=\"scheme_seat\">26</div>\n        <div class=\"scheme_seat\">27</div>\n        <div class=\"scheme_seat\">28</div>\n        <div class=\"scheme_seat\">29</div>\n        <div class=\"scheme_seat\">30</div>\n        <div class=\"scheme_seat scheme_seat-free\">31</div>\n        <div class=\"scheme_seat scheme_seat-free\">32</div>\n      </div>\n\n      <div class=\"scheme_row scheme_row-second\">\n        <div class=\"scheme_seat\">33</div>\n        <div class=\"scheme_seat\">34</div>\n        <div class=\"scheme_seat\">35</div>\n        <div class=\"scheme_seat scheme_seat-free\">36</div>\n        <div class=\"scheme_seat scheme_seat-free\">37</div>\n        <div class=\"scheme_seat scheme_seat-free\">38</div>\n        <div class=\"scheme_seat\">39</div>\n        <div class=\"scheme_seat\">40</div>\n        <div class=\"scheme_seat\">41</div>\n        <div class=\"scheme_seat\">42</div>\n        <div class=\"scheme_seat scheme_seat-free\">43</div>\n        <div class=\"scheme_seat scheme_seat-free\">44</div>\n        <div class=\"scheme_seat scheme_seat-free\">45</div>\n        <div class=\"scheme_seat scheme_seat-free\">46</div>\n        <div class=\"scheme_seat\">47</div>\n        <div class=\"scheme_seat\">48</div>\n        <div class=\"scheme_seat scheme_seat-free\">49</div>\n        <div class=\"scheme_seat scheme_seat-free\">50</div>\n        <div class=\"scheme_seat\">51</div>\n        <div class=\"scheme_seat\">52</div>\n        <div class=\"scheme_seat\">53</div>\n        <div class=\"scheme_seat\">54</div>\n        <div class=\"scheme_seat scheme_seat-free\">55</div>\n        <div class=\"scheme_seat\">56</div>\n        <div class=\"scheme_seat scheme_seat-free\">57</div>\n        <div class=\"scheme_seat scheme_seat-free\">58</div>\n        <div class=\"scheme_seat\">59</div>\n        <div class=\"scheme_seat scheme_seat-free\">60</div>\n        <div class=\"scheme_seat\">61</div>\n        <div class=\"scheme_seat scheme_seat-free\">62</div>\n      </div>\n    </div>\n  )\n}","import React, { Fragment, useContext, useState, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { CurrentTrain } from './CurrentTrain';\nimport { TicketsNumber } from './TicketsNumber'\nimport { CarType } from './CarType';\nimport { CarScheme } from './CarScheme';\nimport {ApiServiceContext} from './context'\n\nconst SeatsPage = (props) => {\n  /* console.log(props); */\n  const api = useContext(ApiServiceContext);\n  const [data, setData] = useState([]);\n  const [coaches, setCoaches] = useState([]);\n  const [chosen, setChosen] = useState([]);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [currentType, setCurrentType] = useState('');\n  const [currentCoach, setCurrentCoach] = useState('');\n  const [adultSeats, setAdultSeats] = useState(1);\n  const [childrenSeats, setChildrenSeats] = useState(0);\n\n\n  const currentTrain = props.currentTrain || JSON.parse(sessionStorage.currentTrain);\n  const id = currentTrain['_id'];\n  \n  useEffect(() => {\n      api.getSeats(id)\n        .then(response => {\n          setData(response);\n          setCurrentType(response[0].coach.class_type);\n          setCoaches(response.filter(el => el.coach.class_type === response[0].coach.class_type));\n          setCurrentCoach(response[0])\n          sessionStorage.trainId = id;\n          /* console.log(response); */\n        })\n    \n}, [id]);\n  return currentType &&  data ? (\n    \n    <div style={{\"margin\": \"auto\", \"width\": \"830px\"}}>\n    <div class=\"seats-choice\" >\n      <div class=\"change-train change-train-to\">\n        <span class=\"change-train_arrow\">\n            <i class=\"material-icons\">arrow_forward</i>\n        </span>\n        <Link to=\"/search\" class=\"change-train_button\">Выбрать другой поезд</Link>\n      </div>\n\n      <CurrentTrain info={currentTrain} />\n      <TicketsNumber \n        passengers={{adults: adultSeats, children: childrenSeats}}\n        setAdultSeats={seats => setAdultSeats(seats)}\n        setChildrenSeats={seats => setChildrenSeats(seats)}\n         />\n      <CarType \n        coaches={data.filter(el => el.coach.class_type === currentType)} \n        currentType={currentType} \n        currentCoach={currentCoach}\n        setCurrentType={type => {\n          setCurrentType(type);\n          setChosen([]);\n          setTotalPrice(0);\n        }}\n        setCurrentCoach={coach => setCurrentCoach(coach)}/>\n      {currentCoach && <CarScheme \n        passengers={adultSeats + childrenSeats}\n        type={currentType} \n        coach={currentCoach}\n        topPrice={currentCoach.coach.top_price}\n        bottomPrice={currentCoach.coach.bottom_price}\n        sidePrice={currentCoach.coach.side_price}\n        chosen={chosen}\n        setChosen={seat => {\n          const chosenSeats = chosen.slice();\n          chosenSeats.push(seat);\n          setChosen(chosenSeats);\n        }}\n        cancelChosen={seat => {\n          const chosenSeats = chosen.slice();\n          const seatToCancel = chosenSeats.findIndex(el => el.index === seat.index);\n          chosenSeats.splice(seatToCancel, 1);\n          setChosen(chosenSeats);\n        }}\n        setTotalPrice={price => setTotalPrice(totalPrice + price)}\n        />}\n      <div class=\"total-price\">{parseInt(totalPrice).toLocaleString()}</div>\n    </div>\n\n    <div class=\"to-order-button-container\">\n      <Link to={{\n        pathname: '/passengers', \n        passengers: {adults: adultSeats, children: childrenSeats},\n        seats: chosen,\n        price: totalPrice\n        }}>\n          <button class=\"to-order-button\" \n            disabled={chosen.length === 0 || adultSeats + childrenSeats !== chosen.length}>Далее</button>\n      </Link>\n    </div>\n    </div>\n    ) : <div class=\"loader\"><div class=\"loader_image\"></div></div>\n  \n}\n\nexport {SeatsPage}","import React from 'react';\nimport { CurrentTrain } from './CurrentTrain';\n\nconst TripDetails = (props) => {\n  const data = JSON.parse(sessionStorage.currentTrain);\n  const travelDate = new Date(sessionStorage.travelDate);\n  return (\n    <div class=\"trip-details\">\n        <h2>Детали поездки</h2>\n        <div class=\"trip-details_to\">\n\n          <div class=\"trip-details_title\">\n            <h3  class=\"trainpicker_label trainpicker_label-to\">Отправление</h3>\n          </div>\n          <div class=\"trip-details_date\">{travelDate.toLocaleDateString()}</div>\n\n          <div class=\"train-details\">\n            <div>\n              <span>№ Поезда</span>\n              <span>Название</span>\n            </div>\n            <div>\n              <span><b>{data.train.name}</b></span>\n              <br/>\n              <span>\n                <b>\n                {data.from.city.name}<br/>\n                {data.to.city.name}\n                </b>\n              </span>\n            </div>\n          </div>\n            \n            <div class=\"time-details\">\n              <div>\n                <span class=\"time-details_time\">{(new Date(data.from.datetime)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</span>\n                <span class=\"time-details_date\">{travelDate.toLocaleDateString()}</span>\n              </div>\n              <div class=\"time-details_arrow\">9:42</div>\n              <div>\n                <span class=\"time-details_time\">{(new Date(data.to.datetime)).toLocaleTimeString('ruRu', {hour: '2-digit', minute: '2-digit'})}</span>\n                <span class=\"time-details_date\">{travelDate.toLocaleDateString()}</span>\n              </div>\n            </div>\n            <div class=\"direction-details\">\n              <div>\n                <span class=\"direction-details_city\">{data.from.city.name}</span>\n                <br/>\n                <span class=\"direction-details_station\">{data.from.railway_station_name}</span>\n              </div>\n              <div>\n                <span class=\"direction-details_city\">{data.to.city.name}</span>\n                <br/>\n                <span class=\"direction-details_station\">{data.from.railway_station_name}</span>\n              </div>\n            </div>\n        </div>{/* <!-- end of trip-details-to --> */}\n        \n          <div class=\"trip-details_passengers\">\n            <div class=\"trip-details_title \">\n              <h3  class=\"trainpicker_label trainpicker_label-passenger\">Пассажиры</h3>\n            </div>\n            <div class=\"train-details passengers-details \">\n              <div>{\"Взрослых: \"}<b>{props.passengers.adults}</b></div>\n              <div>{\"Детей: \"}<b>{props.passengers.children}</b></div>\n              </div>\n          </div>\n\n          <div class=\"trip-details_total\">\n            <span>ИТОГ</span>\n            <span class=\"\">{parseInt(props.price).toLocaleString()}</span>\n          </div>\n       </div> \n       /* <!-- end of trip details --> */\n  )\n}\n\nexport {TripDetails}","import React from 'react'\nimport MaskedInput from 'react-text-mask';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel'\n\nimport FormControl from '@material-ui/core/FormControl';\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core\";\n\n\n\nconst materialTheme = createMuiTheme({\n  overrides: {\n    MuiFormControl: {\n      root: {\n       width: '100%',\n       display: 'block'\n      }\n     }, \n     MuiInput: {\n      underline: {\n        borderRadius: '3px',\n        '&:after': {\n          display: 'none'\n        },\n        '&:before': {\n          display: 'none'\n        },\n        '&:hover': {\n          borderBottom: 'none !important'\n        }\n    \n      }\n     },\n    MuiInputBase: {\n      root: {\n        background: '#fff',\n        'borderRadius': '3px',\n        boxSizing: 'border-box',\n      },\n      /* меняем стили инпута */\n      input: {\n        boxSizing: 'border-box',\n        fontSize: '18px',\n        fontWeight: '100',\n        padding: '3px 0 3px 10px',\n        height: '30px',\n        width: '100%',\n        border: '1px solid #928F94',\n        outline: 'none',\n        borderRadius: '3px',\n          '&$focused': {\n            \"border\": \"none\"\n          }\n      }\n    },\n    MuiOutlinedInput: {\n      root: {\n        'borderRadius': '3px'\n      },\n     /*  '$focused': {\n        border: 'none'\n      }, */\n       notchedOutline: {\n        border: 'none',\n        outline: 'none'\n      }\n    } \n  },\n});\n\n\n\n\nfunction TextMaskCustom(props) {\n  const { inputRef, ...other } = props;\n\n  return (\n    <MaskedInput\n      {...other}\n      ref={ref => {\n        inputRef(ref ? ref.inputElement : null);\n      }}\n      /* mask={['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]} */\n      mask={props.mask}\n      prefix={props.prefix}\n      placeholderChar={'_'}\n      showMask\n    />\n  );\n}\nexport default function FormattedInput(props) {\n\n  const [values, setValues] = React.useState({\n    textmask: '    '\n  });\n\n  const handleChange = name => event => {\n    setValues({\n      ...values,\n      [name]: event.target.value,\n    });\n    props.onChange(event.target.value)\n  };\n\n  return (\n    <MuiThemeProvider theme={materialTheme}>\n      <FormControl>\n        <Input\n          value={values.textmask}\n          onChange={handleChange('textmask')}\n          id=\"formatted-text-mask-input\"\n          inputComponent={TextMaskCustom}\n          inputProps={{\n            mask: props.inputmask\n          }}\n        />\n      </FormControl>\n      </MuiThemeProvider>\n  );\n}","import React, { useRef, useState, Fragment, useEffect } from 'react';\nimport {Link} from 'react-router-dom';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport {Datepicker} from './Datepicker'\nconst PassengersPage = (props) => {\n  if (props.location.passengers) {\n    sessionStorage.passengers = JSON.stringify(props.location.passengers);\n    sessionStorage.seats = JSON.stringify(props.location.seats);\n    sessionStorage.price = props.location.price;\n  }\n  const passengers = props.location.passengers || JSON.parse(sessionStorage.passengers);\n  const price = props.location.price || JSON.parse(sessionStorage.price);\n  \n  const [valid, setValid] = useState([]);\n  const [passengersList, setPassengersList] = useState([])\n\n  const savePassengers = passenger => {\n    const passengers = passengersList.slice();\n    passengers.push(passenger);\n    setPassengersList(passengers);\n  }\n  \n  return (\n    <div class=\"columns\">\n      <div class=\"col-left\">\n        <TripDetails passengers={passengers} price={price}/>\n      </div>\n      <div class=\"col-right\">\n        {(new Array(passengers.adults))\n            .fill('')\n            .map((p, i) => <PassengerCard \n                              passenger={i + 1} \n                              open={i > 0 ? false : true} \n                              adult \n                              setValid={(i) => setValid(i)} \n                              valid={valid}\n                              setPassengers={(passenger) => savePassengers(passenger)}/>)}\n\n        {(new Array(passengers.children))\n              .fill('')\n              .map((p, i) => <PassengerCard \n                              passenger={passengers.adults + 1 + i} \n                              open={false} \n                              child \n                              setValid={(i) => setValid(i)} \n                              valid={valid}\n                              setPassengers={(passenger) => savePassengers(passenger)}/>)}\n\n        <Link to='/payment' >\n          <button disabled={valid.length !== passengers.adults + passengers.children}  onClick={() => sessionStorage.passengersList = JSON.stringify(passengersList)} class=\"to-order-button\">Далее</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\n\nconst PassengerCard = ({open, passenger, child, adult, valid, setValid, setPassengers}) => {\n  const [isOpen, setOpen] = useState(open);\n  let formRef = useRef(null);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [dateOfBirth, setDateOfBirth] = useState(null);\n  const [gender, setGender] = useState('мужской');\n  const [disabilities, setDisabilities] = useState(false);\n  const [passport1, setPassport1] = useState('');\n  const [passport2, setPassport2] = useState('');\n  const [certificate, setCertificate] = useState('');\n  const [isPassportChosen, setIsPassportChosen] = useState(adult);\n \n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^А-Яа-яЁё -]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const isNameValid = () => {\n    if (firstName.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"Введите корректное имя!\")\n    }\n    if (lastName.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"Введите корректную фамилию\")\n    }\n    if (patronymic.trim().match(/[ ]{2,}|[-]{2,}|[-\\b]/)) {\n      throw new Error(\"Введите корректное отчество\")\n    }\n  }\n  const isPassportValid = () => {\n\n    if (isPassportChosen) {\n      if (passport1.match(/_/)) {\n        throw new Error (\"Введите 4 цифры серии паспорта\")\n      }\n      if (passport2.match(/_/)) {\n        throw new Error (\"Введите 6 цифр номера паспорта\")\n      }\n    } else {\n      if (certificate.match(/_/)) {\n        throw new Error (\"Введите 12 цифр номера свидетельства о рождении\")\n      }\n    }\n  }\n\n  const isValid = () => {\n    try {\n      isNameValid();\n      isPassportValid();\n    } catch (e) {\n      return <span class=\"error\">{e.message}</span>;\n    }\n    if (!valid.find(el => el === passenger)) {\n      const validated = valid.slice();\n      validated.push(passenger);\n      setValid(validated);\n    }\n    return <span class=\"valid\">Готово!</span>;\n  }\n\n  const isPassportComplete = passport1.replace(/\\s|_/g, '').length === 4 && passport2.replace(/\\s|_/g, '').length === 6;\n\n  const isCertificateComplete = certificate.replace(/\\s|_/g, '').length === 12;\n\n  const isComplete = firstName && lastName && patronymic && (isPassportComplete || isCertificateComplete) && dateOfBirth;\n\n\n  useEffect(() => {\n    if (isComplete) {\n      console.log(\"EFFECT\");\n      setPassengers({\n      name: lastName + \" \" + firstName + \" \" + patronymic,\n      gender: \"Пол \" + gender,\n      dateOfBirth: \"Дата рождения \" + dateOfBirth,\n      document: isPassportChosen ? \n                \"Паспорт РФ \" + passport1.replace(/\\s/g, \"\") + passport2.replace(/\\s/g, \"\") : \n                \"Свидетельство о рождении \" + certificate.replace(/\\s/g, \"\"),\n      adult: adult\n    })\n  }\n  },  [isComplete]);\n \n  if (isOpen) {\n    const today = new Date();\n    const minDate = adult ? new Date(today.setYear(today.getFullYear() - 100)) : new Date(today.setYear(today.getFullYear() - 10));\n    \n    return (\n      <div class=\"passengers-card passengers-card_open\">\n        <div onClick={() => setOpen(!isOpen)} class=\"passengers-card_title\">Пассажир {passenger}</div>\n        <form ref={formRef} action=\"\" class=\"passengers-card_form\">\n        <fieldset>\n          <div class=\"select-container\">\n            <select defaultValue={adult ? \"adult\" : \"child\"} class=\"passengers-card_select\" name=\"\" id=\"\">\n              <option disabled={child} value=\"adult\">Взрослый</option>\n              <option disabled={adult} value=\"child\">Детский</option>\n            </select>\n          </div>\n          <div class=\"personal-details\">\n            <label for=\"last-name\">Фамилия\n              <input value={lastName} onChange={handleInput}  type=\"text\" name=\"last-name\" class=\"passengers-card_last-name\" id=\"\"/>\n            </label>\n            <label for=\"first-name\">Имя\n              <input value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" class=\"passengers-card_name\" id=\"\"/>\n            </label>\n            <label for=\"patronymic\">Отчество\n              <input value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" class=\"passengers-card_patronymic-name\" id=\"\"/>\n            </label>\n          </div>\n          <div>\n            <label class=\"gender_label\" for=\"gender\">Пол <br/>\n              <input onChange={() => setGender(\"мужской\")} defaultChecked value=\"М\" type=\"radio\" class=\"gender\" name=\"gender\" id=\"gender\"/>\n              <input onChange={() => setGender(\"женский\")} value=\"Ж\" type=\"radio\" class=\"gender\" name=\"gender\" id=\"gender\"/>\n            </label>\n            <label class=\"birth-picker\">\n              Дата рождения \n              <Datepicker\n                minDate={minDate}\n                minDateMessage=\"Введите корректную дату рождения\"\n                disableFuture\n                adornment={{style: {display: \"none\"}}} \n                defaultDate={null}\n                onDateSelect={(date) => setDateOfBirth(date.toLocaleDateString())}/>\n            </label>\n          </div>\n          <div class=\"disabilities-check\">\n            <input checked={disabilities} onChange={() => setDisabilities(!disabilities)} type=\"checkbox\" id=\"disabilities\" class=\"disabilities\"/>\n            <label for=\"disabilities\">ограниченная подвижность</label>\n          </div>\n        </fieldset>\n\n        <fieldset>\n          <div>\n            <label class=\"select-label\" for=\"\">\n              Тип документа\n              <select defaultValue={adult ? \"паспорт\" : \"свидетельство\"} onChange={() => setIsPassportChosen(!isPassportChosen)}  name=\"\" id=\"\">\n                <option value=\"паспорт\">Паспорт</option>\n                <option disabled={adult} value=\"свидетельство\">Свидетельство о рождении</option>\n              </select>\n            </label>\n            {adult  ? \n              <Fragment>\n                <label for=\"\">\n                Серия\n                <MaskedInput value={passport1} onChange={value => setPassport1(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n                </label>\n              <label for=\"\">\n                Номер\n                <MaskedInput value={passport2} onChange={value => setPassport2(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n                </label>\n              </Fragment> :\n              <label for=\"\">\n              Номер\n              <MaskedInput value={certificate} onChange={value => setCertificate(value)} inputmask={[/\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/, ' ', /\\d/]}/>\n              </label>\n            }\n          </div>\n        </fieldset>\n\n        <fieldset>\n          {firstName && lastName && patronymic && ((passport1 && passport2) || certificate) && dateOfBirth ? <output class=\"error\">{isValid()}</output> : <output><span class=\"warning\">Пожалуйста, заполните все поля формы!</span></output>}\n          \n        </fieldset>\n      </form>\n      </div>\n    )\n  } else {\n    return (\n      <div class=\"passengers-card \">\n        <div onClick={() => setOpen(!isOpen)}  class=\"passengers-card_title \">Пассажир {passenger}</div>\n      </div>\n    )\n  }\n}\n\nexport {PassengersPage}","import React, { useState } from 'react';\nimport { TripDetails } from './TripDetails';\nimport MaskedInput from './MaskedInput';\nimport { Link } from 'react-router-dom';\n\nconst PaymentPage = (props) => {\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.price);\n\n  const [lastName, setLastName] = useState('');\n  const [firstName, setFirstName] = useState('');\n  const [patronymic, setPatronymic] = useState('');\n  const [phone, setPhone] = useState('');\n  const [email, setEmail] = useState('');\n  const [paymentMethod, setPaymentMethod] = useState('credit-card');\n\n  const handleInput = event => {\n    const value = event.target.value;\n    if (value.match(/[^А-Яа-яЁё]/g)) {\n      return;\n    }\n    switch(event.target.name) {\n      case \"last-name\":\n        setLastName(value);\n        break;\n      case \"first-name\":\n        setFirstName(value);\n        break;\n      case \"patronymic\": \n        setPatronymic(value);\n        break;\n      default: \n        return;\n    }\n  }\n\n  const handleEmail = event => {\n    const value = event.target.value;\n    if (value.match(/[^a-zA-Z0-9,_,-,@,.]/)) {\n      return;\n    }\n    setEmail(value);\n  }\n\n  const handlePayment = event => {\n    setPaymentMethod(event.currentTarget.id);\n  }\n\n  \n  const isEmailValid = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$/.test(email);\n\n  const isPhoneIncomplete = /_/.test(phone);\n  \n  const isNameComplete = firstName && lastName && patronymic;\n  \n  return (\n    <div class=\"columns\">\n      <div class=\"col-left\">\n        <TripDetails passengers={passengers} price={price}/>\n      </div>\n      <div class=\"col-right\">\n      <div class=\"order\">\n        <form class=\"order-details\" id=\"order-details\">\n          <div class=\"order_title\">Персональные данные</div>\n            <fieldset class=\"order_payer\">\n              <div class=\"personal-details\">\n                  <label for=\"last-name\">Фамилия\n                    <input required value={lastName} onChange={handleInput} type=\"text\" name=\"last-name\" class=\"passengers-card_last-name\" id=\"\"/>\n                  </label>\n                  <label for=\"first-name\">Имя\n                    <input required value={firstName} onChange={handleInput} type=\"text\" name=\"first-name\" class=\"passengers-card_name\" id=\"\"/>\n                  </label>\n                  <label for=\"patronymic\">Отчество\n                    <input required value={patronymic} onChange={handleInput} type=\"text\" name=\"patronymic\" class=\"passengers-card_patronymic-name\" id=\"\"/>\n                  </label>\n              </div>\n              <div class=\"contact-details\">\n                  <label for=\"\">Контактный телефон\n                    <MaskedInput  value={phone} onChange={value => setPhone(value)} prefix=\"+7\" inputmask={['+', '7', ' ', '(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/]}/>\n                    {isPhoneIncomplete ? <div style={{color: \"red\"}}>Введите 10 цифр номера телефона без +7 и пробелов в формате 987 654 3210</div> : \"\"}\n                  </label>\n                  <label for=\"\">Email\n                    <input value={email} onChange={handleEmail} type=\"email\" name=\"email\" id=\"\" placeholder=\"email@mail.ru\"/>\n                    {isEmailValid ? \"\" : <div style={{color: \"red\"}}>Введите корректный email в формате email@mail.ru</div>}\n                  </label>\n              </div>\n            </fieldset>\n \n            <div class=\"order_title\">Способ оплаты</div>\n            \n            <fieldset class=\"payment-methods\">\n              <div>\n                <input onChange={handlePayment} defaultChecked type=\"radio\" name=\"payment-method\" id=\"credit-card\"/>\n                <label for=\"credit-card\">Банковской картой\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"paypal\"/>\n                <label for=\"paypal\">PayPal\n                </label>\n\n                <input onChange={handlePayment} type=\"radio\" name=\"payment-method\" id=\"qiwi-wallet\"/>\n                <label for=\"qiwi-wallet\">Visa QIWI Wallet\n                </label>\n              </div>\n            </fieldset>\n        </form>\n\n      </div>\n        <Link to={{ pathname: '/confirmation', paymentMethod: paymentMethod}}>\n          <button onClick={() => sessionStorage.payer = JSON.stringify({\n            first_name: firstName,\n            last_name: lastName,\n            patronymic: patronymic,\n            phone: phone,\n            email: email,\n            payment_method: \"online\"\n            })} class=\"purchase-button\" disabled={!(isEmailValid && !isPhoneIncomplete && isNameComplete)}>Купить билеты</button>\n        </Link>\n      </div>\n    </div>\n    \n  )\n}\n\nexport {PaymentPage}","import React from 'react';\nimport { TripDetails } from './TripDetails';\nimport { TrainCard } from './TrainCard';\nimport { CurrentTrain } from './CurrentTrain';\nimport {Link} from 'react-router-dom';\n\nconst ConfirmationPage = (props) => {\n  const passengersList = JSON.parse(sessionStorage.passengersList);\n  const passengers = JSON.parse(sessionStorage.passengers);\n  const price = JSON.parse(sessionStorage.price);\n  const train = JSON.parse(sessionStorage.currentTrain);\n  \n  \n  const {paymentMethod} = props.location;\n\n  const formatPaymentMethod = () => {\n    switch (paymentMethod) {\n      case \"paypal\": \n        return \"PayPal\";\n      case \"credit-card\":\n        return \"Банковской картой\";\n      case \"qiwi\":\n        return \"Visa QIWI Wallet\";\n      default:\n        return;\n    }\n  }\n  return (\n    <div class=\"columns\">\n      <div class=\"col-left\">\n        <TripDetails passengers={passengers} price={price}/>\n      </div>\n\n      <div class=\"col-right\">\n        <div class=\"confirmation\">\n          <div class=\"order_title\">Поезд</div>\n          <CurrentTrain info={train}/>\n          {/* <TrainCard departure={train} confirmation/> */}\n        </div>\n\n        <div class=\"confirmation\">\n          <div class=\"order_title\">Пассажиры</div>\n          <PassengersList list={passengersList} />\n        </div>\n\n        <div class=\"confirmation\">\n          <div class=\"order_title\">Способ оплаты</div>\n          <div class=\"confirmation_payment\">\n            <div class=\"confirmation_method\">{formatPaymentMethod()}</div>\n            <div class=\"confirmation_price\">\n              <span>Всего:</span>\n              <span>{parseInt(price).toLocaleString()}</span>\n            </div>\n          </div>\n        </div>\n\n        <Link to='/success' >\n          <button class=\"purchase-button\">Подтвердить</button>\n        </Link>\n      </div>\n    </div>\n  )\n}\n\nexport {ConfirmationPage}\n\n\nconst PassengersList = (props) => {\n  const {list} = props;\n  return list.map((el, i) => <PassengersListItem key={i} info={el}/>)\n}\n\nconst PassengersListItem = ({key, info}) => {\n  return (\n    <div class=\"passenger\">\n      <div class=\"passenger-icon\">\n        <div class=\"passenger-icon_img\"></div>\n        <div class=\"passenger-icon_title\">{info.adult ? \"Взрослый\" : \"Детский\"}</div>\n      </div>\n      <div class=\"passenger-info\">\n        <div class=\"passenger-info_name\">{info.name}</div>\n        <div class=\"passenger-info_other\">{info.gender}</div>\n        <div class=\"passenger-info_other\">{info.dateOfBirth}</div>\n        <div class=\"passenger-info_other\">{info.document}</div>\n      </div>\n    </div>\n  )\n}\n\n","import React, { useEffect, useContext, useState } from 'react';\nimport {ApiServiceContext} from './context';\n\n\nconst SuccessPage = (props) => {\n  const api = useContext(ApiServiceContext);\n  const payer = JSON.parse(sessionStorage.payer);\n  const train = JSON.parse(sessionStorage.currentTrain);\n  const passengersList = JSON.parse(sessionStorage.passengersList);\n  const seats = JSON.parse(sessionStorage.seats);\n  const price = parseInt(sessionStorage.price);\n  \n  const order = {\n    user: payer,\n    departure: {\n      route_direction_id: train[\"_id\"],\n      seats: passengersList.map((el, i) => { \n        return {\n          person_info: {\n            is_adult: el.adult,\n            first_name: el.firstName,\n            last_name: el.lastName,\n            patronymic: el.patronymic,\n            gender: el.gender,\n            birthday: el.dateOfBirth,\n            document_type: el.document\n          },\n          seat_number: seats[i]\n        }\n        })\n    }\n  }\n  useEffect(() => {\n    api.createOrder(order)\n      .then(response => console.log(response))\n  }, []);\n\n  return (\n    <div class=\"success\">\n      <h1 class=\"success_title\">Благодарим Вас за заказ!</h1>\n      <div class=\"success_banner\">\n        <div class=\"success_order\">\n          <div class=\"success_id\">№ Заказа 285АА</div>\n          <div class=\"success_price\">{price.toLocaleString()}</div>\n        </div>\n\n        <ul class=\"success_icons\">\n          <li class=\"success_item\">\n            <span class=\"success_icon success_icon-computer\"></span>\n            <span class=\"success_text\">билеты будут отправлены на ваш e-mail</span>\n          </li>\n          <li class=\"success_item\">\n            <span class=\"success_icon success_icon-tickets\"></span>\n            <span class=\"success_text\">распечатайте и сохраняйте билеты до даты поездки</span>\n          </li>\n          <li class=\"success_item\">\n            <span class=\"success_icon success_icon-conductor\"></span>\n            <span class=\"success_text\">предьявите распечатанные билеты при посадке</span>\n          </li>\n        </ul>\n\n        <div class=\"success-info\">\n          <h2 class=\"success-info_title\">{payer.first_name + \" \" + payer.patronymic + \"!\"}</h2>\n          <p>\n            Ваш заказ успешно оформлен. <br/>\n            В ближайшее время с вами свяжется наш оператор для подтверждения.\n          </p>\n          <h3>Благодарим Вас за оказанное доверие и желаем приятного путешествия!</h3>\n        </div>\n\n        <div class=\"rating\">\n          <span class=\"rating_text\">Оценить сервис</span>\n          <Stars />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport { SuccessPage }\n\n\nconst Stars = () => {\n  const starList = (new Array(5)).fill('');\n  const [rating, setRating] = useState(-1);\n  const handleClick = event => {\n    setRating(event.currentTarget.dataset.id);\n  };\n  return (\n    <div class=\"rating_stars\">\n      {starList.map((el, i) => <Star index={i} rating={rating} onClick={handleClick}/>)}\n    </div>\n  )\n}\n\nconst Star = ({index, rating, onClick}) => {\n  const fill = index > rating ? \"none\" : \"#FFFFFF\";\n  return (\n    <svg data-id={index} onClick={onClick} width=\"36\" height=\"34\" viewBox=\"0 0 56 44\" fill={fill} xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M23 3.23607L27.4373 16.8926L27.6618 17.5836H28.3883H42.7477L31.1307 26.0238L30.5429 26.4508L30.7675 27.1418L35.2047 40.7984L23.5878 32.3582L23 31.9311L22.4122 32.3582L10.7953 40.7984L15.2325 27.1418L15.4571 26.4508L14.8693 26.0238L3.25233 17.5836H17.6117H18.3382L18.5627 16.8926L23 3.23607Z\" stroke=\"white\" stroke-width=\"2\"/>\n    </svg>\n  )\n}","import React, { Component, Fragment, useContext, useState } from 'react';\nimport {BrowserRouter, Switch, Route, withRouter} from 'react-router-dom'\n\nimport {Homepage} from './js/Homepage';\nimport {Header } from './js/Header';\nimport {Footer} from './js/Footer';\nimport {SearchPage} from './js/SearchPage';\nimport { SeatsPage } from './js/SeatsPage';\nimport { PassengersPage } from './js/PassengersPage';\nimport { PaymentPage } from './js/PaymentPage';\nimport { ConfirmationPage } from './js/ConfirmationPage';\nimport { SuccessPage } from './js/SuccessPage';\n\nimport { ApiService } from './js/ApiService';\nimport { ApiServiceContext } from './js/context'\n\nconst apiService = new ApiService();\n\nconst App = () => {\n  if (sessionStorage.searchParams === undefined && sessionStorage.currentTrain === undefined) {\n    sessionStorage.searchParams = JSON.stringify({});\n    sessionStorage.currentTrain = JSON.stringify({});\n\n  }\n\n      const HeaderComponent = withRouter(Header);\n\n      const [searchParams, setSearchParams] = useState(JSON.parse(sessionStorage.searchParams));\n      const [currentTrain, setCurrentTrain] = useState(JSON.parse(sessionStorage.currentTrain));\n      const [trains, setTrains] = useState([]);\n\n      const [homapageRefs, setHomepageRefs] = useState({\n        about: 700,\n        how: 1100,\n        reviews: 1700,\n        contacts: 2300\n      })\n\n      return (\n        <BrowserRouter basename={process.env.PUBLIC_URL+'/'}>\n        <ApiServiceContext.Provider value={apiService}>\n          <HeaderComponent \n            homepageRefs={homapageRefs}\n            setSearchParams={params => {\n              setSearchParams(params);\n              sessionStorage.searchParams = JSON.stringify(params);\n            }}/>\n          <Switch>\n            <Route path='/search' \n                   render={props => <SearchPage \n                                      {...props}  \n                                      searchParams={searchParams} \n                                      trains={trains}\n                                      setTrains={trains => setTrains(trains)}\n                                      setCurrentTrain={train => {\n                                        sessionStorage.currentTrain = JSON.stringify(train);\n                                        setCurrentTrain(train);\n                                      }} />}\n                                      />\n            <Route path='/seats' \n                   render={props => <SeatsPage \n                                      {...props} \n                                      currentTrain={currentTrain}/>}\n                                    />\n            <Route path='/payment' component={PaymentPage}/>\n            <Route path='/passengers' component={PassengersPage}/>\n            <Route path='/confirmation' component={ConfirmationPage}/>\n            <Route path='/success' component={SuccessPage}/>\n            <Route path='/' exact render={props => <Homepage {...props} setHomepageRefs={setHomepageRefs}/>} />\n          </Switch>\n          <Footer/>\n          </ApiServiceContext.Provider>\n        </BrowserRouter>\n      )\n\n  }\n\nexport default App;\n\n","import React from 'react'\nimport { withRouter } from 'react-router-dom'\n\nexport const ApiContext = React.createContext();\n\nexport class ApiService {\n  fetchData = async (urlEntity, options = {method: 'GET'}) => {\n    const res = await fetch(`https://netology-trainbooking.herokuapp.com${urlEntity}`, options);\n    if (!res.ok) {\n      throw new Error(`Could not fetch ${urlEntity}, status - ${res.status}`)\n    } \n    return await res.json()\n  }\n  getCities = async (query) => {\n    return await this.fetchData(`/routes/cities?name=${query}`)\n  }\n  getRoutes = async (params, sortBy, limit, offset) => {\n    return await this.fetchData(`/routes?from_city_id=${params.from.id}&to_city_id=${params.to.id}&sort=${sortBy}&limit=${limit}&offset=${offset}&${params.filters || \"?\"}`)\n  }\n  getSeats = async (id) => {\n    return await this.fetchData(`/routes/${id}/seats`)\n  }\n\n  createOrder = async (order) => {\n    return await this.fetchData(`/order`, {\n      method: 'POST',\n      body: JSON.stringify(order)\n    })\n  }\n\n  subscribe = async (email) => {\n    return await this.fetchData(`/subscribe?${email}`, {\n      method: 'POST'\n    })\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport SwitchGroup from './js/CustomSwitch';\nimport {Datepicker } from './js/Datepicker';\nimport MaskedInput from './js/MaskedInput'\n//import CustomSlider from './CustomSlider';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}